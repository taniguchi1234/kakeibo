{"version":3,"file":"joystick-indicator-component.js","sourceRoot":"","sources":["../../../../src/components/dockmanager/docking/joystick-indicator-component.tsx"],"names":[],"mappings":"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","sourcesContent":["import { Component, Element, Host, Prop, h } from '@stencil/core';\r\nimport { Utils } from '../../../utils/utils';\r\n\r\nimport { IgcDropTargetPaneInfo } from '../dockmanager.interfaces';\r\nimport { IgcDockManagerPaneType, IgcDockingIndicatorPosition } from '../dockmanager.public-interfaces';\r\n\r\n/**\r\n * @hidden\r\n */\r\n@Component({\r\n  tag: 'igc-joystick-indicator-component',\r\n  styleUrl: 'joystick-indicator-component.scss',\r\n  shadow: false,\r\n  scoped: true\r\n})\r\nexport class IgcJoystickIndicatorComponent {\r\n  private isDocHost: boolean;\r\n\r\n  @Element() element: HTMLElement;\r\n\r\n  @Prop() dropTargetPaneInfo: IgcDropTargetPaneInfo;\r\n\r\n  @Prop() documentOnlyDrag: boolean;\r\n\r\n  @Prop() allowCenterDock: boolean;\r\n\r\n  private isEmptyCenter(position: IgcDockingIndicatorPosition) {\r\n    return this.documentOnlyDrag\r\n      && position === IgcDockingIndicatorPosition.center\r\n      && this.dropTargetPaneInfo.floatingPaneWithoutDocHost;\r\n  }\r\n\r\n  private isEmptyEdge(position: IgcDockingIndicatorPosition) {\r\n    return this.documentOnlyDrag\r\n      && position !== IgcDockingIndicatorPosition.center\r\n      && this.dropTargetPaneInfo.pane.type === IgcDockManagerPaneType.documentHost;\r\n  }\r\n\r\n  private closestElement(selector: string, el: any): HTMLElement {\r\n    return (\r\n      (el && el.closest(selector)) ||\r\n        this.closestElement(selector, el.getRootNode().host)\r\n    );\r\n  }\r\n \r\n  private shouldAllowCenterDock() {\r\n    let targetPane = this.dropTargetPaneInfo.pane;\r\n    targetPane = targetPane.type === IgcDockManagerPaneType.tabGroupPane && targetPane.selectedIndex > -1 ? targetPane.panes[targetPane.selectedIndex] : targetPane;\r\n    return targetPane.type === IgcDockManagerPaneType.contentPane && targetPane.acceptsInnerDock !== undefined && this.allowCenterDock\r\n            ? targetPane.acceptsInnerDock\r\n            : this.allowCenterDock;\r\n  }\r\n\r\n\r\n  private renderBlankIndicator(position: IgcDockingIndicatorPosition) {\r\n    return (\r\n      <igc-joystick-icon-component\r\n        isDocHost={this.isDocHost}\r\n        position={position}\r\n        direction={Utils.getDirection(this.closestElement('igc-dockmanager', this.element))}\r\n        empty\r\n      />);\r\n  }\r\n\r\n  private renderIndicator(position: IgcDockingIndicatorPosition) {\r\n    return (\r\n      <igc-joystick-icon-component\r\n        isDocHost={this.isDocHost}\r\n        position={position}\r\n        direction={Utils.getDirection(this.closestElement('igc-dockmanager', this.element))}\r\n        empty={this.isEmptyCenter(position) || this.isEmptyEdge(position)}\r\n      />);\r\n  }\r\n\r\n  render() {\r\n    this.isDocHost = !!this.dropTargetPaneInfo.docHost;\r\n\r\n    return (\r\n      <Host\r\n        style={{\r\n          top: `${this.dropTargetPaneInfo.targetRect.y}px`,\r\n          left: `${this.dropTargetPaneInfo.targetRect.x}px`,\r\n          width: `${this.dropTargetPaneInfo.targetRect.width}px`,\r\n          height: `${this.dropTargetPaneInfo.targetRect.height}px`,\r\n        }}\r\n      >\r\n        <div\r\n          class={{\r\n            'indicators-container': true,\r\n            'indicators-container--doc-host': this.isDocHost\r\n          }}\r\n        >\r\n          {this.isDocHost && !this.documentOnlyDrag && this.renderIndicator(IgcDockingIndicatorPosition.outerLeft)}\r\n\r\n          {this.renderIndicator(IgcDockingIndicatorPosition.left)}\r\n\r\n          {this.isDocHost && !this.documentOnlyDrag && this.renderIndicator(IgcDockingIndicatorPosition.outerTop)}\r\n\r\n          {this.renderIndicator(IgcDockingIndicatorPosition.top)}\r\n\r\n          {!this.shouldAllowCenterDock() && this.renderBlankIndicator(IgcDockingIndicatorPosition.center)}\r\n\r\n          {this.shouldAllowCenterDock() && this.renderIndicator(IgcDockingIndicatorPosition.center)}\r\n\r\n          {this.renderIndicator(IgcDockingIndicatorPosition.right)}\r\n\r\n          {this.isDocHost && !this.documentOnlyDrag && this.renderIndicator(IgcDockingIndicatorPosition.outerRight)}\r\n\r\n          {this.renderIndicator(IgcDockingIndicatorPosition.bottom)}\r\n\r\n          {this.isDocHost && !this.documentOnlyDrag && this.renderIndicator(IgcDockingIndicatorPosition.outerBottom)}\r\n        </div>\r\n      </Host>\r\n    );\r\n  }\r\n}\r\n"]}