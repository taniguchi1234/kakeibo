{"version":3,"file":"dockmanager-component.js","sourceRoot":"","sources":["../../../src/components/dockmanager/dockmanager-component.tsx"],"names":[],"mappings":"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;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;CACF","sourcesContent":["import { Component, Element, Event, EventEmitter, Host, Listen, Method, Prop, State, Watch, h } from '@stencil/core';\r\nimport 'igniteui-trial-watermark';\r\n\r\nimport { resourceStringsMap } from '../../utils/locale';\r\nimport { TwoWayMap } from '../../utils/two-way-map';\r\nimport { Utils } from '../../utils/utils';\r\nimport { IgcDragMoveEventArguments, IgcDragResizeEventArguments, IgcDragStartEventArguments } from '../drag-drop/drag.service';\r\n\r\nimport {\r\n  IGC_DEFAULT_PANE_SIZE, IGC_DEFAULT_UNPIN_PANE_SIZE, IgcContextMenuMetadata, IgcContextMenuOrientation, IgcContextMenuPosition, IgcDockManagerComponentBase, IgcDropTargetPaneInfo, IgcPaneNavigatorMetadata, IgcPinBehavior, IgcTabHeadersPosition\r\n} from './dockmanager.interfaces';\r\nimport {\r\n  IgcActivePaneEventArgs,\r\n  IgcContentPane, IgcDockManagerLayout, IgcDockManagerPane, IgcDockManagerPaneType, IgcDockManagerPoint, IgcDockManagerResourceStrings, IgcDockingIndicatorPosition, IgcDocumentHost, IgcFloatingPaneResizeEventArgs,\r\n  IgcFloatingPaneResizeMoveEventArgs, IgcPaneCloseEventArgs, IgcPaneDragEndEventArgs, IgcPaneDragOverEventArgs,\r\n  IgcPaneDragStartEventArgs, IgcPaneHeaderConnectionEventArgs, IgcPaneHeaderElement, IgcPanePinnedEventArgs, IgcSplitPane,\r\n  IgcSplitPaneOrientation, IgcTabGroupPane, IgcTabHeaderConnectionEventArgs, IgcTabHeaderElement, IgcUnpinnedLocation, IgcSplitterResizeEventArgs, IgcPaneScrollEventArgs\r\n} from './dockmanager.public-interfaces';\r\nimport { IgcDockManagerService } from './dockmanager.service';\r\nimport { IgcDockManagerKeyboardService } from './keyboard/keyboard.service';\r\nimport { IgcSplitterComponent } from './panes/splitter-component';\r\n\r\nenum ActionReason {\r\n  click = 'click',\r\n  drop = 'drop',\r\n  maximizeOrMinimize = 'maximizeOrMinimize'\r\n}\r\n\r\nconst PANE_HEADER_HEIGHT = 40;\r\n\r\n/**\r\n * @hidden\r\n */\r\n@Component({\r\n  tag: 'igc-dockmanager',\r\n  styleUrl: 'dockmanager-component.scss',\r\n  shadow: true,\r\n  scoped: false,\r\n})\r\nexport class IgcDockManager implements IgcDockManagerComponentBase {\r\n  private _tabHeaderIconClicked = false;\r\n  private service = new IgcDockManagerService(this);\r\n  private keyboardService = new IgcDockManagerKeyboardService(this.service);\r\n  private panesElementMap: TwoWayMap<IgcDockManagerPane, HTMLElement>;\r\n  private contentPanesElementMap: Map<IgcContentPane, HTMLElement>;\r\n  private tabHeadersMap: Map<IgcContentPane, HTMLElement>;\r\n  private unpinnedHeadersMap: Map<IgcContentPane, HTMLElement>;\r\n  private activePaneInternalSet = false;\r\n  private domObserver = new MutationObserver(this.mutationCallback.bind(this));\r\n  private showDockingIndicators: boolean;\r\n  private shouldMovePane = false;\r\n  private scheduledCallbacks: (() => void)[] = [];\r\n  private paneToFocus: IgcContentPane;\r\n  private shouldClearActivePane = true;\r\n  private dockedPanesContainer: HTMLElement;\r\n  private isDragging = false;\r\n  private contentPaneId: string;\r\n  private reason: ActionReason;\r\n  private splitterOffset = 1;\r\n  private loaded = false;\r\n  private resizeObserver = new ResizeObserver(this.restrictFloatingPaneSize.bind(this));\r\n  private proximityDockThreshold = 50;\r\n  private proximityOuterDockThreshold = 25;\r\n  private cursorLocation: IgcDockManagerPoint;\r\n  private splitterRect: any\r\n  private allowOuterProximityDock: boolean\r\n  private templatableComponents = [\r\n    {\r\n      slot: 'paneHeaderCloseButton',\r\n      targetName: 'igc-pane-header-component',\r\n      targetSlot: 'paneHeaderCloseButton',\r\n      targetPart: 'pane-header-close-button'\r\n    },\r\n    {\r\n      slot: 'tabHeaderCloseButton',\r\n      targetName: 'igc-tab-header-component',\r\n      targetSlot: 'tabHeaderCloseButton',\r\n      targetPart: 'tab-header-close-button'\r\n    },\r\n    {\r\n      slot: 'tabHeaderCloseButton',\r\n      targetName: 'igc-context-menu-component',\r\n      targetSlot: 'contextMenuCloseButton',\r\n      targetPart: 'context-menu-close-button'\r\n    },\r\n    {\r\n      slot: 'closeButton',\r\n      targetName: 'igc-pane-header-component',\r\n      targetSlot: 'paneHeaderCloseButton',\r\n      targetPart: 'pane-header-close-button'\r\n    },\r\n    {\r\n      slot: 'closeButton',\r\n      targetName: 'igc-tab-header-component',\r\n      targetSlot: 'tabHeaderCloseButton',\r\n      targetPart: 'tab-header-close-button'\r\n    },\r\n    {\r\n      slot: 'closeButton',\r\n      targetName: 'igc-context-menu-component',\r\n      targetSlot: 'contextMenuCloseButton',\r\n      targetPart: 'context-menu-close-button'\r\n    },\r\n    {\r\n      slot: 'moreTabsButton',\r\n      targetName: 'igc-tabs-component',\r\n      targetSlot: 'tabsMoreButton',\r\n      targetPart: 'tabs-more-button'\r\n    },\r\n    {\r\n      slot: 'maximizeButton',\r\n      targetName: 'igc-pane-header-component',\r\n      targetSlot: 'paneHeaderMaximizeButton',\r\n      targetPart: 'pane-header-maximize-button'\r\n    },\r\n    {\r\n      slot: 'maximizeButton',\r\n      targetName: 'igc-tabs-component',\r\n      targetSlot: 'tabsMaximizeButton',\r\n      targetPart: 'tabs-maximize-button'\r\n    },\r\n    {\r\n      slot: 'minimizeButton',\r\n      targetName: 'igc-pane-header-component',\r\n      targetSlot: 'paneHeaderMinimizeButton',\r\n      targetPart: 'pane-header-minimize-button'\r\n    },\r\n    {\r\n      slot: 'minimizeButton',\r\n      targetName: 'igc-tabs-component',\r\n      targetSlot: 'tabsMinimizeButton',\r\n      targetPart: 'tabs-minimize-button'\r\n    },\r\n    {\r\n      slot: 'pinButton',\r\n      targetName: 'igc-pane-header-component',\r\n      targetSlot: 'paneHeaderPinButton',\r\n      targetPart: 'pane-header-pin-button'\r\n    },\r\n    {\r\n      slot: 'unpinButton',\r\n      targetName: 'igc-pane-header-component',\r\n      targetSlot: 'paneHeaderUnpinButton',\r\n      targetPart: 'pane-header-unpin-button'\r\n    },\r\n    {\r\n      slot: 'unpinButton',\r\n      targetName: 'igc-context-menu-component',\r\n      targetSlot: 'contextMenuUnpinButton',\r\n      targetPart: 'context-menu-unpin-button'\r\n    },\r\n    {\r\n      slot: 'moreOptionsButton',\r\n      targetName: 'igc-tab-header-component',\r\n      targetSlot: 'tabHeaderMoreOptionsButton',\r\n      targetPart: 'tab-header-more-options-button'\r\n    },\r\n    {\r\n      slot: 'splitterHandle',\r\n      targetName: 'igc-splitter-component',\r\n      targetSlot: 'splitterHandle',\r\n      targetPart: 'splitter-handle'\r\n    },\r\n\r\n  ];\r\n\r\n  documentOnlyDrag: boolean;\r\n\r\n  @Element() element: HTMLElement;\r\n\r\n  @State() dropTargetPaneInfo: IgcDropTargetPaneInfo;\r\n  @State() flyoutPane: IgcContentPane;\r\n\r\n  @Watch('flyoutPane')\r\n  flyoutPaneChanged(newValue: IgcContentPane) {\r\n    if (newValue) {\r\n      this.scheduleAfterRender(() => {\r\n        this.setFocus(newValue);\r\n      });\r\n    }\r\n  }\r\n\r\n  @State() floatingPaneZIndicesMap = new Map<IgcSplitPane, number>();\r\n  @State() contextMenuMeta: IgcContextMenuMetadata;\r\n  @State() dropShadowRect: DOMRect;\r\n  @State() templates: Map<string, any> = new Map();\r\n  @State() hasCustomMaximizeButton: boolean;\r\n  @State() hasCustomMinimizeButton: boolean;\r\n  @State() hoveredPane: IgcContentPane;\r\n\r\n  @Prop({ mutable: true }) navigationPaneMeta: IgcPaneNavigatorMetadata;\r\n  @Prop() allowMaximize = true;\r\n  @Prop() showPaneHeaders: 'onHoverOnly' | 'always' = 'always';\r\n  @Prop() showHeaderIconOnHover: 'closeOnly' | 'moreOptionsOnly' | 'all';\r\n  @Prop({ mutable: true }) maximizedPane: IgcContentPane | IgcSplitPane | IgcTabGroupPane;\r\n  @Prop({ mutable: true }) resourceStrings: IgcDockManagerResourceStrings;\r\n  @Prop() allowFloatingPanesResize = true;\r\n  @Prop() disableKeyboardNavigation = false;\r\n  @Prop() contextMenuPosition: IgcContextMenuPosition;\r\n  @Prop() containedInBoundaries = false;\r\n  @Prop() allowInnerDock = true;\r\n  @Prop() proximityDock = false;\r\n\r\n  @Watch('containedInBoundaries')\r\n  containedInBoundariesChanged() {\r\n    if (this.loaded) {\r\n      this.restrictFloatingPaneSize();\r\n    }\r\n  }\r\n  /**\r\n   * The layout configuration of the Dock Manager.\r\n   */\r\n  @Prop({ mutable: true }) layout: IgcDockManagerLayout;\r\n\r\n  /**\r\n   * Gets the direction of the Dock Manager.\r\n   */\r\n  get direction(): string {\r\n    return Utils.getDirection(this.element);\r\n  }\r\n\r\n  @Watch('layout')\r\n  layoutChanged() {\r\n    this.service.processLayout();\r\n    if (!this.isDragging) {\r\n      this.layoutChange.emit();\r\n    }\r\n  }\r\n\r\n  @Prop({ mutable: true })\r\n  draggedPane: IgcContentPane | IgcSplitPane | IgcTabGroupPane;\r\n\r\n  @Watch('draggedPane')\r\n  draggedPaneChanged() {\r\n    if (this.draggedPane) {\r\n      const panes = this.draggedPane.type === IgcDockManagerPaneType.contentPane ?\r\n        [this.draggedPane] :\r\n        this.service.getChildContentPanes(this.draggedPane);\r\n\r\n      this.showDockingIndicators = panes.every(p => p.allowDocking !== false);\r\n      this.documentOnlyDrag = panes.some(p => p.documentOnly);\r\n    } else {\r\n      this.showDockingIndicators = false;\r\n      this.documentOnlyDrag = false;\r\n    }\r\n  }\r\n\r\n  @Prop() dropPosition: IgcDockManagerPoint;\r\n\r\n  @Watch('dropPosition')\r\n  dropPositionChanged() {\r\n    this.paneDragMoved(this.dropPosition?.x, this.dropPosition?.y);\r\n  }\r\n\r\n  @Prop({ mutable: true })\r\n  activePane: IgcContentPane = null;\r\n\r\n  @Watch('activePane')\r\n  activePaneChange(newValue: IgcContentPane, oldValue: IgcContentPane) {\r\n    const args: IgcActivePaneEventArgs = { newPane: newValue, oldPane: oldValue };\r\n\r\n    if (this.flyoutPane && newValue && newValue !== this.flyoutPane) {\r\n      this.service.flyoutPane(this.flyoutPane);\r\n    }\r\n\r\n    this.activePaneChanged.emit(args);\r\n    this.contentPaneId = newValue?.contentId || this.contentPaneId;\r\n\r\n    if (this.activePaneInternalSet) {\r\n      this.activePaneInternalSet = false;\r\n      return;\r\n    }\r\n\r\n    if (newValue) {\r\n      if (newValue.isPinned === false) {\r\n        requestAnimationFrame(() => {\r\n          this.service.flyoutPane(newValue);\r\n        });\r\n        // return because setFocus will be called in flyoutPaneChanged\r\n        this.paneToFocus = newValue;\r\n        return;\r\n      } else {\r\n        const parent = this.service.getParent(newValue);\r\n\r\n        if (parent.type === IgcDockManagerPaneType.tabGroupPane && parent.panes.length > 1) {\r\n          const visibleTabs = this.service.getVisibleContentPanes(parent);\r\n          const tabHeaderElement = this.tabHeadersMap.get(newValue);\r\n          const firstTabRect = this.tabHeadersMap\r\n            .get(visibleTabs[0])\r\n            .getBoundingClientRect();\r\n          const headerRect = tabHeaderElement.getBoundingClientRect();\r\n\r\n          // return if the selected index is changed because setFocus will be called in handleTabSelectedChanged\r\n          if (headerRect.top !== firstTabRect.top) { // header is hidden\r\n            this.service.selectHiddenTab(parent, newValue);\r\n            this.paneToFocus = newValue;\r\n            return;\r\n          } else {\r\n            const visibleIndex = visibleTabs.indexOf(newValue);\r\n            const selectedIndex = parent.selectedIndex ?? 0;\r\n\r\n            if (selectedIndex !== visibleIndex) {\r\n              parent.selectedIndex = visibleIndex;\r\n              this.paneToFocus = newValue;\r\n              return;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    this.scheduleAfterRender(() => {\r\n      this.setFocus(newValue);\r\n    });\r\n  }\r\n\r\n  @Event()\r\n  paneHeaderConnected: EventEmitter<IgcPaneHeaderConnectionEventArgs>;\r\n\r\n  @Event()\r\n  paneHeaderDisconnected: EventEmitter<IgcPaneHeaderConnectionEventArgs>;\r\n\r\n  @Event()\r\n  tabHeaderConnected: EventEmitter<IgcTabHeaderConnectionEventArgs>;\r\n\r\n  @Event()\r\n  tabHeaderDisconnected: EventEmitter<IgcTabHeaderConnectionEventArgs>;\r\n\r\n  @Event()\r\n  splitterResizeStart: EventEmitter<IgcSplitterResizeEventArgs>;\r\n\r\n  @Event()\r\n  splitterResizeEnd: EventEmitter<IgcSplitterResizeEventArgs>;\r\n\r\n  @Event()\r\n  paneClose: EventEmitter<IgcPaneCloseEventArgs>;\r\n\r\n  @Event()\r\n  paneScroll: EventEmitter<IgcPaneScrollEventArgs>;\r\n\r\n  @Event()\r\n  panePinnedToggle: EventEmitter<IgcPanePinnedEventArgs>;\r\n\r\n  @Event()\r\n  activePaneChanged: EventEmitter<IgcActivePaneEventArgs>;\r\n\r\n  @Event()\r\n  paneDragStart: EventEmitter<IgcPaneDragStartEventArgs>;\r\n\r\n  @Event()\r\n  paneDragOver: EventEmitter<IgcPaneDragOverEventArgs>;\r\n\r\n  @Event()\r\n  paneDragEnd: EventEmitter<IgcPaneDragEndEventArgs>;\r\n\r\n  @Event()\r\n  floatingPaneResizeMove: EventEmitter<IgcFloatingPaneResizeMoveEventArgs>;\r\n\r\n  @Event()\r\n  floatingPaneResizeEnd: EventEmitter<IgcFloatingPaneResizeEventArgs>;\r\n\r\n  @Event()\r\n  floatingPaneResizeStart: EventEmitter<IgcFloatingPaneResizeEventArgs>;\r\n\r\n  @Event()\r\n  layoutChange: EventEmitter;\r\n\r\n  @Listen('focusout')\r\n  handleFocusOut(_event: Event) {\r\n    if (this.paneToFocus) {\r\n      return;\r\n    }\r\n    const rootNode = this.getRootNode();\r\n\r\n    if (!this._tabHeaderIconClicked && !this.isDragging) {\r\n      requestAnimationFrame(() => {\r\n        if (!this.element.contains(rootNode.activeElement)) {\r\n          this.clearActivePane();\r\n        }\r\n      });\r\n    }\r\n\r\n    this._tabHeaderIconClicked = false;\r\n  }\r\n\r\n  @Listen('keydown')\r\n  handleKeyDown(event: KeyboardEvent) {\r\n    this.keyboardService.handleKeydown(event);\r\n  }\r\n\r\n  @Listen('pointerdown')\r\n  handlePointerDown(event: PointerEvent) {\r\n    const pathHTMLElements = event.composedPath().filter(e => e instanceof HTMLElement).map(e => e as HTMLElement);\r\n    const isMaximizeOrMinimize = pathHTMLElements.filter(e => e.attributes.getNamedItem('part') &&\r\n      (e.attributes.getNamedItem('part').value === 'tabs-minimize-button' || e.attributes.getNamedItem('part').value === 'tabs-maximize-button')).length > 0;\r\n    if (isMaximizeOrMinimize) {\r\n      this.reason = ActionReason.maximizeOrMinimize;\r\n    }\r\n  }\r\n\r\n  @Listen('pointerup')\r\n  handlePointerUp() {\r\n    this.reason = null;\r\n  }\r\n\r\n  @Method()\r\n  async dropPane(): Promise<boolean> {\r\n    const docked = this.handlePaneDragEnd();\r\n    return Promise.resolve(docked);\r\n  }\r\n\r\n  @Method()\r\n  async removePane(pane: IgcDockManagerPane) {\r\n    this.service.removePane(pane);\r\n  }\r\n\r\n  @Method()\r\n  async focusPane(contentId: string) {\r\n    const contentPane = this.service.getContent(contentId) as IgcContentPane;\r\n    const parentPane = this.service.getRootParent(contentPane);\r\n    const isFloating = this.service.isFloatingPane(parentPane);\r\n    const isUnpinned = contentPane.isPinned !== undefined && !contentPane.isPinned;\r\n\r\n    if (isFloating) {\r\n      this.service.bringFloatingPaneOnTop(parentPane);\r\n      this.activePane = contentPane;\r\n    } else if (isUnpinned) {\r\n      this.handlePaneFlyout(contentPane);\r\n    } else {\r\n      this.activePane = contentPane;\r\n    }\r\n  }\r\n\r\n  connectedCallback() {\r\n    this.element.shadowRoot.addEventListener('focusout', this.handleShadowRootFocusOut);\r\n    this.domObserver.observe(this.element, { attributes: true, subtree: true, childList: true });\r\n\r\n    const dockManagerChildren = Array.from(this.element.children);\r\n    for (const htmlElem of dockManagerChildren) {\r\n      const elem = htmlElem as HTMLElement;\r\n      elem?.addEventListener('focusin', this.handleCustomContentFocusIn);\r\n    }\r\n  }\r\n\r\n  componentWillLoad() {\r\n    this.contextMenuMeta = null;\r\n    this.navigationPaneMeta = null;\r\n\r\n    if (this.layout) {\r\n      this.layoutChanged();\r\n    }\r\n\r\n    if (!this.resourceStrings) {\r\n      const closestElement = this.element.closest('[lang]') as HTMLElement;\r\n      const lang = closestElement ? closestElement.lang.toLowerCase() : 'en';\r\n      this.resourceStrings = resourceStringsMap.has(lang) ? resourceStringsMap.get(lang) : resourceStringsMap.get('en');\r\n    }\r\n  }\r\n\r\n  componentWillRender() {\r\n    const lastMaximizedPane = this.service.getLastMaximizedPane();\r\n\r\n    if (lastMaximizedPane && this.maximizedPane !== lastMaximizedPane) {\r\n      const shouldFlyout = 'isPinned' in lastMaximizedPane && !(lastMaximizedPane as IgcContentPane).isPinned;\r\n\r\n      if (shouldFlyout) {\r\n        this.handlePaneFlyout(lastMaximizedPane as IgcContentPane);\r\n      }\r\n\r\n      this.handleMaximize(lastMaximizedPane);\r\n    }\r\n  }\r\n\r\n  componentDidRender() {\r\n    while (this.scheduledCallbacks.length) {\r\n      const callback = this.scheduledCallbacks.shift();\r\n      callback();\r\n    }\r\n\r\n    if (this.service.keyboardDockPane) {\r\n      this.setActivePane(this.service.keyboardDockPane);\r\n      this.setFocus(this.service.keyboardDockPane);\r\n      this.service.keyboardDockPane = null;\r\n    }\r\n\r\n    this.processTemplates();\r\n  }\r\n\r\n  componentDidLoad() {\r\n    this.loaded = true;\r\n    this.resizeObserver.observe(this.element);\r\n  }\r\n\r\n  disconnectedCallback() {\r\n    this.element.shadowRoot.removeEventListener('focusout', this.handleShadowRootFocusOut);\r\n    this.removeCustomContentEventListeners();\r\n    this.domObserver.disconnect();\r\n    this.resizeObserver.disconnect();\r\n  }\r\n\r\n  focusElement() {\r\n    this.element.focus();\r\n  }\r\n\r\n  private handleTabsRendered(pane: IgcTabGroupPane) {\r\n    if (this.reason !== ActionReason.drop) { return; }\r\n    if (pane.panes?.length > 0) {\r\n      const focusablePane = this.findFocusablePane(pane.panes);\r\n      if (focusablePane?.contentId === this.contentPaneId) {\r\n        pane.selectedIndex = pane.panes.indexOf(focusablePane);\r\n        this.setActivePane(focusablePane);\r\n        this.setFocus(focusablePane);\r\n      }\r\n    }\r\n  }\r\n\r\n  private handleSplitPaneRendered(panes: IgcDockManagerPane[]) {\r\n    if (this.reason !== ActionReason.drop) { return; }\r\n    const focusablePane = this.findFocusablePane(panes);\r\n    if (focusablePane?.contentId === this.contentPaneId) {\r\n      this.setActivePane(focusablePane);\r\n      this.setFocus(focusablePane);\r\n    }\r\n  }\r\n\r\n  private findFocusablePane(panes: IgcDockManagerPane[], candidate?: IgcContentPane): IgcContentPane | undefined {\r\n    const splitPanes = panes.filter(p => p.type === IgcDockManagerPaneType.splitPane);\r\n    for (const pane of splitPanes) {\r\n      if (candidate) {\r\n        return candidate;\r\n      }\r\n      const splitPane = pane as IgcSplitPane;\r\n      candidate = this.findFocusablePane(splitPane.panes);\r\n    }\r\n\r\n    const tabGroupPanes = panes.filter(p => p.type === IgcDockManagerPaneType.tabGroupPane);\r\n    for (const pane of tabGroupPanes) {\r\n      if (candidate) {\r\n        return candidate;\r\n      }\r\n      const tabGroupPane = pane as IgcTabGroupPane;\r\n      candidate = tabGroupPane.selectedIndex ? tabGroupPane.panes[tabGroupPane.selectedIndex] : this.findFocusablePane(tabGroupPane.panes);\r\n    }\r\n\r\n    const docHost = panes.filter(p => p.type === IgcDockManagerPaneType.documentHost);\r\n    for (const pane of docHost) {\r\n      if (candidate) {\r\n        return candidate;\r\n      }\r\n      const docHostPane = pane as IgcDocumentHost;\r\n      candidate = this.findFocusablePane([docHostPane.rootPane]);\r\n    }\r\n\r\n    candidate = panes.find(p => p.type === IgcDockManagerPaneType.contentPane\r\n      && p.contentId === this.contentPaneId) as IgcContentPane || candidate;\r\n    if (candidate) {\r\n      return candidate;\r\n    }\r\n\r\n    return panes.find(p => p.type === IgcDockManagerPaneType.contentPane) as IgcContentPane;\r\n  }\r\n\r\n  private processTemplates() {\r\n    if (this.templates.size === 0) {\r\n      return;\r\n    }\r\n\r\n    this.templatableComponents.forEach(component => {\r\n      const template = this.templates.get(component.slot);\r\n      if (template) {\r\n        template.setAttribute('slot', component.targetSlot);\r\n        template.setAttribute('part', component.targetPart);\r\n\r\n        const componentMatches = this.element.shadowRoot.querySelectorAll(component.targetName);\r\n        componentMatches.forEach(match => {\r\n          const slottedClose = match.querySelectorAll('[slot=\"' + component.targetSlot + '\"]');\r\n\r\n          if (slottedClose.length === 0) {\r\n            match.appendChild(template.cloneNode(true));\r\n          }\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  private updateTemplates = () => {\r\n    if (this.templates.size > 0) {\r\n      return;\r\n    }\r\n\r\n    const slotted = this.element.shadowRoot.querySelectorAll('slot');\r\n    const slottedArray = Array.from(slotted);\r\n    const usedTemplates: Map<string, any> = new Map();\r\n    const templatableSlots = this.templatableComponents.map(comp => comp.slot);\r\n    templatableSlots.forEach(slot => {\r\n      const matchedSlots = slottedArray.filter((s: any) => s.name === slot);\r\n      if (!this.templates.get(slot) && matchedSlots.length > 0 && matchedSlots[0].assignedElements().length > 0) {\r\n        usedTemplates.set(slot, matchedSlots[0].assignedElements()[0]);\r\n      }\r\n    });\r\n\r\n    this.templates = usedTemplates;\r\n  }\r\n\r\n  private getRootNode(): DocumentOrShadowRoot {\r\n    return this.element.getRootNode() as unknown as DocumentOrShadowRoot;\r\n  }\r\n\r\n  private scheduleAfterRender(callback: () => void) {\r\n    this.scheduledCallbacks.push(callback);\r\n  }\r\n\r\n  private handleTabHeaderFocus(pane: IgcContentPane) {\r\n    if (!this._tabHeaderIconClicked) {\r\n      this.setActivePane(pane);\r\n    }\r\n  }\r\n\r\n  private handleContentPaneFocus(pane: IgcContentPane) {\r\n    this.setActivePane(pane);\r\n  }\r\n\r\n  private handleUnpinnedHeaderFocus(pane: IgcContentPane) {\r\n    // delay the setting of the active pane, in case the unpinned tab is clicked it should focus the content pane first\r\n    requestAnimationFrame(() => {\r\n      this.setActivePane(pane);\r\n    });\r\n  }\r\n\r\n  private setFocus(pane: IgcContentPane) {\r\n    if (!pane) { return; }\r\n    this.paneToFocus = null;\r\n\r\n    let elemToFocus = this.contentPanesElementMap.get(pane);\r\n\r\n    if (!elemToFocus) {\r\n      elemToFocus = this.tabHeadersMap.get(pane);\r\n    }\r\n\r\n    if (!elemToFocus) {\r\n      elemToFocus = this.unpinnedHeadersMap.get(pane);\r\n    }\r\n\r\n    if (!elemToFocus) {\r\n      throw new Error('No matching pane!');\r\n    }\r\n\r\n    elemToFocus.focus();\r\n  }\r\n\r\n  private setActivePane(pane: IgcContentPane) {\r\n    if (this.activePane !== pane) {\r\n      this.activePaneInternalSet = true;\r\n      this.activePane = pane;\r\n    }\r\n  }\r\n\r\n  private removeCustomContentEventListeners() {\r\n    const dockManagerChildren = Array.from(this.element.children);\r\n    dockManagerChildren.forEach(child => {\r\n      child.removeEventListener('focusin', this.handleCustomContentFocusIn);\r\n    });\r\n  }\r\n\r\n  private handleCustomContentFocusIn = (eventArgs: FocusEvent) => {\r\n    const parent = eventArgs.currentTarget as HTMLElement;\r\n    if (parent) {\r\n      const contentPane = this.service.clientContentPanesMap.get(parent.slot);\r\n      if (!contentPane) { return; }\r\n\r\n      this.setActivePane(contentPane);\r\n    }\r\n  }\r\n\r\n  private mutationCallback(records: MutationRecord[]) {\r\n    records.filter(rec => rec.type === 'childList').forEach(child => {\r\n      child.addedNodes.forEach(c => {\r\n        c.addEventListener('focusin', this.handleCustomContentFocusIn);\r\n      });\r\n\r\n      child.removedNodes.forEach(r => {\r\n        r.removeEventListener('focusin', this.handleCustomContentFocusIn);\r\n      });\r\n    });\r\n  }\r\n\r\n  private _isValidDrop = true;\r\n\r\n  get isValidDrop() {\r\n    return this._isValidDrop;\r\n  }\r\n\r\n  set isValidDrop(value: boolean) {\r\n    if (this._isValidDrop !== value) {\r\n      this._isValidDrop = value;\r\n      document.body.style.cursor = this._isValidDrop ? 'default' : 'not-allowed';\r\n    }\r\n  }\r\n\r\n  private handleShadowRootFocusOut = () => {\r\n    if (this.paneToFocus) {\r\n      return;\r\n    }\r\n    const rootNode = this.getRootNode();\r\n\r\n    requestAnimationFrame(() => {\r\n      if (!this.element.shadowRoot.activeElement && rootNode.activeElement === this.element && this.reason !== ActionReason.maximizeOrMinimize) {\r\n        this.clearActivePane();\r\n      }\r\n    });\r\n  }\r\n\r\n  private restrictFloatingPaneSize() {\r\n    if (this.containedInBoundaries) {\r\n      const dockManagerRect = this.element.getBoundingClientRect();\r\n      const floatingPanes = Array.from(this.element.shadowRoot.querySelectorAll('igc-floating-pane-component'));\r\n\r\n      floatingPanes.forEach(floatingPane => {\r\n        const paneElement = floatingPane.querySelector('igc-split-pane-component');\r\n        const pane = this.panesElementMap.getByValue(paneElement) as IgcSplitPane;\r\n\r\n        if (floatingPane.getBoundingClientRect().height > dockManagerRect.height) {\r\n          floatingPane.floatingHeight = pane.floatingHeight = dockManagerRect.height;\r\n          floatingPane.style.height = floatingPane.floatingHeight + 'px';\r\n        }\r\n\r\n        if (floatingPane.getBoundingClientRect().bottom > dockManagerRect.bottom) {\r\n          floatingPane.floatingLocation.y = pane.floatingLocation.y = dockManagerRect.bottom - floatingPane.getBoundingClientRect().height;\r\n          floatingPane.style.top = floatingPane.floatingLocation.y + 'px';\r\n        }\r\n\r\n        if (floatingPane.getBoundingClientRect().y < dockManagerRect.y) {\r\n          floatingPane.floatingLocation.y = dockManagerRect.y;\r\n          floatingPane.style.top = floatingPane.floatingLocation.y + 'px';\r\n        }\r\n\r\n        if (floatingPane.getBoundingClientRect().width > dockManagerRect.width) {\r\n          floatingPane.floatingWidth = dockManagerRect.width;\r\n          floatingPane.style.width = floatingPane.floatingWidth + 'px';\r\n        }\r\n\r\n        if (floatingPane.getBoundingClientRect().right > dockManagerRect.right) {\r\n          floatingPane.floatingLocation.x = pane.floatingLocation.x = dockManagerRect.right - floatingPane.getBoundingClientRect().width;\r\n          floatingPane.style.left = floatingPane.floatingLocation.x + 'px';\r\n        }\r\n\r\n        if (floatingPane.getBoundingClientRect().left < dockManagerRect.left) {\r\n          floatingPane.floatingLocation.x = dockManagerRect.x;\r\n          floatingPane.style.left = floatingPane.floatingLocation.x + 'px';\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  private isPaneSizeWithinConstraints(pane: HTMLElement, offset: number, orientation: IgcSplitPaneOrientation, position: 'previous' | 'next' = 'next'): boolean {\r\n    let size, minSize, maxSize: number;\r\n\r\n    if (orientation === IgcSplitPaneOrientation.horizontal) {\r\n      size = pane.getBoundingClientRect().width;\r\n      minSize = parseFloat(getComputedStyle(pane).minWidth);\r\n      maxSize = parseFloat(getComputedStyle(pane).maxWidth);\r\n    } else {\r\n      size = pane.getBoundingClientRect().height;\r\n      minSize = parseFloat(getComputedStyle(pane).minHeight);\r\n      maxSize = parseFloat(getComputedStyle(pane).maxHeight);\r\n    }\r\n\r\n    if (position === 'previous') {\r\n      return offset < 0 ? ((size + offset) >= minSize || isNaN(minSize) || minSize === 0) : ((size + offset) <= maxSize || isNaN(maxSize))\r\n    }\r\n\r\n    return offset > 0 ? ((size - offset) >= minSize || isNaN(minSize)) : ((size - offset) <= maxSize || isNaN(maxSize));\r\n  }\r\n\r\n  private handleFlyoutSplitterResizeEnd(pane: IgcContentPane, orientation: IgcSplitPaneOrientation, event: CustomEvent<number>) {\r\n    const splitter = event.target as HTMLElement;\r\n    const previousPane = splitter.previousElementSibling as HTMLElement;\r\n    const minSize = orientation === IgcSplitPaneOrientation.horizontal\r\n      ? parseFloat(getComputedStyle(previousPane).minWidth)\r\n      : parseFloat(getComputedStyle(previousPane).minHeight);\r\n\r\n    if (!isNaN(minSize) && (minSize > pane.unpinnedSize || minSize > IGC_DEFAULT_UNPIN_PANE_SIZE)) {\r\n      pane.unpinnedSize = minSize;\r\n    }\r\n\r\n    // If new pane size does not meet the size constraints, do not resize\r\n    let offset = this.isPaneSizeWithinConstraints(previousPane, event.detail, orientation, 'previous') ? this.splitterOffset * event.detail : 0;\r\n\r\n    this.service.resizeFlyoutPane(offset);\r\n\r\n    let rect: DOMRect;    \r\n    rect = splitter.previousElementSibling.getBoundingClientRect();\r\n    const paneWidth = orientation === IgcSplitPaneOrientation.horizontal ? rect.width + offset : rect.width;\r\n    const paneHeight = orientation === IgcSplitPaneOrientation.vertical ? rect.height + offset : rect.height;\r\n    this.splitterResizeEnd.emit({ pane, orientation, paneWidth, paneHeight });\r\n  }\r\n\r\n  private handleSplitterResizeStart(pane: IgcDockManagerPane, event: { target: IgcSplitterComponent }) {\r\n    const splitter = event.target;\r\n    const orientation = splitter.splitPaneOrientation;\r\n    let rect: DOMRect;\r\n    const splitterEl = event.target as unknown as HTMLElement;\r\n    rect = pane === this.flyoutPane ? splitterEl.previousElementSibling.getBoundingClientRect() : splitterEl.nextElementSibling.getBoundingClientRect();\r\n    const paneWidth = rect.width;\r\n    const paneHeight = rect.height;\r\n    const resizeStartEvent = this.splitterResizeStart.emit({ pane, orientation, paneWidth, paneHeight });\r\n\r\n    if (resizeStartEvent.defaultPrevented) {\r\n      this.splitterOffset = 0;\r\n      splitter.showDragGhost = false;\r\n    } else {\r\n      this.splitterOffset = 1;\r\n      splitter.showDragGhost = true;\r\n    }\r\n  }\r\n\r\n  private handleSplitterResizeEnd(parentPane: IgcSplitPane, pane: IgcDockManagerPane, event: CustomEvent<number>) {\r\n    const splitter = event.target as HTMLElement;\r\n    const previousPane = splitter.previousElementSibling as HTMLElement;\r\n    const nextPane = splitter.nextElementSibling as HTMLElement;\r\n    const splitPane = splitter.parentElement;\r\n    const splitPaneChildren = Array.from(splitPane.children);\r\n    const paneComponents = splitPaneChildren.filter(c => c.tagName.toLowerCase() !== 'igc-splitter-component');\r\n\r\n    const sizeProperty = parentPane.orientation === IgcSplitPaneOrientation.horizontal ? 'offsetWidth' : 'offsetHeight';\r\n    const sizeSum = paneComponents.reduce((s, p: HTMLElement) => p[sizeProperty] + s, 0);\r\n\r\n    // If the new size is smaller or bigger that the size constraints, do not resize\r\n    const offset = this.isPaneSizeWithinConstraints(previousPane, event.detail, parentPane.orientation, 'previous') && this.isPaneSizeWithinConstraints(nextPane, event.detail, parentPane.orientation) ? event.detail : 0;\r\n    let offsetPercentage = this.splitterOffset * offset / sizeSum;\r\n\r\n    let rtl = false;\r\n    if (this.element.dir !== '') {\r\n      rtl = this.element.dir === 'rtl';\r\n    } else {\r\n      let parent = this.element.parentElement;\r\n      while (parent) {\r\n        if (parent.dir !== '') {\r\n          rtl = parent.dir === 'rtl';\r\n          break;\r\n        }\r\n\r\n        parent = parent.parentElement;\r\n      }\r\n    }\r\n\r\n    if (rtl && parentPane.orientation === IgcSplitPaneOrientation.horizontal) {\r\n      offsetPercentage *= -1;\r\n    }\r\n\r\n    this.service.resizePane(pane, offsetPercentage);\r\n    const orientation = parentPane.orientation;\r\n    let rect: DOMRect;\r\n    rect = splitter.nextElementSibling.getBoundingClientRect();\r\n    const paneWidth = orientation === IgcSplitPaneOrientation.horizontal ? rect.width - offsetPercentage*sizeSum : rect.width;\r\n    const paneHeight = orientation === IgcSplitPaneOrientation.vertical ? rect.height - offsetPercentage*sizeSum : rect.height;\r\n    this.splitterResizeEnd.emit({ pane, orientation, paneWidth, paneHeight });\r\n  }\r\n\r\n  private clearActivePane() {\r\n    if (this.activePane && this.shouldClearActivePane && this.reason !== ActionReason.drop) {\r\n      this.setActivePane(null);\r\n    }\r\n  }\r\n\r\n  private handlePinToggle(pane: IgcContentPane) {\r\n    const isPinned = this.service.getActualIsPinned(pane);\r\n    const pinBehavior = !isPinned ? IgcPinBehavior.selectedPane : IgcPinBehavior.allPanes;\r\n\r\n    this.shouldClearActivePane = false;\r\n    this.service.togglePin(pane, pinBehavior);\r\n    this.scheduleAfterRender(() => {\r\n      this.shouldClearActivePane = true;\r\n      this.setFocus(pane);\r\n    });\r\n  }\r\n\r\n  private handlePaneClose(pane: IgcContentPane) {\r\n    this.focusElement();\r\n    this.service.closePane(pane);\r\n  }\r\n\r\n  private handleFloatingPaneClose(pane: IgcSplitPane) {\r\n    this.focusElement();\r\n    this.service.closeFloatingPane(pane);\r\n  }\r\n\r\n  private handleMaximize(pane: any) {\r\n    this.service.maximizePane(pane);\r\n    this.scheduleAfterRender(() => {\r\n      const paneToFocus = this.findFocusablePane([pane]);\r\n      this.setFocus(paneToFocus);\r\n    });\r\n  }\r\n\r\n  private handleUnpinnedTabMouseDown(pane: IgcContentPane, event: MouseEvent) {\r\n    const target = event.currentTarget as HTMLElement;\r\n    const rootNode = this.getRootNode();\r\n    this.contentPaneId = pane.id;\r\n    requestAnimationFrame(() => {\r\n      if (this.element === rootNode.activeElement || !this.element.contains(rootNode.activeElement)) {\r\n        target.focus();\r\n      }\r\n\r\n      this.handlePaneFlyout(pane);\r\n    });\r\n  }\r\n\r\n  private handlePaneFlyout(pane: IgcContentPane) {\r\n    this.service.flyoutPane(pane);\r\n  }\r\n\r\n  private handleUnpinnedTabKeyDown(pane: IgcContentPane, event: KeyboardEvent) {\r\n    if (event.key === 'Enter' || event.key === ' ') {\r\n      this.handlePaneFlyout(pane);\r\n    }\r\n  }\r\n\r\n  private handlePaneDragStart(pane: IgcSplitPane | IgcContentPane, event: CustomEvent<IgcDragStartEventArguments>) {\r\n    let rect: DOMRect;\r\n\r\n    if (pane.type === IgcDockManagerPaneType.contentPane) {\r\n      const header = event.target as HTMLElement;\r\n      const parent = this.service.getParent(pane);\r\n\r\n      rect = (pane !== this.flyoutPane && parent.type === IgcDockManagerPaneType.tabGroupPane) ?\r\n        header.closest('igc-tabs-component').getBoundingClientRect() :\r\n        header.parentElement.getBoundingClientRect();\r\n      this.contentPaneId = pane.contentId;\r\n    }\r\n\r\n    this.shouldClearActivePane = false;\r\n    this.focusElement();\r\n    const dragStarted = this.service.dragPaneStart(pane, rect, event.detail.clientX, event.detail.clientY);\r\n    this.isDragging = true;\r\n    this.scheduleAfterRender(() => {\r\n      this.shouldClearActivePane = true;\r\n      if (pane.type === IgcDockManagerPaneType.contentPane) {\r\n        this.contentPaneId = pane.contentId;\r\n        return;\r\n      }\r\n      if (pane.type === IgcDockManagerPaneType.splitPane) {\r\n        const targetPane = this.findFocusablePane(pane.panes);\r\n        if (targetPane) {\r\n          this.contentPaneId = targetPane.contentId;\r\n          this.setActivePane(targetPane);\r\n        }\r\n      }\r\n    });\r\n\r\n    if (!dragStarted) {\r\n      this.isDragging = false;\r\n      event.detail.cancel = true;\r\n    } else {\r\n      this.service.dockManagerRect = this.element.getBoundingClientRect();\r\n    }\r\n  }\r\n\r\n  private handlePaneDragMove(event: CustomEvent<IgcDragMoveEventArguments>) {\r\n    this.paneDragMoved(event.detail.clientX, event.detail.clientY, event);\r\n  }\r\n\r\n  private paneDragMoved(clientX: number, clientY: number, event?: CustomEvent<IgcDragMoveEventArguments>) {\r\n    this.handleDropPositionChange(clientX, clientY, event?.target);\r\n\r\n    const x = event?.detail.clientX;\r\n    const y = event?.detail.clientY;\r\n\r\n    this.cursorLocation = { x, y };\r\n\r\n    if (this.proximityDock) {\r\n      this.service.proximityDockPosition = this.getProximityDockPosition();\r\n      this.service.dropTargetParentRect = this.getInnerDropTargetParentRect();\r\n    }\r\n\r\n    const dragMoved = this.service.dragPaneMove(x, y);\r\n\r\n    if (event && !dragMoved) {\r\n      event.detail.cancel = true;\r\n    }\r\n  }\r\n\r\n  private getInnerDropTargetParentRect() {\r\n    if (this.dropTargetPaneInfo && this.service.proximityDockPosition) {\r\n      const targetDocHostParent = this.service.getParent(this.dropTargetPaneInfo.docHost) as IgcSplitPane;\r\n\r\n      // In proximityDock, targetDocHostParent can be undefined when elementsFromPoint returns an empty splitPane meaning the dragged pane is over it.\r\n      const isIndicatorVertical = targetDocHostParent && Utils.isDockingIndicatorVertical(this.service.proximityDockPosition as IgcDockingIndicatorPosition);\r\n      const isSplitPaneVertical = targetDocHostParent && Utils.isSplitPaneVertical(targetDocHostParent);\r\n      const isSameSplitPane = ((isIndicatorVertical && isSplitPaneVertical) || (!isIndicatorVertical && !isSplitPaneVertical));\r\n\r\n      // If its over splitter or if docHost without splitter -> outer dock\r\n      // For top/bottom outer dock we need the docHost's parent rect\r\n      // For left/right outer dock we need the docHost's rootPane rect\r\n      // If its not over splitter -> innerDock\r\n      const targetPaneParent = this.allowOuterProximityDock && Utils.isDockingIndicatorOuter(this.service.proximityDockPosition as IgcDockingIndicatorPosition)\r\n        ? isSameSplitPane\r\n          ? targetDocHostParent\r\n          : this.dropTargetPaneInfo.docHost.rootPane\r\n        : this.service.getParent(this.dropTargetPaneInfo.pane);\r\n\r\n      const targetPaneParentRect = this.panesElementMap.has(targetPaneParent) ? this.panesElementMap.get(targetPaneParent).getBoundingClientRect() : null;\r\n      return targetPaneParentRect;\r\n    }\r\n  }\r\n\r\n  private getProximityDockPosition() {\r\n    const dropTarget = this.dropTargetPaneInfo;\r\n\r\n    if (!dropTarget) {\r\n      return null;\r\n    }\r\n\r\n    const pane = dropTarget.pane;\r\n    const targetPaneRect = dropTarget.targetRect;\r\n    const centerX = (targetPaneRect.left + targetPaneRect.right) / 2;\r\n    const centerY = (targetPaneRect.top + targetPaneRect.bottom) / 2;\r\n    const isRTL = this.direction === 'rtl';\r\n\r\n    const targetPane = pane.type === IgcDockManagerPaneType.tabGroupPane && pane.selectedIndex > -1\r\n      ? pane.panes[pane.selectedIndex]\r\n      : pane;\r\n\r\n    const acceptsInnerDock = targetPane.type === IgcDockManagerPaneType.contentPane && targetPane.acceptsInnerDock !== undefined && this.allowInnerDock\r\n      ? targetPane.acceptsInnerDock\r\n      : this.allowInnerDock;\r\n\r\n    const isOverSplitter = this.splitterRect\r\n      ? this.cursorLocation.x >= this.splitterRect.left\r\n        && this.cursorLocation.x <= this.splitterRect.right\r\n        && this.cursorLocation.y >= this.splitterRect.top\r\n        && this.cursorLocation.y <= this.splitterRect.bottom\r\n      : false;\r\n\r\n    // If outer proximity dock is enabled, check if there is splitter and if mouse is within splitter boundaries.\r\n    if (this.allowOuterProximityDock && this.splitterRect) {\r\n      if (this.cursorLocation.x >= this.splitterRect.left - this.proximityOuterDockThreshold\r\n        && this.cursorLocation.x <= this.splitterRect.left) {\r\n          return IgcDockingIndicatorPosition.outerLeft;\r\n      } else if (this.cursorLocation.x <= this.splitterRect.right + this.proximityOuterDockThreshold\r\n        && this.cursorLocation.x >= this.splitterRect.right) {\r\n          return IgcDockingIndicatorPosition.outerRight;\r\n      }\r\n    }\r\n\r\n    const allowOuterTopDock = this.allowOuterProximityDock && this.cursorLocation.y < targetPaneRect.top + this.proximityOuterDockThreshold;\r\n    const allowOuterBottomDock = this.allowOuterProximityDock && this.cursorLocation.y > targetPaneRect.bottom - this.proximityOuterDockThreshold;\r\n    const allowOuterLeftDock = this.allowOuterProximityDock && this.cursorLocation.x < targetPaneRect.left + this.proximityOuterDockThreshold;\r\n    const allowOuterRightDock = this.allowOuterProximityDock && this.cursorLocation.x > targetPaneRect.right - this.proximityOuterDockThreshold;\r\n\r\n    if (this.cursorLocation.y > targetPaneRect.bottom - this.proximityDockThreshold\r\n      && this.cursorLocation.x - targetPaneRect.left > targetPaneRect.bottom - this.cursorLocation.y\r\n      && targetPaneRect.right - this.cursorLocation.x > targetPaneRect.bottom - this.cursorLocation.y\r\n      && !isOverSplitter ) {\r\n        return allowOuterBottomDock ? IgcDockingIndicatorPosition.outerBottom : IgcDockingIndicatorPosition.bottom;\r\n    } else if (this.cursorLocation.y < targetPaneRect.top + this.proximityDockThreshold\r\n      && this.cursorLocation.x - targetPaneRect.left > this.cursorLocation.y - targetPaneRect.top\r\n      && targetPaneRect.right - this.cursorLocation.x > this.cursorLocation.y - targetPaneRect.top\r\n      && !isOverSplitter) {\r\n        return allowOuterTopDock ? IgcDockingIndicatorPosition.outerTop : IgcDockingIndicatorPosition.top;\r\n    } else if (acceptsInnerDock\r\n      && this.cursorLocation.x > centerX - this.proximityDockThreshold\r\n      && this.cursorLocation.x < centerX + this.proximityDockThreshold\r\n      && this.cursorLocation.y > centerY - this.proximityDockThreshold\r\n      && this.cursorLocation.y < centerY + this.proximityDockThreshold\r\n      && !isOverSplitter ) {\r\n        return IgcDockingIndicatorPosition.center;\r\n    } else if (!isRTL && this.cursorLocation.x < targetPaneRect.left + this.proximityDockThreshold\r\n      && this.cursorLocation.y - targetPaneRect.top > this.cursorLocation.x - targetPaneRect.left\r\n      && targetPaneRect.bottom - this.cursorLocation.y > this.cursorLocation.x - targetPaneRect.left) {\r\n        return allowOuterLeftDock ? IgcDockingIndicatorPosition.outerLeft : IgcDockingIndicatorPosition.left;\r\n    } else if (!isRTL && this.cursorLocation.x > targetPaneRect.right - this.proximityDockThreshold\r\n      && this.cursorLocation.y - targetPaneRect.top > targetPaneRect.right - this.cursorLocation.x\r\n      && targetPaneRect.bottom - this.cursorLocation.y > targetPaneRect.right - this.cursorLocation.x) {\r\n        return allowOuterRightDock ? IgcDockingIndicatorPosition.outerRight : IgcDockingIndicatorPosition.right;\r\n    } else if (isRTL && this.cursorLocation.x > targetPaneRect.right - this.proximityDockThreshold\r\n      && targetPaneRect.bottom - this.cursorLocation.y > this.cursorLocation.x - targetPaneRect.right\r\n      && this.cursorLocation.y - targetPaneRect.top > this.cursorLocation.x - targetPaneRect.right) {\r\n        return allowOuterRightDock ? IgcDockingIndicatorPosition.outerRight : IgcDockingIndicatorPosition.right;\r\n    } else if (isRTL && this.cursorLocation.x < targetPaneRect.left + this.proximityDockThreshold\r\n      && targetPaneRect.bottom - this.cursorLocation.y > targetPaneRect.left - this.cursorLocation.x\r\n      && this.cursorLocation.y - targetPaneRect.top > targetPaneRect.left - this.cursorLocation.x) {\r\n        return allowOuterLeftDock ? IgcDockingIndicatorPosition.outerLeft : IgcDockingIndicatorPosition.left;\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  private handlePaneDragEnd(): boolean {\r\n    const docked = this.service.dragPaneEnd();\r\n    this.isDragging = false;\r\n\r\n    if (docked) {\r\n      const activePane = this.activePane;\r\n      this.shouldClearActivePane = false;\r\n      this.reason = ActionReason.drop;\r\n      this.focusElement();\r\n      if (activePane) {\r\n        this.scheduleAfterRender(() => {\r\n          this.setActivePane(activePane);\r\n        });\r\n      }\r\n\r\n      this.scheduleAfterRender(() => {\r\n        this.shouldClearActivePane = true;\r\n      });\r\n    }\r\n\r\n    if (this.activePane) {\r\n      this.setFocus(this.activePane);\r\n    }\r\n\r\n    return docked;\r\n  }\r\n\r\n  private handleTabHeaderDragStart(pane: IgcContentPane, event: CustomEvent<IgcDragStartEventArguments>) {\r\n    this.shouldMovePane = false;\r\n\r\n    const path = this.service.getPanePath(pane);\r\n    const rootParent = path[0] as IgcSplitPane;\r\n    if (rootParent !== this.layout.rootPane &&\r\n      path.some(p => p.type === IgcDockManagerPaneType.documentHost)) {\r\n      const childPanes = this.service.getChildContentPanes(rootParent);\r\n      if (childPanes.length === 1) {\r\n        // pane is a single document host tab in a floating pane\r\n        this.shouldMovePane = true;\r\n\r\n        return this.handlePaneDragStart(rootParent, event);\r\n      }\r\n    }\r\n\r\n    this.shouldClearActivePane = false;\r\n    this.focusElement();\r\n    const dragStarted = this.service.dragTabStart(pane);\r\n    this.isDragging = true;\r\n    this.scheduleAfterRender(() => {\r\n      this.shouldClearActivePane = true;\r\n    });\r\n\r\n    if (!dragStarted) {\r\n      this.isDragging = false;\r\n      event.detail.cancel = true;\r\n    }\r\n  }\r\n\r\n  private handleTabHeaderDragMove(pane: IgcContentPane, event: CustomEvent<IgcDragMoveEventArguments>) {\r\n    if (this.shouldMovePane) {\r\n      return this.handlePaneDragMove(event);\r\n    }\r\n\r\n    const header = event.target as HTMLIgcTabHeaderComponentElement;\r\n    const headerRect = header.getBoundingClientRect();\r\n    const tabs = header.closest('igc-tabs-component');\r\n    const tabsRect = tabs.getBoundingClientRect();\r\n    const tabHeaders = Array.from(tabs.querySelectorAll('igc-tab-header-component'));\r\n    const headerIndex = tabHeaders.indexOf(header);\r\n\r\n    const prevHeaderRect = headerIndex > 0 ? tabHeaders[headerIndex - 1].getBoundingClientRect() : null;\r\n    const nextHeaderRect = headerIndex < tabHeaders.length - 1 ? tabHeaders[headerIndex + 1].getBoundingClientRect() : null;\r\n    const lastVisibleHeaderRect = tabHeaders.filter(th => th.getBoundingClientRect().top === headerRect.top).slice(-1)[0].getBoundingClientRect();\r\n\r\n    const tabRectsInfo = {\r\n      headerRect,\r\n      prevHeaderRect,\r\n      nextHeaderRect,\r\n      lastVisibleHeaderRect,\r\n      tabsRect\r\n    };\r\n\r\n    this.handleDropPositionChange(event.detail.clientX, event.detail.clientY, event?.target);\r\n    const tabMoved = this.service.dragTabMove(pane, event.detail, tabRectsInfo);\r\n\r\n    if (event && !tabMoved) {\r\n      event.detail.cancel = true;\r\n    }\r\n  }\r\n\r\n  private handleTabHeaderDragEnd(pane: IgcContentPane) {\r\n    const docked = this.handlePaneDragEnd();\r\n\r\n    if (!docked) {\r\n      this.activePane = pane;\r\n    }\r\n  }\r\n\r\n  private handleFloatingPaneResizeStart(pane: IgcSplitPane, event: CustomEvent<IgcDragResizeEventArguments>) {\r\n    const args = event.detail;\r\n\r\n    this.isDragging = true;\r\n\r\n    const resizeStarted = this.service.resizeFloatingPaneStart(pane, args.resizerLocation);\r\n    if (!resizeStarted) {\r\n      this.isDragging = false;\r\n      args.dragMoveArgs.cancel = true;\r\n    }\r\n  }\r\n\r\n  private handleFloatingPaneResizeMove(pane: IgcSplitPane, event: CustomEvent<IgcDragResizeEventArguments>) {\r\n    this.service.resizeFloatingPane(pane, event.detail);\r\n  }\r\n\r\n  private handleFloatingPaneResizeEnd(pane: IgcSplitPane, event: CustomEvent<IgcDragResizeEventArguments>) {\r\n    this.isDragging = false;\r\n    this.service.resizeFloatingPaneEnd(pane, event.detail.resizerLocation);\r\n  }\r\n\r\n  private handleDropPositionChange(clientX: number, clientY: number, target?: EventTarget) {\r\n    const elements = clientX && clientY ?\r\n      this.element.shadowRoot.elementsFromPoint(clientX, clientY) :\r\n      null;\r\n\r\n    let isOverSplitter = false;\r\n    this.splitterRect = null;\r\n\r\n    const splitter = elements ? elements.filter(e => e.tagName.toLowerCase() === 'igc-splitter-component') : [];\r\n\r\n    if (splitter.length > 0) {\r\n      const splitterIndex = elements.indexOf(splitter[0]);\r\n      const adjacentElement = elements[splitterIndex - 1];\r\n      isOverSplitter = adjacentElement &&\r\n        adjacentElement.tagName.toLowerCase() === 'igc-floating-pane-component' &&\r\n        (adjacentElement as any).floatingId === this.draggedPane?.id; // if not equal - splitter is below another element, not directly over\r\n    }\r\n\r\n    if (this.proximityDock) {\r\n      const docHost = elements ? elements.filter(e => e.tagName.toLowerCase() === 'igc-document-host-component') : [];\r\n\r\n      if (docHost.length > 0) {\r\n        const splitter = docHost[0].querySelector('igc-splitter-component');\r\n\r\n        if (splitter) {\r\n          const splitterRect = splitter.getBoundingClientRect();\r\n          this.splitterRect = splitterRect;\r\n        }\r\n\r\n        this.allowOuterProximityDock = true;\r\n      } else {\r\n        this.allowOuterProximityDock = false;\r\n      }\r\n    }\r\n\r\n    if (!elements || !elements.length || (isOverSplitter && this.splitterRect === null)) {\r\n      this.service.dockingIndicator = null;\r\n      this.dropTargetPaneInfo = null;\r\n      return;\r\n    }\r\n\r\n    const topElement = elements[0];\r\n    let indicatorTarget = null;\r\n    let dockingIndicatorElement: HTMLElement = topElement.closest('igc-root-docking-indicator-component');\r\n\r\n    if (dockingIndicatorElement) {\r\n      this.service.dockingIndicator = {\r\n        position: (dockingIndicatorElement as HTMLIgcRootDockingIndicatorComponentElement).position,\r\n        isRoot: true,\r\n        direction: this.direction\r\n      };\r\n    }\r\n\r\n    if (!dockingIndicatorElement) {\r\n      const joystickIcon = topElement.closest('igc-joystick-icon-component');\r\n\r\n      if (joystickIcon && !joystickIcon.empty) {\r\n        dockingIndicatorElement = joystickIcon;\r\n        this.service.dockingIndicator = {\r\n          position: joystickIcon.position,\r\n          isRoot: false,\r\n          direction: this.direction\r\n        };\r\n        const joystickIndicator = joystickIcon.closest('igc-joystick-indicator-component');\r\n        indicatorTarget = joystickIndicator.dropTargetPaneInfo;\r\n      }\r\n    }\r\n\r\n    if (dockingIndicatorElement &&\r\n      (this.service.dockingIndicator.isRoot || this.dropTargetPaneInfo === indicatorTarget)) {\r\n\r\n      this.service.dropTargetParentRect = this.getDropTargetParentRect();\r\n      return;\r\n    }\r\n\r\n    this.service.dockingIndicator = null;\r\n\r\n    if (target) {\r\n      const draggedHeader = target as HTMLElement;\r\n      const draggedFloatingPane = draggedHeader.closest('igc-floating-pane-component');\r\n      const topFloatingPane = elements.find(e => e.tagName.toLowerCase() === 'igc-floating-pane-component');\r\n\r\n      if (topFloatingPane === draggedFloatingPane) {\r\n        const index = elements.lastIndexOf(draggedFloatingPane);\r\n        elements.splice(0, index + 1);\r\n      }\r\n    }\r\n\r\n    let paneElement: HTMLElement;\r\n\r\n    for (const element of elements) {\r\n      const tagName = element.tagName.toLowerCase();\r\n\r\n      if (tagName === 'igc-content-pane-component' || tagName === 'igc-split-pane-component') {\r\n        if (paneElement) {\r\n          break;\r\n        }\r\n        paneElement = element as HTMLElement;\r\n        // Not sure why we dont break after finding split-pane first. This works with proximityDock so its temporarily here.\r\n        // When we are over splitter and proximityDock is true, break after finding the first suitable splitPane.\r\n        if (this.allowOuterProximityDock) {\r\n          break;\r\n        }\r\n\r\n      } else if (tagName === 'igc-tabs-component' || tagName === 'igc-document-host-component') {\r\n        paneElement = element as HTMLElement;\r\n        break;\r\n      } else if (tagName === 'igc-floating-pane-component') {\r\n        break;\r\n      }\r\n    }\r\n\r\n    if (paneElement) {\r\n      const dropPane = this.panesElementMap.getByValue(paneElement);\r\n\r\n      if ((!this.dropTargetPaneInfo || this.dropTargetPaneInfo.pane !== dropPane) && dropPane !== this.draggedPane) {\r\n        const docHost = this.service.getDocHostParent(dropPane);\r\n        const dropPaneRoot = this.service.getRootParent(dropPane);\r\n        const floatingPaneWithoutDocHost = this.layout.floatingPanes\r\n          ? this.layout.floatingPanes.indexOf(dropPaneRoot) !== -1 &&\r\n            !this.service.getChildDocHostRecursive(dropPaneRoot)\r\n          : false;\r\n\r\n        if (!this.documentOnlyDrag\r\n          || docHost\r\n          || floatingPaneWithoutDocHost\r\n          || dropPane.type === IgcDockManagerPaneType.documentHost) {\r\n          this.dropTargetPaneInfo = {\r\n            pane: dropPane,\r\n            targetRect: paneElement.getBoundingClientRect(),\r\n            docHost,\r\n            floatingPaneWithoutDocHost\r\n          };\r\n        } else {\r\n          this.dropTargetPaneInfo = null;\r\n        }\r\n      }\r\n    } else {\r\n      this.dropTargetPaneInfo = null;\r\n    }\r\n  }\r\n\r\n  private getDropTargetParentRect() {\r\n    const position = this.service.dockingIndicator.position;\r\n    let rect;\r\n    if (this.service.dockingIndicator.isRoot) {\r\n      rect = this.dockedPanesContainer.getBoundingClientRect();\r\n    } else {\r\n      if (Utils.isDockingIndicatorOuter(position as IgcDockingIndicatorPosition)) {\r\n        const targetDocHostParent = this.service.getParent(this.dropTargetPaneInfo.docHost) as IgcSplitPane;\r\n        const isIndicatorVertical = Utils.isDockingIndicatorVertical(position as IgcDockingIndicatorPosition);\r\n        const isSplitPaneVertical = Utils.isSplitPaneVertical(targetDocHostParent);\r\n        const isSameSplitPane = ((isIndicatorVertical && isSplitPaneVertical) || (!isIndicatorVertical && !isSplitPaneVertical));\r\n        const outerParent = isSameSplitPane ? targetDocHostParent : this.dropTargetPaneInfo.docHost.rootPane;\r\n        const outerParentRect = this.panesElementMap.has(outerParent) ? this.panesElementMap.get(outerParent).getBoundingClientRect() : null;\r\n        rect = outerParentRect;\r\n      } else {\r\n        const targetPaneParent = this.service.getParent(this.dropTargetPaneInfo.pane);\r\n        const targetPaneParentRect = this.panesElementMap.has(targetPaneParent) ? this.panesElementMap.get(targetPaneParent).getBoundingClientRect() : null;\r\n        rect = targetPaneParentRect;\r\n      }\r\n    }\r\n\r\n    return rect;\r\n  }\r\n\r\n  private handlePaneContentMouseDown(pane: IgcContentPane) {\r\n    requestAnimationFrame(() => {\r\n      const rootNode = this.getRootNode();\r\n      if (this.element === rootNode.activeElement || !this.element.contains(rootNode.activeElement)) {\r\n        this.setFocus(pane);\r\n        this.contentPaneId = pane.contentId;\r\n      }\r\n    });\r\n  }\r\n\r\n  private handlePaneContentScroll(pane: IgcContentPane, event: CustomEvent<IgcPaneScrollEventArgs>) {\r\n    const contentElement = event.target as HTMLElement;\r\n    const args: IgcPaneScrollEventArgs = {pane, contentElement: contentElement}\r\n\r\n    this.paneScroll.emit(args);\r\n  }\r\n\r\n  private handlePaneHeaderMouseDown(pane: IgcContentPane) {\r\n    const rootNode = this.getRootNode();\r\n    requestAnimationFrame(() => {\r\n      this.contentPaneId = pane.contentId;\r\n      if (this.element === rootNode.activeElement || !this.element.contains(rootNode.activeElement)) {\r\n        const paneElement = this.contentPanesElementMap.get(pane);\r\n        paneElement.focus();\r\n      } else {\r\n        this.setActivePane(pane);\r\n      }\r\n    });\r\n  }\r\n\r\n  private handleTabHeaderMouseDown(pane: IgcContentPane, event: MouseEvent) {\r\n    const target = event.currentTarget as HTMLElement;\r\n    const rootNode = this.getRootNode();\r\n\r\n    const pathHTMLElements = event.composedPath().filter(et => et instanceof HTMLElement).map(et => et as HTMLElement);\r\n    this._tabHeaderIconClicked = this.showHeaderIconOnHover &&\r\n      pathHTMLElements.filter(el => el.attributes.getNamedItem('part') && el.attributes.getNamedItem('part').value === 'tab-header-more-options floating').length > 0;\r\n\r\n    requestAnimationFrame(() => {\r\n      this.contentPaneId = pane.contentId;\r\n      this.reason = ActionReason.click;\r\n      if (this.element === rootNode.activeElement || !this.element.contains(rootNode.activeElement)) {\r\n        target.focus();\r\n      } else {\r\n        this.setActivePane(pane);\r\n      }\r\n    });\r\n  }\r\n\r\n  private handleFloatingPaneMouseDown(pane: IgcSplitPane, event: MouseEvent) {\r\n    const pathHTMLElements = event.composedPath().filter(e => e instanceof HTMLElement).map(e => e as HTMLElement);\r\n    const isContextMenu = pathHTMLElements.filter(e => e.attributes.getNamedItem('part') && e.attributes.getNamedItem('part').value === 'context-menu').length > 0;\r\n    if (isContextMenu) {\r\n      return;\r\n    }\r\n\r\n    this.service.bringFloatingPaneOnTop(pane);\r\n\r\n    const isTabs = pathHTMLElements.filter(e => e.attributes.getNamedItem('part') && e.attributes.getNamedItem('part').value === 'tabs-container').length > 0;\r\n    if (isTabs) {\r\n      return;\r\n    }\r\n\r\n    const isFloatingPaneHeader = pathHTMLElements.filter(e => e.attributes.getNamedItem('part') && e.attributes.getNamedItem('part').value === 'pane-header floating window').length > 0;\r\n    if (isFloatingPaneHeader) {\r\n      let targetPane: IgcContentPane;\r\n      let parent = this.service.getParent(this.activePane);\r\n      while (parent) {\r\n        if (parent === pane) {\r\n          targetPane = this.activePane;\r\n          break;\r\n        }\r\n\r\n        parent = this.service.getParent(parent);\r\n      }\r\n\r\n      requestAnimationFrame(() => {\r\n        if (!targetPane) {\r\n          targetPane = this.findFocusablePane(pane.panes);\r\n        }\r\n\r\n        if (!targetPane) {\r\n          targetPane = pane.panes[0] as IgcContentPane;\r\n        }\r\n        const nodeName = (event.target as HTMLElement).nodeName.toLowerCase();\r\n        if (nodeName === 'igc-dockmanager') {\r\n          this.setActivePane(targetPane);\r\n          this.setFocus(targetPane);\r\n        }\r\n\r\n        this.contentPaneId = targetPane.contentId;\r\n      });\r\n    }\r\n  }\r\n\r\n  private handleTabIconClick(p: IgcContentPane, position: IgcTabHeadersPosition, isFloating: boolean, event: CustomEvent<MouseEvent>) {\r\n    if (!this.showHeaderIconOnHover) {\r\n      this.focusElement();\r\n    }\r\n\r\n    if (!isFloating && position === IgcTabHeadersPosition.bottom) {\r\n      const elem = event.detail.target as HTMLElement;\r\n\r\n      const tabHeader = elem.closest('igc-tab-header-component');\r\n      const moreOptionsContainer: HTMLElement = tabHeader ?\r\n        tabHeader.shadowRoot.querySelector('div[part*=\"tab-header-more-options\"]') :\r\n        elem.closest('div[part*=\"tab-header-more-options\"]');\r\n\r\n      this.contextMenuMeta = { target: moreOptionsContainer, menuItems: this.service.createContextMenuItems(p), position: this.contextMenuPosition };\r\n    } else {\r\n      this.contextMenuMeta = null;\r\n      this.service.closeTabPane(p);\r\n    }\r\n  }\r\n\r\n  private handleContextMenuClosed() {\r\n    this.contextMenuMeta = null;\r\n  }\r\n\r\n  private handleTabSelectedIndexChanged(pane: IgcTabGroupPane, event: CustomEvent<number>) {\r\n    pane.selectedIndex = event.detail;\r\n  }\r\n\r\n  private handleHiddenTabSelected(pane: IgcTabGroupPane, event: CustomEvent<number>) {\r\n    this.activePane = this.service.getVisibleContentPanes(pane)[event.detail];\r\n  }\r\n\r\n  private handleSelectedTabOutOfView(pane: IgcTabGroupPane, event: CustomEvent<number>) {\r\n    const cp = this.service.getVisibleContentPanes(pane)[event.detail];\r\n    this.service.selectHiddenTab(pane, cp);\r\n  }\r\n\r\n  private handleTabIconKeyDown(iconName: string, p: IgcContentPane, ev: CustomEvent<KeyboardEvent>) {\r\n    if (iconName === 'arrow_drop_down' && ev.detail.key === 'ArrowDown') {\r\n      const targetElem = ev.detail.target as HTMLElement;\r\n      const tabHeader = targetElem.closest('igc-tab-header-component');\r\n      const moreOptionsContainer: HTMLElement = tabHeader ?\r\n        tabHeader.shadowRoot.querySelector('div[part=\"tab-header-more-options\"]') :\r\n        targetElem.closest('div[part=\"tab-header-more-options\"]');\r\n\r\n      this.contextMenuMeta = { target: moreOptionsContainer, menuItems: this.service.createContextMenuItems(p), position: this.contextMenuPosition };\r\n    }\r\n  }\r\n\r\n  private handleTabSelectedChanged(pane: IgcContentPane, ev: CustomEvent<boolean>) {\r\n    if (ev.detail && pane === this.paneToFocus) {\r\n      this.setFocus(pane);\r\n    }\r\n  }\r\n\r\n  private emitPaneHeaderConnected(pane: IgcContentPane, event: CustomEvent<IgcPaneHeaderElement>) {\r\n    this.paneHeaderConnected.emit({\r\n      pane,\r\n      element: event.detail\r\n    });\r\n  }\r\n\r\n  private emitPaneHeaderDisconnected(pane: IgcContentPane, event: CustomEvent<IgcPaneHeaderElement>) {\r\n    this.paneHeaderDisconnected.emit({\r\n      pane,\r\n      element: event.detail\r\n    });\r\n  }\r\n\r\n  private emitTabHeaderConnected(pane: IgcContentPane, event: CustomEvent<IgcTabHeaderElement>) {\r\n    this.tabHeaderConnected.emit({\r\n      pane,\r\n      element: event.detail\r\n    });\r\n  }\r\n\r\n  private emitTabHeaderDisconnected(pane: IgcContentPane, event: CustomEvent<IgcTabHeaderElement>) {\r\n    this.tabHeaderDisconnected.emit({\r\n      pane,\r\n      element: event.detail\r\n    });\r\n  }\r\n\r\n  private resolveAllowMaximize(pane: IgcDockManagerPane): boolean {\r\n    return this.service.resolveAllowMaximize(pane);\r\n  }\r\n\r\n  private removeHoveredPane() {\r\n    this.hoveredPane = null;\r\n  }\r\n\r\n  private togglePaneHeaderVisibility(pane: IgcContentPane, event: MouseEvent) {\r\n    const paneRect = this.contentPanesElementMap.get(pane).getBoundingClientRect();\r\n    const withinPane = event.clientY >= paneRect.top && event.clientY < paneRect.top + PANE_HEADER_HEIGHT;\r\n\r\n    if (withinPane) {\r\n      this.hoveredPane = pane;\r\n    } else {\r\n      this.removeHoveredPane();\r\n    }\r\n  }\r\n\r\n  private renderButtonsTemplates() {\r\n    return (\r\n      <template>\r\n        <slot name=\"paneHeaderCloseButton\" onSlotchange={this.updateTemplates}></slot>\r\n        <slot name=\"tabHeaderCloseButton\" onSlotchange={this.updateTemplates}></slot>\r\n        <slot name=\"closeButton\" onSlotchange={this.updateTemplates}></slot>\r\n        <slot name=\"moreTabsButton\" onSlotchange={this.updateTemplates}></slot>\r\n        <slot name=\"maximizeButton\" onSlotchange={this.updateTemplates}></slot>\r\n        <slot name=\"minimizeButton\" onSlotchange={this.updateTemplates}></slot>\r\n        <slot name=\"pinButton\" onSlotchange={this.updateTemplates}></slot>\r\n        <slot name=\"unpinButton\" onSlotchange={this.updateTemplates}></slot>\r\n        <slot name=\"moreOptionsButton\" onSlotchange={this.updateTemplates}></slot>\r\n        <slot name=\"splitterHandle\" onSlotchange={this.updateTemplates}></slot>\r\n      </template>\r\n      );\r\n  }\r\n\r\n  private renderContentPane(pane: IgcContentPane, isFloating: boolean, isFlyout: boolean) {\r\n    const parentPane = this.service.getParent(pane);\r\n\r\n    let forceDrag = false;\r\n    let isSingleFloatingContentPane = false;\r\n    let floatingPane: IgcSplitPane;\r\n\r\n    if (isFloating) {\r\n      floatingPane = this.service.getRootParent(pane);\r\n      const hasHeader = this.service.hasFloatingPaneHeader(floatingPane);\r\n\r\n      if (!hasHeader) {\r\n        isSingleFloatingContentPane = true;\r\n\r\n        if (this.service.forceDragPane === floatingPane) {\r\n          this.service.forceDragPane = null;\r\n          forceDrag = true;\r\n        }\r\n      }\r\n    }\r\n\r\n    const maximized = this.maximizedPane === pane ||\r\n      (parentPane.type === IgcDockManagerPaneType.tabGroupPane && this.maximizedPane === parentPane) ||\r\n      isFloating && isSingleFloatingContentPane && floatingPane === this.maximizedPane;\r\n\r\n    return (\r\n      <igc-content-pane-component\r\n        key={pane.id}\r\n        contentId={pane.contentId}\r\n        size={pane.size}\r\n        isFlyout={isFlyout}\r\n        unpinnedSize={pane.unpinnedSize}\r\n        disabled={pane.disabled}\r\n        isSingleFloating={isSingleFloatingContentPane}\r\n        onMouseMove={this.togglePaneHeaderVisibility.bind(this, pane)}\r\n        onMouseLeave={this.removeHoveredPane.bind(this)}\r\n        ref={el => {\r\n          if (el) {\r\n            this.panesElementMap.set(pane, el);\r\n            this.contentPanesElementMap.set(pane, el);\r\n          }\r\n        }}\r\n        class={{\r\n          'maximized': this.maximizedPane === pane\r\n        }}\r\n        header={pane.header}\r\n        onFocusin={this.handleContentPaneFocus.bind(this, pane)}\r\n      >\r\n        <igc-pane-header-component\r\n          slot=\"header\"\r\n          pane={pane}\r\n          isActive={pane === this.activePane}\r\n          disabled={pane.disabled && !isSingleFloatingContentPane}\r\n          pinned={this.service.getActualIsPinned(pane)}\r\n          allowMaximize={this.resolveAllowMaximize(pane)}\r\n          maximized={maximized}\r\n          allowClose={this.service.getActualAllowClose(pane)}\r\n          allowPinning={pane.allowPinning !== false}\r\n          isFloating={isFloating}\r\n          forcedDrag={forceDrag}\r\n          resourceStrings={this.resourceStrings}\r\n          onPinToggle={this.handlePinToggle.bind(this, pane)}\r\n          onMaximize={this.handleMaximize.bind(this, pane)}\r\n          onDragMoved={this.handlePaneDragMove.bind(this)}\r\n          onDragStarted={this.handlePaneDragStart.bind(this, isSingleFloatingContentPane ? floatingPane : pane)}\r\n          onDragEnded={this.handlePaneDragEnd.bind(this)}\r\n          onClose={this.handlePaneClose.bind(this, pane)}\r\n          onElementConnected={this.emitPaneHeaderConnected.bind(this, pane)}\r\n          onElementDisconnected={this.emitPaneHeaderDisconnected.bind(this, pane)}\r\n          onMouseDown={this.handlePaneHeaderMouseDown.bind(this, pane)}\r\n          class={{\r\n            'hidden': this.showPaneHeaders === 'onHoverOnly' && this.hoveredPane !== pane,\r\n            'transitioned': this.showPaneHeaders === 'onHoverOnly' && this.hoveredPane === pane\r\n          }}\r\n        >\r\n          {(isFloating && pane.floatingHeaderId) ? <slot name={pane.floatingHeaderId}></slot> :\r\n            pane.headerId ? <slot name={pane.headerId}></slot> :\r\n              pane.header}\r\n        </igc-pane-header-component>\r\n        <div\r\n          class=\"content\"\r\n          onMouseDown={this.handlePaneContentMouseDown.bind(this, pane)}\r\n          onScroll={this.handlePaneContentScroll.bind(this, pane)}\r\n        >\r\n          <slot name={pane.contentId}></slot>\r\n        </div>\r\n      </igc-content-pane-component>\r\n    );\r\n  }\r\n\r\n  private renderSplitter(parentPane: IgcSplitPane, pane: IgcDockManagerPane) {\r\n    return (\r\n      <igc-splitter-component\r\n        splitPaneOrientation={parentPane.orientation}\r\n        onResizeStart={this.handleSplitterResizeStart.bind(this, pane)}\r\n        onResizeEnd={this.handleSplitterResizeEnd.bind(this, parentPane, pane)}\r\n        onFocusin={this.clearActivePane.bind(this)}\r\n      >\r\n      </igc-splitter-component >\r\n    );\r\n  }\r\n\r\n  private renderDocumentHost(docHost: IgcDocumentHost) {\r\n    return (\r\n      <igc-document-host-component\r\n        key={docHost.id}\r\n        size={docHost.size}\r\n        ref={el => {\r\n          if (el) {\r\n            this.panesElementMap.set(docHost, el);\r\n          }\r\n        }}\r\n      >\r\n        {this.renderSplitPane(docHost.rootPane, false, true)}\r\n      </igc-document-host-component>\r\n    );\r\n  }\r\n\r\n  private renderTabGroup(pane: IgcTabGroupPane | IgcContentPane, isFloating: boolean, isInDocumentHost: boolean) {\r\n    let tabs = pane.type === IgcDockManagerPaneType.tabGroupPane ? pane.panes : [pane];\r\n    tabs = tabs.filter(t => this.service.isContentPaneVisible(t));\r\n    const selectedIndex = pane.type === IgcDockManagerPaneType.tabGroupPane && pane.selectedIndex ?\r\n      pane.selectedIndex : 0;\r\n    const position = isInDocumentHost ? IgcTabHeadersPosition.top : IgcTabHeadersPosition.bottom;\r\n    const isSingleTab = tabs.length === 1 && position === IgcTabHeadersPosition.bottom;\r\n    const allowEmpty = pane.type === IgcDockManagerPaneType.tabGroupPane ? pane.allowEmpty : false;\r\n    const allowMaximize = this.resolveAllowMaximize(pane);\r\n\r\n    let contentIds = [];\r\n    if (pane.type === IgcDockManagerPaneType.tabGroupPane) {\r\n      pane.panes.forEach(element => {\r\n        contentIds.push(element.contentId);\r\n      });\r\n    } else {\r\n      contentIds.push(pane.contentId);\r\n    }\r\n\r\n    return (allowEmpty || tabs.length > 0) && (\r\n      <igc-tabs-component\r\n        key={pane.id}\r\n        contentIds={contentIds}\r\n        size={pane.size}\r\n        selectedIndex={selectedIndex}\r\n        hasHeaders={!isSingleTab}\r\n        maximized={this.maximizedPane === pane}\r\n        allowMaximize={position === IgcTabHeadersPosition.top && allowMaximize}\r\n        onMaximizeMinimizeFocus={this.clearActivePane.bind(this)}\r\n        onMaximize={this.handleMaximize.bind(this, pane)}\r\n        onSelectedIndexChanged={this.handleTabSelectedIndexChanged.bind(this, pane)}\r\n        onHiddenTabSelected={this.handleHiddenTabSelected.bind(this, pane)}\r\n        onSelectedTabOutOfView={this.handleSelectedTabOutOfView.bind(this, pane)}\r\n        onRendered={this.handleTabsRendered.bind(this, pane)}\r\n        tabHeadersPosition={position}\r\n        resourceStrings={this.resourceStrings}\r\n        ref={el => {\r\n          if (el) {\r\n            this.panesElementMap.set(pane, el);\r\n          }\r\n        }}\r\n        class={{\r\n          'maximized': this.maximizedPane === pane,\r\n        }}\r\n      >\r\n        {isSingleTab ?\r\n          this.renderTabPanel(tabs[0], false, isFloating) :\r\n          tabs.map(p => {\r\n            return [\r\n              this.renderTabHeader(p, position, isFloating),\r\n              this.renderTabPanel(p, isInDocumentHost, isFloating)\r\n            ];\r\n          })}\r\n      </igc-tabs-component>\r\n    );\r\n  }\r\n\r\n  private renderTabPanel(pane: IgcContentPane, isInDocumentHost: boolean, isFloating: boolean) {\r\n    return (\r\n      <igc-tab-panel-component\r\n        key={pane.id}\r\n        disabled={pane.disabled}\r\n        onMouseDown={isInDocumentHost ? this.handlePaneContentMouseDown.bind(this, pane) : null}\r\n        onSelectedChanged={this.handleTabSelectedChanged.bind(this, pane)}\r\n        onScroll={isInDocumentHost ? this.handlePaneContentScroll.bind(this, pane) : null}\r\n      >\r\n        {isInDocumentHost ?\r\n          <slot name={pane.contentId}></slot> :\r\n          this.renderContentPane(pane, isFloating, false)}\r\n      </igc-tab-panel-component>);\r\n  }\r\n\r\n  private renderTabHeader(pane: IgcContentPane, position: IgcTabHeadersPosition, isFloating: boolean) {\r\n    let forceDrag = false;\r\n    const allowClose = this.service.getActualAllowClose(pane);\r\n    const allowPinning = pane.allowPinning !== false;\r\n    const iconName = isFloating ?\r\n      allowClose ? 'close' : null :\r\n      position === IgcTabHeadersPosition.bottom ?\r\n        allowClose || allowPinning ? 'arrow_drop_down' : null :\r\n        allowClose ? 'close' : null;\r\n\r\n    if (this.service.forceDragTabHeader === pane) {\r\n      this.service.forceDragTabHeader = null;\r\n      forceDrag = true;\r\n    }\r\n\r\n    return (\r\n      <igc-tab-header-component\r\n        key={pane.id}\r\n        slot=\"tabHeader\"\r\n        isActive={pane === this.activePane}\r\n        disabled={pane.disabled}\r\n        showHeaderIconOnHover={this.showHeaderIconOnHover}\r\n        header={pane.header}\r\n        resourceStrings={this.resourceStrings}\r\n        onDragStarted={this.handleTabHeaderDragStart.bind(this, pane)}\r\n        onDragMoved={this.handleTabHeaderDragMove.bind(this, pane)}\r\n        onDragEnded={this.handleTabHeaderDragEnd.bind(this, pane)}\r\n        onMouseDown={this.handleTabHeaderMouseDown.bind(this, pane)}\r\n        onIconKeyDown={this.handleTabIconKeyDown.bind(this, iconName, pane)}\r\n        position={position}\r\n        onIconClicked={this.handleTabIconClick.bind(this, pane, position, isFloating)}\r\n        iconName={iconName}\r\n        forcedDrag={forceDrag}\r\n        onElementConnected={this.emitTabHeaderConnected.bind(this, pane)}\r\n        onElementDisconnected={this.emitTabHeaderDisconnected.bind(this, pane)}\r\n        ref={el => {\r\n          if (el) {\r\n            this.tabHeadersMap.set(pane, el);\r\n          }\r\n        }}\r\n        onFocusin={this.handleTabHeaderFocus.bind(this, pane)}\r\n      >\r\n        {\r\n          pane.tabHeaderId ?\r\n            <slot name={pane.tabHeaderId}></slot> :\r\n            <span part=\"header-title\" title={pane.header}>{pane.header}</span>\r\n        }\r\n      </igc-tab-header-component>);\r\n  }\r\n\r\n  private renderSplitPane(splitPane: IgcSplitPane, isFloating: boolean, isInDocumentHost: boolean) {\r\n    const panes = this.service.getSplitPaneVisibleChildren(splitPane);\r\n\r\n    return (splitPane.allowEmpty || panes.length > 0) && (\r\n      <igc-split-pane-component\r\n        key={splitPane.id}\r\n        orientation={splitPane.orientation}\r\n        size={splitPane.size}\r\n        onRendered={this.handleSplitPaneRendered.bind(this, panes)}\r\n        ref={el => {\r\n          if (el) {\r\n            this.panesElementMap.set(splitPane, el);\r\n          }\r\n        }}\r\n      >\r\n        {panes.map((p, i) => {\r\n          let paneComponent;\r\n\r\n          if (p.type === IgcDockManagerPaneType.splitPane) {\r\n            paneComponent = this.renderSplitPane(p, isFloating, isInDocumentHost);\r\n          } else if (p.type === IgcDockManagerPaneType.contentPane) {\r\n            paneComponent = isInDocumentHost ?\r\n              this.renderTabGroup(p, isFloating, true) :\r\n              this.renderContentPane(p, isFloating, false);\r\n          } else if (p.type === IgcDockManagerPaneType.documentHost) {\r\n            paneComponent = this.renderDocumentHost(p);\r\n          } else if (p.type === IgcDockManagerPaneType.tabGroupPane) {\r\n            paneComponent = this.renderTabGroup(p, isFloating, isInDocumentHost);\r\n          }\r\n\r\n          return i > 0 ?\r\n            [this.renderSplitter(splitPane, p), paneComponent] :\r\n            paneComponent;\r\n        })}\r\n      </igc-split-pane-component>\r\n    );\r\n  }\r\n\r\n  private renderUnpinnedTabArea(location: IgcUnpinnedLocation) {\r\n    const panes: IgcContentPane[] = [];\r\n    const isHorizontal = location === IgcUnpinnedLocation.top || location === IgcUnpinnedLocation.bottom;\r\n    const isLeft = location === IgcUnpinnedLocation.left;\r\n    const isRight = location === IgcUnpinnedLocation.right;\r\n    const isBottom = location === IgcUnpinnedLocation.bottom;\r\n\r\n    this.service.unpinnedLocationMap.forEach((l, p) => {\r\n      if (l === location && p.hidden !== true) {\r\n        panes.push(p);\r\n      }\r\n    });\r\n\r\n    const tabAreaClasses = {\r\n      'unpinned-tab-area': true,\r\n      'unpinned-tab-area--left': isLeft,\r\n      'unpinned-tab-area--right': isRight,\r\n      'unpinned-tab-area--bottom': isBottom,\r\n      'unpinned-tab-area--horizontal': isHorizontal,\r\n      'unpinned-tab-area--hidden': panes.length === 0\r\n    };\r\n\r\n    return (\r\n      <div\r\n        class={tabAreaClasses}\r\n        part={Utils.partNameMap(tabAreaClasses)}\r\n        role=\"tablist\"\r\n        aria-orientation={isHorizontal ? 'horizontal' : 'vertical'}\r\n      >\r\n        {panes.map(p => (\r\n          <igc-unpinned-pane-header-component\r\n            location={location}\r\n            isActive={p === this.activePane}\r\n            disabled={p.disabled}\r\n            onMouseDown={this.handleUnpinnedTabMouseDown.bind(this, p)}\r\n            onKeyDown={this.handleUnpinnedTabKeyDown.bind(this, p)}\r\n            onFocus={this.handleUnpinnedHeaderFocus.bind(this, p)}\r\n            ref={el => {\r\n              if (el) {\r\n                const slot = el.querySelector('slot');\r\n                if (slot && p.unpinnedHeaderId) {\r\n                  slot.name = p.unpinnedHeaderId;\r\n                }\r\n                this.unpinnedHeadersMap.set(p, el);\r\n              }\r\n            }}\r\n          >\r\n            {p.unpinnedHeaderId ? <slot name={p.unpinnedHeaderId} /> : p.header}\r\n          </igc-unpinned-pane-header-component>\r\n        ))}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  private renderFlyoutPane() {\r\n    const location = this.service.unpinnedLocationMap.get(this.flyoutPane);\r\n    const flyoutClasses = {\r\n      'flyout-pane': true,\r\n      'flyout-pane--right': location === IgcUnpinnedLocation.right,\r\n      'flyout-pane--bottom': location === IgcUnpinnedLocation.bottom,\r\n      'flyout-pane--left': location === IgcUnpinnedLocation.left,\r\n    };\r\n\r\n    let splitPaneOrientation = IgcSplitPaneOrientation.vertical;\r\n\r\n    if (location === IgcUnpinnedLocation.left || location === IgcUnpinnedLocation.right) {\r\n      splitPaneOrientation = IgcSplitPaneOrientation.horizontal;\r\n    }\r\n\r\n    const maximized = this.maximizedPane === this.flyoutPane;\r\n\r\n    return this.flyoutPane && (\r\n      <div class={flyoutClasses} style={{ 'z-index': maximized ? '10002' : '2' }}>\r\n        {this.renderContentPane(this.flyoutPane, false, true)}\r\n        <igc-splitter-component\r\n          flyoutLocation={location}\r\n          splitPaneOrientation={splitPaneOrientation}\r\n          onResizeStart={this.handleSplitterResizeStart.bind(this, this.flyoutPane, )}\r\n          onResizeEnd={this.handleFlyoutSplitterResizeEnd.bind(this, this.flyoutPane, splitPaneOrientation)}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  private renderFloatingPanes() {\r\n    return (\r\n      <div class=\"floating-panes\" style={{ position: this.maximizedPane ? 'absolute' : 'fixed' }}>\r\n        {this.layout?.floatingPanes?.map(p => {\r\n          const panes = this.service.getSplitPaneVisibleChildren(p);\r\n\r\n          if (panes.length === 0) {\r\n            return null;\r\n          }\r\n\r\n          const hasHeader = this.service.hasFloatingPaneHeader(p);\r\n          let forceDrag = false;\r\n          if (p === this.service.forceDragPane && hasHeader) {\r\n            this.service.forceDragPane = null;\r\n            forceDrag = true;\r\n          }\r\n\r\n          const containsMaximizedPane = this.maximizedPane && this.service.getRootParent(this.maximizedPane) === p;\r\n\r\n          return (\r\n            <igc-floating-pane-component\r\n              key={p.id}\r\n              floatingId={p.id}\r\n              style={{ zIndex: this.floatingPaneZIndicesMap.get(p).toString() }}\r\n              floatingLocation={p.floatingLocation ? p.floatingLocation : { x: 0, y: 0 }}\r\n              floatingWidth={p.floatingWidth ? p.floatingWidth : IGC_DEFAULT_PANE_SIZE}\r\n              floatingHeight={p.floatingHeight ? p.floatingHeight : IGC_DEFAULT_PANE_SIZE}\r\n              hasHeader={hasHeader}\r\n              onWndResizeStart={this.handleFloatingPaneResizeStart.bind(this, p)}\r\n              onWndResizeMove={this.handleFloatingPaneResizeMove.bind(this, p)}\r\n              onWndResizeEnd={this.handleFloatingPaneResizeEnd.bind(this, p)}\r\n              onMouseDown={this.handleFloatingPaneMouseDown.bind(this, p)}\r\n              class={{\r\n                'maximized': this.maximizedPane === p\r\n              }}\r\n              maximized={this.maximizedPane === p || containsMaximizedPane}\r\n              allowResize={p.floatingResizable ?? this.allowFloatingPanesResize}\r\n            >\r\n              {hasHeader ?\r\n                <igc-pane-header-component\r\n                  slot=\"header\"\r\n                  isFloating\r\n                  isFloatingPaneHeader\r\n                  forcedDrag={forceDrag}\r\n                  allowMaximize={this.resolveAllowMaximize(p)}\r\n                  maximized={this.maximizedPane === p}\r\n                  resourceStrings={this.resourceStrings}\r\n                  onDragStarted={this.handlePaneDragStart.bind(this, p)}\r\n                  onDragMoved={this.handlePaneDragMove.bind(this)}\r\n                  onDragEnded={this.handlePaneDragEnd.bind(this)}\r\n                  onClose={this.handleFloatingPaneClose.bind(this, p)}\r\n                  onMaximize={this.handleMaximize.bind(this, p)}\r\n                  onFocusin={(this.clearActivePane.bind(this))}\r\n                >\r\n                </igc-pane-header-component> : null\r\n              }\r\n              {this.renderSplitPane(p, true, false)}\r\n            </igc-floating-pane-component>\r\n          );\r\n        })\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n\r\n  private renderRootDockingIndicator(position: IgcDockingIndicatorPosition) {\r\n    return (\r\n      <igc-root-docking-indicator-component\r\n        position={position}\r\n      >\r\n      </igc-root-docking-indicator-component>\r\n    );\r\n  }\r\n\r\n  private renderDockingIndicators() {\r\n    const startPosition = this.direction !== 'rtl' ? IgcDockingIndicatorPosition.left : IgcDockingIndicatorPosition.right;\r\n    const endPosition = this.direction !== 'rtl' ? IgcDockingIndicatorPosition.right : IgcDockingIndicatorPosition.left;\r\n\r\n    return (\r\n      <div\r\n        class=\"docking-indicators-container\"\r\n        style={{\r\n          display: this.showDockingIndicators ? 'flex' : 'none'\r\n        }}\r\n      >\r\n        {!this.documentOnlyDrag && !this.proximityDock && this.renderRootDockingIndicator(IgcDockingIndicatorPosition.top)}\r\n        <div\r\n          style={{\r\n            flexGrow: '1',\r\n            display: 'flex',\r\n            flexDirection: 'row',\r\n            justifyContent: 'space-between'\r\n          }}\r\n        >\r\n          {!this.documentOnlyDrag && !this.proximityDock && this.renderRootDockingIndicator(startPosition)}\r\n          {!this.documentOnlyDrag && !this.proximityDock && this.renderRootDockingIndicator(endPosition)}\r\n        </div>\r\n        {!this.documentOnlyDrag && !this.proximityDock && this.renderRootDockingIndicator(IgcDockingIndicatorPosition.bottom)}\r\n\r\n        {this.dropTargetPaneInfo && !this.proximityDock &&\r\n          <igc-joystick-indicator-component\r\n            dropTargetPaneInfo={this.dropTargetPaneInfo}\r\n            documentOnlyDrag={this.documentOnlyDrag}\r\n            allowCenterDock={this.allowInnerDock}\r\n          />}\r\n      </div>);\r\n  }\r\n\r\n  private renderContextMenu() {\r\n    return this.contextMenuMeta && (\r\n      <igc-context-menu-component\r\n        onMenuClosed={this.handleContextMenuClosed.bind(this)}\r\n        orientation={IgcContextMenuOrientation.bottom}\r\n        items={this.contextMenuMeta.menuItems}\r\n        target={this.contextMenuMeta.target}\r\n        position={this.contextMenuMeta.position}\r\n      >\r\n      </igc-context-menu-component>);\r\n  }\r\n\r\n  private renderDropShadow() {\r\n    return this.dropShadowRect && (\r\n      <div\r\n        part=\"docking-preview\"\r\n        class=\"drop-shadow\"\r\n        style={{\r\n          top: `${this.dropShadowRect?.y}px`,\r\n          left: `${this.dropShadowRect?.x}px`,\r\n          width: `${this.dropShadowRect?.width}px`,\r\n          height: `${this.dropShadowRect?.height}px`,\r\n        }}\r\n      />\r\n    );\r\n  }\r\n\r\n  handlePaneNavigatorClosed(ev: CustomEvent<IgcContentPane>) {\r\n    this.service.normalizeMaximizedPane(ev.detail);\r\n\r\n    const parent = this.service.getRootParent(ev.detail);\r\n    const isParentFloating = this.service.isFloatingPane(parent);\r\n\r\n    if (isParentFloating) {\r\n      this.service.bringFloatingPaneOnTop(parent);\r\n    }\r\n\r\n    if (ev.detail && this.activePane !== ev.detail) {\r\n      this.activePane = ev.detail;\r\n    }\r\n    this.navigationPaneMeta = null;\r\n  }\r\n\r\n  renderPaneNavigator() {\r\n    return this.navigationPaneMeta &&\r\n      <igc-pane-navigator-component\r\n        onClosed={this.handlePaneNavigatorClosed.bind(this)}\r\n        activePanes={this.navigationPaneMeta.activePanes}\r\n        activeDocuments={this.navigationPaneMeta.activeDocuments}\r\n        selectedIndex={this.navigationPaneMeta.initialIndex}\r\n        previousActivePaneIndex={this.navigationPaneMeta.previousActivePaneIndex}\r\n        resourceStrings={this.resourceStrings}\r\n      >\r\n      </igc-pane-navigator-component>;\r\n  }\r\n\r\n  render() {\r\n    this.panesElementMap = new TwoWayMap<IgcDockManagerPane, HTMLElement>();\r\n    this.tabHeadersMap = new Map<IgcContentPane, HTMLElement>();\r\n    this.unpinnedHeadersMap = new Map<IgcContentPane, HTMLElement>();\r\n    this.contentPanesElementMap = new Map<IgcContentPane, HTMLElement>();\r\n\r\n    return (\r\n      <Host\r\n        tabindex=\"0\"\r\n        role=\"group\"\r\n      >\r\n        {this.renderButtonsTemplates()}\r\n        {this.renderUnpinnedTabArea(IgcUnpinnedLocation.left)}\r\n        <div class=\"pane-container--vertical\" style={{ position: this.maximizedPane ? 'absolute' : 'relative' }}>\r\n          {this.renderUnpinnedTabArea(IgcUnpinnedLocation.top)}\r\n          <div\r\n            ref={el => this.dockedPanesContainer = el}\r\n            class=\"pane-container--horizontal\"\r\n            style={{ position: this.maximizedPane ? 'absolute' : 'relative' }}\r\n          >\r\n            {this.layout?.rootPane && this.renderSplitPane(this.layout.rootPane, false, false)}\r\n            {this.renderFlyoutPane()}\r\n            {this.renderDockingIndicators()}\r\n          </div>\r\n          {this.renderUnpinnedTabArea(IgcUnpinnedLocation.bottom)}\r\n        </div>\r\n        {this.renderUnpinnedTabArea(IgcUnpinnedLocation.right)}\r\n        {this.renderFloatingPanes()}\r\n        {this.renderContextMenu()}\r\n        {this.renderPaneNavigator()}\r\n        <igc-trial-watermark text=\"Trial version of Ignite UI\" style={{ 'z-index': '10005' }}></igc-trial-watermark>\r\n        {this.renderDropShadow()}\r\n      </Host>\r\n    );\r\n  }\r\n}\r\n"]}