{"version":3,"names":["buttonComponentCss","IgcButtonComponent","render","h","Host","disabled","this","name","type","value","Utils","isDockingIndicatorVertical","position","IgcDockingIndicatorPosition","top","bottom","outerTop","outerBottom","isDockingIndicatorBefore","left","outerLeft","isDockingIndicatorBeforeRTL","right","outerRight","isDockingIndicatorOuter","isSplitPaneVertical","splitPane","orientation","IgcSplitPaneOrientation","vertical","isAltPressed","event","altKey","getModifierState","isControlOrMetaPressed","ctrlKey","metaKey","partNameMap","partNameInfo","delimiter","Object","keys","filter","key","join","getDirection","element","direction","dir","parent","parentElement","IGC_DEFAULT_PANE_SIZE","IGC_DEFAULT_UNPIN_PANE_SIZE","IGC_RESIZING_MIN_SIZE","IGC_DEFAULT_RESIZE","IGC_DRAG_FLYOUT_THRESHOLD","IgcTabHeadersPosition","IgcContextMenuOrientation","IgcPinBehavior","contentPaneComponentCss","IgcContentPaneComponent","componentDidRender","rendered","emit","size","unpinnedSize","parts","contentId","isSingleFloating","role","header","tabindex","style","flex","isFlyout","part","contextMenuComponentCss","IgcContextMenuComponent","handleDocumentResize","menuClosed","handleDocumentMouseDown","ev","composedPath","every","el","elem","emitMenuClosed","connectedCallback","document","defaultView","addEventListener","disconnectedCallback","removeEventListener","componentDidLoad","isTabsMoreButton","target","querySelector","menuItemsDivRect","menuItemsDiv","getBoundingClientRect","hostRect","rootNodeShadowHost","getRootNode","isFloating","host","rootHostRect","isTabs","tagName","toLowerCase","tabsContentHost","shadowRoot","tabRect","tabsContentRect","isRTL","shouldChangeOpenOrientation","window","innerHeight","height","menuToBottom","menuToTop","menuToStart","width","menuToEnd","menuToCenter","menuLeft","menuTop","menuBottom","visibility","focusItemAndSetActiveIndex","firstMenuItem","focus","parentNode","handleKeyboardEvents","item","menuItemChildren","querySelectorAll","activeIndex","length","clickHandler","handleMenuItemClick","renderItemIcon","Fragment","iconName","renderCloseButton","renderUnpinButton","exportparts","ref","onMouseDown","preventDefault","items","map","onKeyDown","bind","onClick","flexGrow","userSelect","displayText","_typeof","obj","Symbol","iterator","constructor","prototype","_classCallCheck","instance","Constructor","TypeError","_defineProperties","props","i","descriptor","enumerable","configurable","writable","defineProperty","_createClass","protoProps","staticProps","_inherits","subClass","superClass","create","_setPrototypeOf","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","Super","_getPrototypeOf","result","NewTarget","Reflect","construct","arguments","apply","_possibleConstructorReturn","self","call","_assertThisInitialized","ReferenceError","_wrapNativeSuper","Class","_cache","Map","undefined","_isNativeFunction","has","get","set","Wrapper","_construct","Parent","args","a","push","Function","sham","Proxy","Date","toString","e","fn","indexOf","o","p","setPrototypeOf","__proto__","getPrototypeOf","customElements","watermarkRegistered","TrialWatermark","_HTMLElement","_super","_this","shadow","attachShadow","mode","__anchor","createElement","setAttribute","img","textContent","appendChild","getElementById","__themes","hasAttribute","getAttribute","anchorImg","prepend","head","HTMLElement","define","TwoWayMap","reversedMap","getByValue","delete","hasValue","IgcDockManagerService","dockManager","unpinnedLocationMap","keyboardDockPane","getContent","clientContentPanesMap","generateUuid","replace","c","r","Math","random","v","populatePaneParents","isRoot","isInDocHost","id","pane","panes","paneParentMap","IgcDockManagerPaneType","contentPane","hidden","visibleDocuments","visibleContentPanes","tabGroupPane","cp","documentHost","documentHosts","rootPane","populatePinLocations","addContentPanePinLocation","resolvePaneUnpinLocation","unpinnedLocation","findClosestDocumentHost","findPaneUnpinLocation","IgcUnpinnedLocation","isPinned","panePath","getPanePath","maxCommonParents","closestDocHost","docHost","docHostPath","paneParent","docHostParent","commonParentIndex","commonParent","paneIndex","docHostIndex","horizontal","removePane","maximizedPane","layout","floatingPanes","floatingIndex","splice","index","allowEmpty","rootParent","getRootParent","isFloatingPane","removeFloatingPaneIfEmpty","childPanes","getChildContentPanes","addFloatingPane","content","location","floatingPane","floatingLocation","floatingWidth","floatingHeight","draggedPane","initialFloatingPaneLocation","forceDragPane","getChildContentPanesRecursive","children","child","getChildDocHostRecursive","getVisibleContentPanes","t","isContentPaneVisible","getPaneToDock","removeDocumentHost","getParent","dockToCenter","targetPane","targetContainer","targetParent","panesToDock","paneToDock","documentOnlyDrag","dockToEdge","isIndicatorVertical","proximityDock","dockingIndicator","dropTargetPaneInfo","floatingPaneWithoutDocHost","activePane","insertIndex","newSplitPane","updateLayout","assign","hasMaximizedProp","getLastMaximizedPane","Array","from","isMaximized","processLayout","indicesToDelete","floatingPaneZIndicesMap","flyoutPane","path","currentPane","getDocHostParent","resizeFlyoutPane","delta","paneSize","newSize","resizePane","deltaPercentage","parentPane","getSplitPaneVisibleChildren","paneSizes","sizeSum","reduce","calcDelta","togglePin","pinBehavior","allPanes","newValue","getActualIsPinned","isTabGroup","allowPinning","isTabGroupPinning","selectedPane","selectedIndex","sourcePane","panePinnedToggle","defaultPrevented","targetPanes","closePane","paneToRemove","paneRemoved","removeAllowedPanes","emitPaneClose","closeFloatingPane","paneClose","getActualAllowClose","maximizePane","moveFloatingPane","resizeFloatingPaneStart","resizerLocation","resizeArgs","resizeStartEvent","floatingPaneResizeStart","_a","x","y","initialFloatingPaneWidth","_b","initialFloatingPaneHeight","_c","resizeFloatingPane","currX","currY","currW","currH","minW","minH","initialWidth","initialHeight","initialLocation","totalOffsetY","dragMoveArgs","totalOffsetX","newX","newY","newWidth","newHeight","maxHeight","documentElement","clientHeight","maxWidth","clientWidth","IgcResizerLocation","resizingArgs","oldWidth","oldHeight","oldLocation","newLocation","resizingEvent","floatingPaneResizeMove","cancel","resizeFloatingPaneEnd","floatingPaneResizeEnd","layoutChange","floatPane","panesToRemove","paneToAdd","forEach","floatTab","documentOnly","hasFloatingPaneHeader","childPane","rootDockPane","newRootPane","dockPane","draggedFloatingPane","center","allowClose","some","closeTabPane","bringFloatingPaneOnTop","oldZIndex","zIndex","createContextMenuItems","resourceStrings","close","unpin","dragPaneStart","rect","clientX","clientY","disableDockingAndFloating","allowDocking","allowFloating","dragStartEvent","paneDragStart","draggedPanes","initialDragClientPoint","action","IgcPaneDragActionType","dragOverEvent","paneDragOver","isValid","detail","pointInBoundaries","minDragPosition","dockManagerRect","maxDragPosition","dragPaneMove","containedInBoundaries","isValidDrop","dragOver","dragPaneEnd","draggedTab","docked","paneDragEnd","dropShadowRect","proximityDockPosition","emitDragOverEvent","getDropShadowRectRoot","getDropShadowRect","disableDocking","dragTabStart","shiftLeftThreshold","Number","MAX_VALUE","shiftRightThreshold","initialTabHeaderClickOffset","dragTabMove","rects","offsetX","headerRect","prevHeaderRect","nextHeaderRect","lastVisibleHeaderRect","tabsRect","clickOffsetX","clickOffsetY","moveTab","oldIndex","newIndex","shiftTabLeft","shiftTabRight","abs","floatTabHeader","DOMRect","resolveChildPanesAllowMaximize","visiblePanes","allowMaximize","normalizeMaximizedPane","resolveAllowMaximize","dockingPosition","dockingDirection","shadowRect","parentRect","dropTargetParentRect","targetRect","draggedPaneSize","isOuter","baseRect","draggedPaneIndex","dropTargetIndex","isSameSplitPane","panesTotalSize","b","beforePanesTotalSize","slice","afterPanesTotalSize","rootRect","isEmptyDockManager","selectHiddenTab","tabGroup","draggedIndex","forceDragTabHeader","cacheDocumentsOrder","documentsCache","cacheContentPanesOrder","contentPanesCache","focusPrevContentPane","activePaneIndex","prevPane","focusNextContentPane","nextPane","IgcDockManagerKeyboardService","service","handleKeydown","disableKeyboardNavigation","ctrlOrMetaKey","shiftKey","startsWith","handleFocusPane","stopPropagation","focusElement","handleDockPane","setPaneNavigatorMeta","f6","arrowLeft","arrowRight","handleRootDockPane","activePaneParent","handleInnerDockPane","initIndex","allItems","concat","metadata","activePanes","activeDocuments","initialIndex","previousActivePaneIndex","navigationPaneMeta","dockmanagerComponentCss","ActionReason","PANE_HEADER_HEIGHT","IgcDockManager","_tabHeaderIconClicked","keyboardService","activePaneInternalSet","domObserver","MutationObserver","mutationCallback","shouldMovePane","scheduledCallbacks","shouldClearActivePane","isDragging","splitterOffset","loaded","resizeObserver","ResizeObserver","restrictFloatingPaneSize","proximityDockThreshold","proximityOuterDockThreshold","templatableComponents","slot","targetName","targetSlot","targetPart","updateTemplates","templates","slotted","slottedArray","usedTemplates","templatableSlots","comp","matchedSlots","s","assignedElements","handleCustomContentFocusIn","eventArgs","currentTarget","setActivePane","_isValidDrop","handleShadowRootFocusOut","paneToFocus","rootNode","requestAnimationFrame","activeElement","reason","maximizeOrMinimize","clearActivePane","flyoutPaneChanged","scheduleAfterRender","setFocus","containedInBoundariesChanged","layoutChanged","draggedPaneChanged","showDockingIndicators","dropPositionChanged","paneDragMoved","dropPosition","activePaneChange","oldValue","newPane","oldPane","activePaneChanged","contentPaneId","visibleTabs","tabHeaderElement","tabHeadersMap","firstTabRect","visibleIndex","handleFocusOut","_event","contains","handleKeyDown","handlePointerDown","pathHTMLElements","isMaximizeOrMinimize","attributes","getNamedItem","handlePointerUp","dropPane","handlePaneDragEnd","Promise","resolve","focusPane","isUnpinned","handlePaneFlyout","observe","subtree","childList","dockManagerChildren","htmlElem","componentWillLoad","contextMenuMeta","closestElement","closest","lang","resourceStringsMap","componentWillRender","lastMaximizedPane","shouldFlyout","handleMaximize","callback","shift","processTemplates","removeCustomContentEventListeners","disconnect","handleTabsRendered","drop","focusablePane","findFocusablePane","handleSplitPaneRendered","candidate","splitPanes","tabGroupPanes","docHostPane","find","component","template","componentMatches","match","slottedClose","cloneNode","handleTabHeaderFocus","handleContentPaneFocus","handleUnpinnedHeaderFocus","elemToFocus","contentPanesElementMap","unpinnedHeadersMap","Error","records","rec","addedNodes","removedNodes","body","cursor","paneElement","panesElementMap","isPaneSizeWithinConstraints","offset","minSize","maxSize","parseFloat","getComputedStyle","minWidth","minHeight","isNaN","handleFlyoutSplitterResizeEnd","splitter","previousPane","previousElementSibling","paneWidth","paneHeight","splitterResizeEnd","handleSplitterResizeStart","splitPaneOrientation","splitterEl","nextElementSibling","splitterResizeStart","showDragGhost","handleSplitterResizeEnd","splitPaneChildren","paneComponents","sizeProperty","offsetPercentage","rtl","handlePinToggle","handlePaneClose","handleFloatingPaneClose","handleUnpinnedTabMouseDown","handleUnpinnedTabKeyDown","handlePaneDragStart","dragStarted","handlePaneDragMove","handleDropPositionChange","cursorLocation","getProximityDockPosition","getInnerDropTargetParentRect","dragMoved","targetDocHostParent","targetPaneParent","allowOuterProximityDock","targetPaneParentRect","dropTarget","targetPaneRect","centerX","centerY","acceptsInnerDock","allowInnerDock","isOverSplitter","splitterRect","allowOuterTopDock","allowOuterBottomDock","allowOuterLeftDock","allowOuterRightDock","handleTabHeaderDragStart","handleTabHeaderDragMove","tabs","tabHeaders","headerIndex","th","tabRectsInfo","tabMoved","handleTabHeaderDragEnd","handleFloatingPaneResizeStart","resizeStarted","handleFloatingPaneResizeMove","handleFloatingPaneResizeEnd","elements","elementsFromPoint","splitterIndex","adjacentElement","floatingId","topElement","indicatorTarget","dockingIndicatorElement","joystickIcon","empty","joystickIndicator","getDropTargetParentRect","draggedHeader","topFloatingPane","lastIndexOf","dropPaneRoot","dockedPanesContainer","outerParent","outerParentRect","handlePaneContentMouseDown","handlePaneContentScroll","contentElement","paneScroll","handlePaneHeaderMouseDown","handleTabHeaderMouseDown","et","showHeaderIconOnHover","click","handleFloatingPaneMouseDown","isContextMenu","isFloatingPaneHeader","nodeName","handleTabIconClick","tabHeader","moreOptionsContainer","menuItems","contextMenuPosition","handleContextMenuClosed","handleTabSelectedIndexChanged","handleHiddenTabSelected","handleSelectedTabOutOfView","handleTabIconKeyDown","targetElem","handleTabSelectedChanged","emitPaneHeaderConnected","paneHeaderConnected","emitPaneHeaderDisconnected","paneHeaderDisconnected","emitTabHeaderConnected","tabHeaderConnected","emitTabHeaderDisconnected","tabHeaderDisconnected","removeHoveredPane","hoveredPane","togglePaneHeaderVisibility","paneRect","withinPane","renderButtonsTemplates","onSlotchange","renderContentPane","forceDrag","isSingleFloatingContentPane","hasHeader","maximized","onMouseMove","onMouseLeave","class","onFocusin","isActive","pinned","forcedDrag","onPinToggle","onMaximize","onDragMoved","onDragStarted","onDragEnded","onClose","onElementConnected","onElementDisconnected","showPaneHeaders","transitioned","floatingHeaderId","headerId","onScroll","renderSplitter","onResizeStart","onResizeEnd","renderDocumentHost","renderSplitPane","renderTabGroup","isInDocumentHost","isSingleTab","contentIds","hasHeaders","onMaximizeMinimizeFocus","onSelectedIndexChanged","onHiddenTabSelected","onSelectedTabOutOfView","onRendered","tabHeadersPosition","renderTabPanel","renderTabHeader","onSelectedChanged","onIconKeyDown","onIconClicked","tabHeaderId","title","paneComponent","renderUnpinnedTabArea","isHorizontal","isLeft","isRight","isBottom","l","tabAreaClasses","onFocus","unpinnedHeaderId","renderFlyoutPane","flyoutClasses","flyoutLocation","renderFloatingPanes","containsMaximizedPane","onWndResizeStart","onWndResizeMove","onWndResizeEnd","allowResize","floatingResizable","allowFloatingPanesResize","renderRootDockingIndicator","renderDockingIndicators","startPosition","endPosition","display","flexDirection","justifyContent","allowCenterDock","renderContextMenu","onMenuClosed","renderDropShadow","_d","handlePaneNavigatorClosed","isParentFloating","renderPaneNavigator","onClosed","text","documentHostComponentCss","IgcDocumentHostComponent","floatingPaneComponentCss","IgcFloatingPaneComponent","handleResizerMove","wndResizeMove","handleResizeStart","offsetY","wndResizeStart","handleResizeEnd","wndResizeEnd","styles","floatingMinWidth","floatingMinHeight","onResizerDragStart","onResizerMoved","onResizerDragEnd","topRight","topLeft","bottomRight","bottomLeft","icons","pin","first_page","chevron_left","flip","crop_square","arrow_drop_down","maximize","minimize","more","iconComponentCss","IgcIconComponent","innerHTML","joystickIconComponentCss","IgcJoystickIconComponent","resolveIconDivClass","positionClass","classes","resolveMargin","resolveGridRow","isDocHost","resolveGridColumn","renderIcon","transform","gridRow","gridColumn","margin","joystickIndicatorComponentCss","IgcJoystickIndicatorComponent","isEmptyCenter","isEmptyEdge","selector","shouldAllowCenterDock","renderBlankIndicator","renderIndicator","IGNORE_DRAG","IgcDragService","captureTarget","_capturedElement","val","dragTolerance","dragEdgeTolerance","handleWheel","targets","Element","startX","startY","lastX","lastY","setPointerCapture","pointerId","subscribeDragEvents","handlePointerMove","currentX","currentY","triggerDragStart","dragMove","unsubscribeDragEvents","releasePointerCapture","dragEnd","dragStart","passive","destroy","forceDragging","paneHeaderComponentCss","IgcPaneHeaderComponent","pinButtonClick","pinToggle","maximizeButtonClick","closeButtonClick","dragService","dragEnded","elementConnected","elementDisconnected","forcedDragChanged","renderMaximizeButton","renderMinimizeButton","renderPinButton","commonParts","active","floating","paneHeaderParts","paneHeaderContentParts","paneHeaderActionsParts","exportParts","paneNavigatorComponentCss","IgcPaneNavigatorComponent","scrollItemToView","selectedItem","allItemsElement","selectedItemRect","itemsContainerRect","scrollTop","handleKeyUp","code","closed","isShiftPressed","decreaseSelectedIndex","increaseSelectedIndex","navigateToIndex","counter","amount","paneNav","resolveItemPart","selected","selectItem","renderItems","onMouseUp","tabIndex","documents","resizerComponentCss","IgcResizerComponent","resizerDragStart","resizerDragEnd","resizerMoved","isCornerResizer","pointerEvents","rootDockingIndicatorComponentCss","IgcRootDockingIndicatorComponent","splitPaneComponentCss","IgcSplitPaneComponent","splitterComponentCss","IgcSplitterComponent","handleMouseUp","dragStartHelper","dragEndHelper","ghostElement","clientCoordinate","startCoordinate","endCoordinate","dragOffset","constrainFlyoutResize","constrainSplitPaneResize","calculateOffset","isArrowUp","isArrowLeft","isArrowDown","isArrowRight","handleKeydownEvent","handleMouseDown","resizeStart","offsetWidth","offsetHeight","flyoutMaxSize","resizeEnd","isStartLocation","minOffset","maxOffset","dockmanager","isVertical","referencePaneSize","handleSlotChange","handleSlot","hasCustomSplitterHandle","handle","splitterClasses","ghostClasses","tabHeaderComponentCss","IgcTabHeaderComponent","iconClick","iconClicked","keyDown","iconKeyDown","iconSlot","isIconClicked","tabMouseDown","handleMouseEnter","hovered","handleMouseLeave","activeChanged","queryButton","button","shouldShowButton","renderMoreOptionsButton","moreOptions","showCloseOnHover","showMoreOptionsOnHover","tabParts","tabPanelComponentCss","IgcTabPanelComponent","emitSelectedChanged","selectedPropChange","componentDidUpdate","selectedChanged","tabsComponentCss","NEXT_TAB_ID","IgcTabsComponent","forcedUpdate","selectionOrder","tabHeadersDivResized","slotChanged","setTabsAttributes","updateSelection","handleSelectedIndexChanged","forceUpdate","onTabKeyDown","hiddenTabHeaders","handleMaximizeMinimizeFocus","maximizeMinimizeFocus","selectedIndexPropertyChanged","selectedIndexChanged","hiddenTabsMenuMeta","checkForActivePane","componentWillUpdate","headers","missingMatchIndex","findIndex","newSelectedIndex","currentSelectionId","existingMatchIndex","tabHeadersDiv","setHasHiddenTabs","tabPanels","tabPanelId","containerTop","offsetTop","handleTabMouseDown","selectedTabHeader","selectedTabOutOfView","hasHiddenTabs","activeTabHeader","hiddenActiveTabIndex","activeTabIndex","handleHiddenTabsMenuClick","hiddenTabSelected","renderHiddenTabsMenu","renderTabHeaders","commontParts","tabStripParts","tabStripActionsParts","showHiddenTabsMenu","renderMoreTabsButton","moreTabs","tabsContentParts","unpinnedPaneHeaderComponentCss","IgcUnpinnedPaneHeaderComponent","isTop","start","end","sampleComponentCss","customResourceStrings","addResourceStrings","SampleComponent","teamExplorerPane","unpinnedToolboxPane","unpinnedTeamExplorerPane","layout1","layout2","logEnabled","foundElem","saveLayout","savedLayout","JSON","stringify","loadLayout","parse","addPane","newId","newDiv","addTab","findElement","disableContentPane","toggleProximityDock","showPane","hiddenPanesSelect","hiddenPanes","showAllPanes","toggleInBoundaries","typeOfElement","someContent","createTextNode","divContent","log","hideOnCloseCheckbox","checked","handlePaneScroll","handlePinnedToggle","handleActivePaneChanged","handleDragStart","handleDragOver","handleDragEnd","handleLayoutChange","message","optionalParams","console","marginLeft","htmlFor","onPaneClose","onPaneScroll","onPanePinnedToggle","onActivePaneChanged","onPaneDragStart","onPaneDragOver","onPaneDragEnd","onSplitterResizeStart","onSplitterResizeEnd","onFloatingPaneResizeStart","onFloatingPaneResizeMove","onFloatingPaneResizeEnd","onLayoutChange","color","background"],"sources":["src/components/button/button-component.scss?tag=igc-button-component&encapsulation=shadow","src/components/button/button-component.tsx","src/utils/utils.ts","src/components/dockmanager/dockmanager.interfaces.ts","src/components/dockmanager/panes/content-pane-component.scss?tag=igc-content-pane-component&encapsulation=shadow","src/components/dockmanager/panes/content-pane-component.tsx","src/components/context-menu/context-menu-component.scss?tag=igc-context-menu-component&encapsulation=shadow","src/components/context-menu/context-menu-component.tsx","node_modules/igniteui-trial-watermark/index.js","src/utils/two-way-map.ts","src/components/dockmanager/dockmanager.service.ts","src/components/dockmanager/keyboard/keyboard.service.ts","src/components/dockmanager/dockmanager-component.scss?tag=igc-dockmanager&encapsulation=shadow","src/components/dockmanager/dockmanager-component.tsx","src/components/dockmanager/panes/document-host-component.css?tag=igc-document-host-component&encapsulation=scoped","src/components/dockmanager/panes/document-host-component.tsx","src/components/dockmanager/panes/floating-pane-component.scss?tag=igc-floating-pane-component&encapsulation=shadow","src/components/dockmanager/panes/floating-pane-component.tsx","src/components/icon/icons.ts","src/components/icon/icon-component.scss?tag=igc-icon-component&encapsulation=scoped","src/components/icon/icon-component.tsx","src/components/dockmanager/docking/joystick-icon-component.scss?tag=igc-joystick-icon-component&encapsulation=scoped","src/components/dockmanager/docking/joystick-icon-component.tsx","src/components/dockmanager/docking/joystick-indicator-component.scss?tag=igc-joystick-indicator-component&encapsulation=scoped","src/components/dockmanager/docking/joystick-indicator-component.tsx","src/components/drag-drop/drag.service.ts","src/components/dockmanager/panes/pane-header-component.scss?tag=igc-pane-header-component&encapsulation=shadow","src/components/dockmanager/panes/pane-header-component.tsx","src/components/dockmanager/pane-navigator/pane-navigator-component.scss?tag=igc-pane-navigator-component&encapsulation=shadow","src/components/dockmanager/pane-navigator/pane-navigator-component.tsx","src/components/dockmanager/panes/resizer-component.scss?tag=igc-resizer-component&encapsulation=scoped","src/components/dockmanager/panes/resizer-component.tsx","src/components/dockmanager/docking/root-docking-indicator-component.scss?tag=igc-root-docking-indicator-component&encapsulation=scoped","src/components/dockmanager/docking/root-docking-indicator-component.tsx","src/components/dockmanager/panes/split-pane-component.scss?tag=igc-split-pane-component&encapsulation=scoped","src/components/dockmanager/panes/split-pane-component.tsx","src/components/dockmanager/panes/splitter-component.scss?tag=igc-splitter-component&encapsulation=shadow","src/components/dockmanager/panes/splitter-component.tsx","src/components/tabs/tab-header-component.scss?tag=igc-tab-header-component&encapsulation=shadow","src/components/tabs/tab-header-component.tsx","src/components/tabs/tab-panel-component.scss?tag=igc-tab-panel-component&encapsulation=shadow","src/components/tabs/tab-panel-component.tsx","src/components/tabs/tabs-component.scss?tag=igc-tabs-component&encapsulation=shadow","src/components/tabs/tabs-component.tsx","src/components/dockmanager/panes/unpinned-pane-header-component.scss?tag=igc-unpinned-pane-header-component&encapsulation=shadow","src/components/dockmanager/panes/unpinned-pane-header-component.tsx","src/components/sample-component/sample-component.css?tag=sample-component&encapsulation=scoped","src/components/sample-component/sample-component.tsx"],"sourcesContent":["%button-display {\r\n  position: static;\r\n  display: inline-flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  width: auto;\r\n  height: 100%;\r\n  min-width: 10px;\r\n  padding: 2px 4px;\r\n  border-radius: 2px;\r\n  color: $button-text;\r\n  cursor: pointer;\r\n  outline-style: none;\r\n  font-size: 14px;\r\n  font-family: inherit;\r\n  background: transparent;\r\n  border: none;\r\n  -webkit-tap-highlight-color: transparent;\r\n  opacity: .7;\r\n  transition: background .25s ease-out,\r\n    opacity .25s ease-out,\r\n    box-shadow .25s ease-out;\r\n}\r\n\r\n:host([disabled]) {\r\n  pointer-events: none;\r\n}\r\n\r\n:host {\r\n  display: flex;\r\n}\r\n\r\nbutton {\r\n  @include ellipsis();\r\n  @extend %button-display;\r\n\r\n  &:hover {\r\n    opacity: 1;\r\n  }\r\n\r\n  &:focus {\r\n    background: $accent-color;\r\n    box-shadow: inset 0 0 0 1px $active-color;\r\n    opacity: 1;\r\n  }\r\n\r\n  &[disabled] {\r\n    opacity: .54;\r\n  }\r\n}\r\n\r\n","import { Component, Host, Prop, h } from '@stencil/core';\r\n\r\n/**\r\n * @hidden\r\n */\r\n@Component({\r\n  tag: 'igc-button-component',\r\n  styleUrl: 'button-component.scss',\r\n  shadow: true,\r\n})\r\nexport class IgcButtonComponent {\r\n  @Prop() disabled: boolean;\r\n  @Prop({ reflect: true }) name: string;\r\n  @Prop({ reflect: true }) type: string;\r\n  @Prop({ reflect: true }) value: string;\r\n\r\n  render() {\r\n    return (\r\n      <Host\r\n        disabled={this.disabled}\r\n      >\r\n        <button\r\n          name={this.name}\r\n          type={this.type}\r\n          value={this.value}\r\n          aria-disabled={this.disabled ? 'true' : null}\r\n        >\r\n          <slot />\r\n        </button>\r\n      </Host>\r\n    );\r\n  }\r\n}\r\n","import { IgcSplitPane, IgcSplitPaneOrientation } from '..';\r\nimport { PartNameInfo } from '../components/dockmanager/dockmanager.interfaces';\r\nimport { IgcDockingIndicatorPosition } from '../components/dockmanager/dockmanager.public-interfaces';\r\n\r\n/**\r\n * @hidden\r\n */\r\nexport class Utils {\r\n  static isDockingIndicatorVertical(position: IgcDockingIndicatorPosition): boolean {\r\n    return position === IgcDockingIndicatorPosition.top ||\r\n      position === IgcDockingIndicatorPosition.bottom ||\r\n      position === IgcDockingIndicatorPosition.outerTop ||\r\n      position === IgcDockingIndicatorPosition.outerBottom;\r\n  }\r\n\r\n  static isDockingIndicatorBefore(position: IgcDockingIndicatorPosition): boolean {\r\n    return position === IgcDockingIndicatorPosition.top ||\r\n      position === IgcDockingIndicatorPosition.left ||\r\n      position === IgcDockingIndicatorPosition.outerTop ||\r\n      position === IgcDockingIndicatorPosition.outerLeft;\r\n  }\r\n\r\n  static isDockingIndicatorBeforeRTL(position: IgcDockingIndicatorPosition): boolean {\r\n    return position === IgcDockingIndicatorPosition.top ||\r\n      position === IgcDockingIndicatorPosition.right ||\r\n      position === IgcDockingIndicatorPosition.outerTop ||\r\n      position === IgcDockingIndicatorPosition.outerRight;\r\n  }\r\n\r\n  static isDockingIndicatorOuter(position: IgcDockingIndicatorPosition): boolean {\r\n    return position === IgcDockingIndicatorPosition.outerLeft ||\r\n      position === IgcDockingIndicatorPosition.outerRight ||\r\n      position === IgcDockingIndicatorPosition.outerTop ||\r\n      position === IgcDockingIndicatorPosition.outerBottom;\r\n  }\r\n\r\n  static isSplitPaneVertical(splitPane: IgcSplitPane): boolean {\r\n    return splitPane.orientation === IgcSplitPaneOrientation.vertical;\r\n  }\r\n\r\n  static isAltPressed(event: KeyboardEvent): boolean {\r\n    return event.altKey || event.getModifierState('Alt') || event.getModifierState('AltGraph');\r\n  }\r\n\r\n  static isControlOrMetaPressed(event: KeyboardEvent): boolean {\r\n    return event.ctrlKey || event.metaKey || event.getModifierState('Meta') || event.getModifierState('OS');\r\n  }\r\n\r\n  static partNameMap(partNameInfo: PartNameInfo, delimiter = ' ') {\r\n    return Object.keys(partNameInfo).filter(key => partNameInfo[key]).join(delimiter);\r\n  }\r\n\r\n  static getDirection(element: any): string {\r\n    let direction = '';\r\n    if (element.dir !== '') {\r\n      direction = element.dir;\r\n    } else {\r\n      let parent = element.parentElement;\r\n      while (parent) {\r\n        if (parent.dir !== '') {\r\n          direction = parent.dir;\r\n          break;\r\n        }\r\n        parent = parent.parentElement;\r\n      }\r\n    }\r\n    return direction;\r\n  }\r\n}\r\n","import { EventEmitter } from '@stencil/core';\r\n\r\nimport {\r\n  IgcContentPane, IgcDockManagerLayout, IgcDockManagerPane, IgcDockManagerResourceStrings, IgcDocumentHost,\r\n  IgcFloatingPaneResizeEventArgs,\r\n  IgcFloatingPaneResizeMoveEventArgs,\r\n  IgcPaneCloseEventArgs, IgcPaneDragEndEventArgs, IgcPaneDragOverEventArgs, IgcPaneDragStartEventArgs, IgcPanePinnedEventArgs, IgcPaneScrollEventArgs, IgcSplitPane, IgcTabGroupPane\r\n} from './dockmanager.public-interfaces';\r\n\r\n/**\r\n * @hidden\r\n */\r\nexport const IGC_DEFAULT_PANE_SIZE = 100;\r\n\r\n/**\r\n * @hidden\r\n */\r\nexport const IGC_DEFAULT_UNPIN_PANE_SIZE = 200;\r\n\r\n/**\r\n * @hidden\r\n */\r\nexport const IGC_RESIZING_MIN_SIZE = 42;\r\n\r\n/**\r\n * @hidden\r\n */\r\nexport const IGC_DEFAULT_RESIZE = 10;\r\n\r\n/**\r\n * @hidden\r\n */\r\nexport const IGC_DRAG_FLYOUT_THRESHOLD = 50;\r\n\r\n/**\r\n * @hidden\r\n */\r\nexport enum IgcTabHeadersPosition {\r\n  top = 'top',\r\n  bottom = 'bottom'\r\n}\r\n\r\n/**\r\n * @hidden\r\n */\r\nexport enum IgcContextMenuOrientation {\r\n  top = 'top',\r\n  bottom = 'bottom'\r\n}\r\n\r\n/**\r\n * @hidden\r\n */\r\nexport type IgcContextMenuPosition = 'start' | 'center' | 'end' | 'stretch';\r\n\r\n/**\r\n * @hidden\r\n */\r\nexport enum IgcPinBehavior {\r\n  allPanes = 'allPanes',\r\n  selectedPane = 'selectedPane'\r\n}\r\n\r\n/**\r\n * @hidden\r\n */\r\nexport interface IgcDropTargetPaneInfo {\r\n  pane: IgcDockManagerPane;\r\n  docHost: IgcDocumentHost;\r\n  targetRect: DOMRect;\r\n  floatingPaneWithoutDocHost?: boolean;\r\n}\r\n\r\n/**\r\n * @hidden\r\n */\r\nexport interface IgcDockManagerComponentBase {\r\n  activePane: IgcContentPane;\r\n  draggedPane: IgcContentPane | IgcSplitPane | IgcTabGroupPane;\r\n  dropTargetPaneInfo: IgcDropTargetPaneInfo;\r\n  documentOnlyDrag: boolean;\r\n  dropShadowRect: DOMRect;\r\n  isValidDrop: boolean;\r\n  allowMaximize: boolean;\r\n  proximityDock: boolean;\r\n  containedInBoundaries: boolean;\r\n  flyoutPane: IgcContentPane;\r\n  maximizedPane: IgcContentPane | IgcSplitPane | IgcTabGroupPane;\r\n  layout: IgcDockManagerLayout;\r\n  disableKeyboardNavigation: boolean;\r\n  floatingPaneZIndicesMap: Map<IgcSplitPane, number>;\r\n  paneClose: EventEmitter<IgcPaneCloseEventArgs>;\r\n  paneScroll: EventEmitter<IgcPaneScrollEventArgs>;\r\n  panePinnedToggle: EventEmitter<IgcPanePinnedEventArgs>;\r\n  paneDragStart: EventEmitter<IgcPaneDragStartEventArgs>;\r\n  paneDragOver: EventEmitter<IgcPaneDragOverEventArgs>;\r\n  paneDragEnd: EventEmitter<IgcPaneDragEndEventArgs>;\r\n  resourceStrings: IgcDockManagerResourceStrings;\r\n  focusElement: () => void;\r\n  navigationPaneMeta?: IgcPaneNavigatorMetadata;\r\n  floatingPaneResizeStart: EventEmitter<IgcFloatingPaneResizeEventArgs>;\r\n  floatingPaneResizeMove: EventEmitter<IgcFloatingPaneResizeMoveEventArgs>;\r\n  floatingPaneResizeEnd: EventEmitter<IgcFloatingPaneResizeEventArgs>;\r\n  layoutChange: EventEmitter;\r\n  direction: string;\r\n  allowInnerDock: boolean;\r\n}\r\n\r\n/**\r\n * @hidden\r\n */\r\nexport interface IgcContextMenuMetadata {\r\n  menuItems: IgcContextMenuItem[];\r\n  target: HTMLElement;\r\n  position: IgcContextMenuPosition;\r\n}\r\n\r\n/**\r\n * @hidden\r\n */\r\nexport interface IgcContextMenuItem {\r\n  iconName: string;\r\n  displayText: string;\r\n  disabled?: boolean;\r\n  clickHandler: () => void;\r\n}\r\n\r\n/**\r\n * @hidden\r\n */\r\nexport interface IgcTabRectsInfo {\r\n  headerRect: DOMRect;\r\n  prevHeaderRect: DOMRect;\r\n  nextHeaderRect: DOMRect;\r\n  lastVisibleHeaderRect: DOMRect;\r\n  tabsRect: DOMRect;\r\n}\r\n\r\n/**\r\n * @hidden\r\n */\r\nexport interface IgcPaneNavigatorMetadata {\r\n  activePanes: IgcContentPane[];\r\n  activeDocuments: IgcContentPane[];\r\n  initialIndex: number;\r\n  previousActivePaneIndex: number;\r\n}\r\n\r\n/**\r\n * @hidden\r\n */\r\nexport interface PartNameInfo {\r\n  readonly [name: string]: string | boolean | number;\r\n}\r\n",":host {\r\n  --min-pane-size: 0px;\r\n\r\n  position: relative;\r\n  display: flex;\r\n  flex-direction: column;\r\n  overflow: hidden;\r\n  width: 100%;\r\n  height: 100%;\r\n  min-width: var(--min-pane-size);\r\n  min-height: var(--min-pane-size);\r\n  box-sizing: border-box;\r\n  pointer-events: all;\r\n}\r\n\r\n:host(:focus) {\r\n  outline-style: none;\r\n}\r\n\r\n:host([part~='disabled']:not([part~='single-floating'])),\r\n:host([part~='disabled']) > slot:not([name]) {\r\n  pointer-events: none;\r\n}\r\n","import { Component, Event, EventEmitter, Host, Prop, h } from '@stencil/core';\r\n\r\nimport { Utils } from '../../../utils/utils';\r\nimport { IGC_DEFAULT_PANE_SIZE, IGC_DEFAULT_UNPIN_PANE_SIZE } from '../dockmanager.interfaces';\r\n\r\n/**\r\n * @hidden\r\n */\r\n@Component({\r\n  tag: 'igc-content-pane-component',\r\n  styleUrl: 'content-pane-component.scss',\r\n  shadow: true,\r\n  scoped: false\r\n})\r\nexport class IgcContentPaneComponent {\r\n  @Prop() size: number;\r\n  @Prop() isFlyout: boolean;\r\n  @Prop() unpinnedSize: number;\r\n  @Prop() header: string;\r\n  @Prop() disabled = false;\r\n  @Prop() isSingleFloating = false;\r\n  @Prop() contentId: string;\r\n\r\n  @Event() rendered: EventEmitter<HTMLIgcContentPaneComponentElement>;\r\n\r\n  componentDidRender() {\r\n    this.rendered.emit();\r\n  }\r\n\r\n  render() {\r\n    const size = this.size || this.size === 0 ? this.size : IGC_DEFAULT_PANE_SIZE;\r\n    const unpinnedSize = this.unpinnedSize ? this.unpinnedSize : IGC_DEFAULT_UNPIN_PANE_SIZE;\r\n\r\n    const parts = Utils.partNameMap({\r\n      'content-pane': true,\r\n      [this.contentId]: true,\r\n      disabled: this.disabled,\r\n      'single-floating': this.isSingleFloating\r\n    });\r\n    return (\r\n      <Host\r\n        role=\"group\"\r\n        aria-label={this.header}\r\n        aria-disabled={this.disabled ? 'true' : 'false'}\r\n        tabindex={this.disabled ? -1 : 0}\r\n        style={{\r\n          flex: this.isFlyout ? `0 1 ${unpinnedSize}px` : `${size} 1 ${size}px`\r\n        }}\r\n        part={parts}\r\n      >\r\n        <slot name=\"header\">\r\n        </slot>\r\n        <slot></slot>\r\n      </Host>\r\n    );\r\n  }\r\n}\r\n",":host {\r\n  position: absolute;\r\n  display: block;\r\n  box-sizing: border-box;\r\n  top: 0;\r\n  left: 0;\r\n  bottom: 0;\r\n  right: 0;\r\n  z-index: 10002;\r\n  pointer-events: none;\r\n\r\n  igc-icon-component svg {\r\n    width: 17px;\r\n    height: 17px;\r\n  }\r\n\r\n  igc-icon-component {\r\n    margin-left: 8px;\r\n  }\r\n}\r\n\r\n[part='menu-content'] {\r\n  position: absolute;\r\n  visibility: hidden;\r\n  color: $context-menu-color;\r\n  background: $context-menu-background;\r\n  border: 1px solid $context-menu-background;\r\n  pointer-events: all;\r\n  box-shadow: 0 5px 22px rgba(0, 0, 0, .08),\r\n  0 12px 17px 2px rgba(0, 0, 0, .12),\r\n  0 7px 8px -4px rgba(0, 0, 0, .26);\r\n  box-sizing: border-box;\r\n}\r\n\r\n[part~='menu-item'] {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  padding: 6px 8px;\r\n  font-size: em(12px);\r\n  line-height: 1.7;\r\n  cursor: pointer;\r\n  transition: background .25s ease-out, color .25s ease-out;\r\n  outline-style: none;\r\n\r\n  &:hover {\r\n    background: $context-menu-background-active;\r\n    color: $context-menu-color-active;\r\n  }\r\n\r\n  &:focus {\r\n    background: $context-menu-background-active;\r\n    color: $context-menu-color-active;\r\n  }\r\n}\r\n\r\n[part~='disabled'] {\r\n  pointer-events: none;\r\n  color: $disabled-color;\r\n}\r\n","import { Component, Element, Event, EventEmitter, Fragment, Host, Listen, Prop, h } from '@stencil/core';\r\n\r\nimport { Utils } from '../../utils/utils';\r\nimport { IgcContextMenuItem, IgcContextMenuOrientation, IgcContextMenuPosition } from '../dockmanager/dockmanager.interfaces';\r\n\r\n/**\r\n * @hidden\r\n */\r\n@Component({\r\n  tag: 'igc-context-menu-component',\r\n  styleUrl: 'context-menu-component.scss',\r\n  shadow: true\r\n})\r\nexport class IgcContextMenuComponent {\r\n  private menuItemsDiv: HTMLElement;\r\n\r\n  @Element() elem: HTMLElement;\r\n\r\n  @Prop() orientation: IgcContextMenuOrientation;\r\n  @Prop() position: IgcContextMenuPosition;\r\n  @Prop() target: HTMLElement;\r\n  @Prop() items: IgcContextMenuItem[];\r\n\r\n  @Event() menuClosed: EventEmitter;\r\n\r\n  @Prop({ mutable: true }) activeIndex = 0;\r\n\r\n  @Listen('focusout')\r\n  emitMenuClosed() {\r\n    this.menuClosed.emit();\r\n  }\r\n\r\n  connectedCallback() {\r\n    document.defaultView.addEventListener('resize', this.handleDocumentResize, false);\r\n    document.defaultView.addEventListener('mousedown', this.handleDocumentMouseDown, false);\r\n  }\r\n\r\n  disconnectedCallback() {\r\n    document.defaultView.removeEventListener('resize', this.handleDocumentResize, false);\r\n    document.defaultView.removeEventListener('mousedown', this.handleDocumentMouseDown, false);\r\n  }\r\n\r\n  handleDocumentResize = () => {\r\n    this.menuClosed.emit();\r\n  }\r\n\r\n  handleDocumentMouseDown = (ev: MouseEvent) => {\r\n    if (ev.composedPath().every(el => el !== this.elem)) {\r\n      // mousedown outside of context menu\r\n      this.menuClosed.emit();\r\n    }\r\n  }\r\n\r\n  componentDidLoad() {\r\n    const isTabsMoreButton = this.target.querySelector('slot[name=\"tabsMoreButton\"]') !== null;\r\n    const menuItemsDivRect = this.menuItemsDiv.getBoundingClientRect();\r\n    const hostRect = this.elem.getBoundingClientRect();\r\n    const rootNodeShadowHost = (this.target.getRootNode() as ShadowRoot);\r\n    const isFloating = this.isFloating(rootNodeShadowHost.host);\r\n    const rootHostRect = rootNodeShadowHost.host.getBoundingClientRect();\r\n    const isTabs = rootNodeShadowHost.host.tagName.toLowerCase() === 'igc-tab-header-component';\r\n    const tabsContentHost = isTabs ? rootNodeShadowHost.host.parentElement.shadowRoot : rootNodeShadowHost;\r\n    const tabRect = tabsContentHost.host.getBoundingClientRect();\r\n    const tabsContentRect = tabsContentHost.querySelector('div[part~=\"tabs-content\"]').getBoundingClientRect();\r\n    const isRTL = rootHostRect.right - menuItemsDivRect.right < 1;\r\n    const shouldChangeOpenOrientation = tabRect.bottom + menuItemsDivRect.bottom >= window.innerHeight\r\n      || tabRect.height + menuItemsDivRect.bottom >= window.innerHeight\r\n      || (isTabsMoreButton && tabsContentRect.height- menuItemsDivRect.height > 0);\r\n    const menuToBottom = shouldChangeOpenOrientation\r\n      ? tabsContentRect.top + (tabsContentRect.height - menuItemsDivRect.bottom)\r\n      : rootHostRect.top - menuItemsDivRect.top + rootHostRect.height;\r\n\r\n    const menuToTop = tabsContentRect.top - menuItemsDivRect.top;\r\n    const menuToStart = isRTL ? rootHostRect.right - menuItemsDivRect.width : rootHostRect.left;\r\n    const menuToEnd = isRTL && !isFloating ? rootHostRect.left : rootHostRect.right - menuItemsDivRect.right;\r\n    const menuToCenter = rootHostRect.left + (rootHostRect.width - menuItemsDivRect.width) / 2;\r\n\r\n    let menuLeft = !isRTL ? menuToStart : menuToEnd;\r\n    let menuTop = this.orientation === IgcContextMenuOrientation.bottom\r\n      ? isTabs\r\n        ? menuToBottom\r\n        : menuToTop\r\n      : menuToBottom;\r\n\r\n    const menuBottom = menuTop + menuItemsDivRect.height;\r\n\r\n    menuTop = menuTop >= 0 ? menuTop : menuToBottom;\r\n\r\n    switch (this.position) {\r\n      case 'start':\r\n        menuLeft = menuToStart;\r\n        break;\r\n      case 'center':\r\n        menuLeft = rootHostRect.width > menuItemsDivRect.width && menuToCenter;\r\n        break;\r\n      case 'stretch':\r\n        this.menuItemsDiv.style.width = rootHostRect.width > menuItemsDivRect.width && `${rootHostRect.width}px`;\r\n        break;\r\n      case 'end':\r\n      default:\r\n        menuLeft = menuToEnd;\r\n    }\r\n\r\n    if (this.orientation === IgcContextMenuOrientation.bottom && menuBottom > hostRect.height) {\r\n      menuTop = menuToTop;\r\n    }\r\n\r\n    this.menuItemsDiv.style.left = `${menuLeft}px`;\r\n    this.menuItemsDiv.style.top = `${menuTop}px`;\r\n    this.menuItemsDiv.style.visibility = 'visible';\r\n\r\n    this.focusItemAndSetActiveIndex();\r\n  }\r\n\r\n  private focusItemAndSetActiveIndex() {\r\n    const firstMenuItem = this.menuItemsDiv.querySelector('div[part=\"menu-item\"]');\r\n\r\n    (firstMenuItem as HTMLElement)?.focus();\r\n  }\r\n\r\n  private isFloating(host: Element): boolean {\r\n    while (host) {\r\n      if (host.tagName && host.tagName.toLowerCase() === 'igc-floating-pane-component') {\r\n        return true;\r\n      }\r\n\r\n      host = host.parentNode as Element;\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  private handleKeyboardEvents(item: IgcContextMenuItem, ev: KeyboardEvent) {\r\n    const menuItemChildren = this.menuItemsDiv.querySelectorAll('div[part=\"menu-item\"]');\r\n\r\n    if (ev.key === 'ArrowDown') {\r\n      if (this.activeIndex < menuItemChildren.length - 1) {\r\n        this.activeIndex++;\r\n        (menuItemChildren[this.activeIndex] as HTMLElement).focus();\r\n      }\r\n    } else if (ev.key === 'ArrowUp') {\r\n      if (this.activeIndex > 0) {\r\n        this.activeIndex--;\r\n        (menuItemChildren[this.activeIndex] as HTMLElement).focus();\r\n      }\r\n    } else if (ev.key === 'Enter' || ev.key === ' ') {\r\n      item.clickHandler();\r\n      this.emitMenuClosed();\r\n    } else if (ev.key === 'Escape') {\r\n      this.emitMenuClosed();\r\n    }\r\n  }\r\n\r\n  private handleMenuItemClick(item: IgcContextMenuItem) {\r\n    item.clickHandler();\r\n    this.emitMenuClosed();\r\n  }\r\n\r\n  private renderItemIcon(item: IgcContextMenuItem) {\r\n    return (\r\n      <Fragment>\r\n        {item.iconName === 'close' && this.renderCloseButton()}\r\n        {item.iconName === 'unpin' && this.renderUnpinButton()}\r\n        {item.iconName !== null && item.iconName !== 'close' && item.iconName !== 'unpin' &&\r\n          <igc-icon-component name={item.iconName} />\r\n        }\r\n      </Fragment>\r\n    );\r\n  }\r\n\r\n  private renderCloseButton() {\r\n    return (\r\n      <slot name=\"contextMenuCloseButton\">\r\n        <igc-icon-component part=\"context-menu-close-button\" name=\"close\" />\r\n      </slot>\r\n    );\r\n  }\r\n\r\n  private renderUnpinButton() {\r\n    return (\r\n      <slot name=\"contextMenuUnpinButton\">\r\n        <igc-icon-component part=\"context-menu-unpin-button\" name=\"unpin\" />\r\n      </slot>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Host\r\n        part=\"context-menu\"\r\n        exportparts=\"context-menu,\r\n        menu-item: context-menu-item,\r\n        menu-content: context-menu-content,\r\n        context-menu-close-button,\r\n        context-menu-unpin-button\"\r\n      >\r\n        <div\r\n          role=\"menu\"\r\n          part=\"menu-content\"\r\n          ref={el => this.menuItemsDiv = el as HTMLElement}\r\n          onMouseDown={ev => {\r\n            ev.preventDefault();\r\n          }}\r\n        >\r\n          {this.items.map(item => {\r\n            const parts = Utils.partNameMap({\r\n              'menu-item': true,\r\n              disabled: item.disabled\r\n            });\r\n\r\n            return (\r\n              <div\r\n                role=\"menuitem\"\r\n                part={parts}\r\n                tabindex=\"-1\"\r\n                onKeyDown={this.handleKeyboardEvents.bind(this, item)}\r\n                onClick={this.handleMenuItemClick.bind(this, item)}\r\n              >\r\n                <span\r\n                  style={{\r\n                    flexGrow: '1',\r\n                    userSelect: 'none',\r\n                  }}\r\n                >\r\n                  {item.displayText}\r\n                </span>\r\n\r\n                {this.renderItemIcon(item)}\r\n              </div>\r\n            );\r\n          })\r\n          }\r\n        </div>\r\n      </Host>\r\n    );\r\n  }\r\n}\r\n","\"use strict\";function _typeof(obj){\"@babel/helpers - typeof\";if(typeof Symbol===\"function\"&&typeof Symbol.iterator===\"symbol\"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol===\"function\"&&obj.constructor===Symbol&&obj!==Symbol.prototype?\"symbol\":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function\")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else{result=Super.apply(this,arguments)}return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)===\"object\"||typeof call===\"function\")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}return self}function _wrapNativeSuper(Class){var _cache=typeof Map===\"function\"?new Map:undefined;_wrapNativeSuper=function _wrapNativeSuper(Class){if(Class===null||!_isNativeFunction(Class))return Class;if(typeof Class!==\"function\"){throw new TypeError(\"Super expression must either be null or a function\")}if(typeof _cache!==\"undefined\"){if(_cache.has(Class))return _cache.get(Class);_cache.set(Class,Wrapper)}function Wrapper(){return _construct(Class,arguments,_getPrototypeOf(this).constructor)}Wrapper.prototype=Object.create(Class.prototype,{constructor:{value:Wrapper,enumerable:false,writable:true,configurable:true}});return _setPrototypeOf(Wrapper,Class)};return _wrapNativeSuper(Class)}function _construct(Parent,args,Class){if(_isNativeReflectConstruct()){_construct=Reflect.construct}else{_construct=function _construct(Parent,args,Class){var a=[null];a.push.apply(a,args);var Constructor=Function.bind.apply(Parent,a);var instance=new Constructor;if(Class)_setPrototypeOf(instance,Class.prototype);return instance}}return _construct.apply(null,arguments)}function _isNativeReflectConstruct(){if(typeof Reflect===\"undefined\"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy===\"function\")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}function _isNativeFunction(fn){return Function.toString.call(fn).indexOf(\"[native code]\")!==-1}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}if(typeof customElements!==\"undefined\"){var watermarkRegistered=customElements.get(\"igc-trial-watermark\");if(!watermarkRegistered){(function(){var TrialWatermark=/*#__PURE__*/function(_HTMLElement){_inherits(TrialWatermark,_HTMLElement);var _super=_createSuper(TrialWatermark);function TrialWatermark(){var _this;_classCallCheck(this,TrialWatermark);_this=_super.call(this);var shadow=_this.attachShadow({mode:\"closed\"});_this.__anchor=document.createElement(\"a\");_this.__anchor.setAttribute(\"class\",\"watermark__link\");_this.__anchor.setAttribute(\"href\",\"https://www.infragistics.com/how-to-buy/renewal\");_this.__anchor.setAttribute(\"target\",\"_blank\");var img=document.createElement(\"span\");img.setAttribute(\"class\",\"watermark__background-img\");var style=document.createElement(\"style\");style.textContent=\":host{display:block;position:absolute;bottom:0;right:0;width:100%;height:100%;z-index:10000;pointer-events:none}:host .watermark__link{display:inline-flex;align-items:center;position:absolute;bottom:0;right:0;font-family:'Titillium Web', sans-serif;font-size:.875rem;padding:.125rem .25rem;line-height:normal;border:1px solid var(--igx-watermark-border-color, #09f);color:var(--igx-watermark-color, #fff);z-index:10002;background-color:var(--igx-watermark-link-background, #09f);pointer-events:all;text-decoration:none}:host .watermark__link img{margin-right:4px}:host .watermark__background-img{width:100%;height:100%;position:absolute;top:0;left:0;z-index:10001;pointer-events:none;background-image:var(--igx-watermark-background-image, url(\\\"data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgNDYgMjYiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+Cgkuc3Qwe29wYWNpdHk6MC4xMjtmaWxsOiMwMDk5RkY7fQo8L3N0eWxlPgo8cGF0aCBjbGFzcz0ic3QwIiBkPSJtNC4yIDIuNS0xLjctMC41IDAuNS0xLjctMS4zLTAuMy0wLjUgMS43LTAuNy0wLjItMC4zIDEuMSAwLjggMC4yLTAuOCAyLjhjLTAuMiAwLjgtMC4yIDEuNC0wLjEgMS44IDAuMiAwLjQgMC42IDAuNyAxLjIgMC44IDAuNCAwLjEgMC44IDAuMiAxLjIgMC4ybDAuMi0xLTEtMC4yYy0wLjItMC4xLTAuNC0wLjItMC40LTAuNCAwLTAuMyAwLjEtMC43IDAuMi0xbDAuNy0yLjYgMS43IDAuNCAwLjMtMS4xem0wLjcgNi42IDEuMS00LjFoMC4zYzAuNi0wLjEgMS4yLTAuMiAxLjktMC4xbDAuMy0xLjNjLTAuOC0wLjEtMS41IDAtMi4yIDAuM2wwLjItMC43LTEuNC0wLjMtMS41IDUuOCAxLjMgMC40em00LjMgMS4xIDEuNi01LjktMS4zLTAuNC0xLjYgNS45IDEuMyAwLjR6bTEuOS02LjkgMC40LTEuMy0xLjMtMC40LTAuNCAxLjMgMS4zIDAuNHptNS4xIDIuOGMtMC4yLTAuNC0wLjctMC43LTEuNC0wLjktMC44LTAuMi0xLjYtMC4zLTIuNS0wLjNsLTAuMyAwLjkgMC40IDAuMWMwLjggMC4xIDEuNCAwLjMgMS45IDAuNCAwLjIgMCAwLjQgMC4xIDAuNiAwLjMgMC4xIDAuMiAwLjEgMC41IDAgMC43bC0wLjEgMC40LTEuNS0wLjNjLTAuNS0wLjEtMS4xLTAuMS0xLjYgMC4xLTAuNCAwLjItMC43IDAuNi0wLjggMS4yLTAuMyAxLjIgMC4xIDIgMS4yIDIuNCAwLjcgMC4yIDEuMyAwLjIgMiAwLjEgMC40IDAuNCAwLjkgMC43IDEuNCAwLjlsMC4zLTFjLTAuMS0wLjEtMC4zLTAuMS0wLjMtMC4zLTAuMS0wLjEtMC4xLTAuMyAwLTAuNGwwLjctMi43YzAuMy0wLjcgMC4yLTEuMiAwLTEuNnptLTEuNiAyLjYtMC40IDEuNWgtMC4yYy0wLjQgMC0wLjkgMC0xLjMtMC4yLTAuNS0wLjEtMC42LTAuNS0wLjUtMXMwLjUtMC44IDAuOS0wLjdoMC4xYzAgMC4yIDEuNCAwLjQgMS40IDAuNHptMy41IDMuOSAyLjMtOC40LTEuMy0wLjQtMi4zIDguNCAxLjMgMC40eiIvPgo8L3N2Zz4K\\\"));background-size:200px 150px;background-position:top left}@media all and (-ms-high-contrast: none){:host .watermark__background-img{background-image:none}}\\n\";shadow.appendChild(style);shadow.appendChild(_this.__anchor);shadow.appendChild(img);if(!document.getElementById(\"igniteui-watermark-themes\")){_this.__themes=document.createElement(\"style\");_this.__themes.setAttribute(\"id\",\"igniteui-watermark-themes\");_this.__themes.textContent=\".dark-theme {\\n    --igx-watermark-border-color: #72da67;\\n    --igx-watermark-color: #fff;\\n    --igx-watermark-link-background: #72da67;\\n    --igx-watermark-background-image:  url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxODQiIGhlaWdodD0iMTA0IiB2aWV3Qm94PSIwIDAgMTg0IDEwNCI+CiAgPGRlZnM+CiAgICA8c3R5bGU+CiAgICAgIC5jbHMtMSB7CiAgICAgICAgZmlsbDogI2ZmZjsKICAgICAgICBmaWxsLXJ1bGU6IGV2ZW5vZGQ7CiAgICAgICAgb3BhY2l0eTogMC4wNTsKICAgICAgfQogICAgPC9zdHlsZT4KICA8L2RlZnM+CiAgPHBhdGggaWQ9InRyaWFsIiBjbGFzcz0iY2xzLTEiIGQ9Ik0xNi43MiwxMC4xNDhMMTAuMyw4LjQzNGwxLjgwNi02LjcyM0w3LjA5LDAuMzY5LDUuMjgzLDcuMDkyLDIuMzA4LDYuMywxLjE1LDEwLjYwOWwyLjk3NSwwLjhMMS4yMzUsMjIuMTYxcS0xLjM0NSw1LjAwNy0uMzY3LDcuMjA3VDUuOCwzMi42MjNhMjguMTYzLDI4LjE2MywwLDAsMCw0LjkuNjY0bDAuODUxLTQuMS0zLjg1LS44OHEtMS43MjEtLjQ2LTEuODg5LTEuNWExMS4xODgsMTEuMTg4LDAsMCwxLC41OTEtMy44NjdsMi43NDEtMTAuMiw2LjQxNiwxLjcxNFpNMTkuNywzNS43OWw0LjM0OC0xNi4xODEsMS4xMzUtLjE0NGEzMy44NzEsMzMuODcxLDAsMCwxLDcuMzgyLS4yMTRMMzMuOTE5LDE0LjJhMjIuOTQxLDIyLjk0MSwwLDAsMC04Ljc4OCwxLjE4TDI1Ljg3OCwxMi42bC01LjAyMS0xLjM0MkwxNC42MjksMzQuNDM2Wm0xNi43ODMsNC40ODUsNi4yMjktMjMuMTgyTDM3LjY0LDE1LjczOCwzMS40MTIsMzguOTIxWm03LjI4Ny0yNy4xMjNMNDUuMiw3LjgyLDQwLjEzMiw2LjQ2NiwzOC43LDExLjhabTIwLjA0MiwxMXEtMS4zOTEtMi4zMzQtNS42NDUtMy40NzFhNDEuOTUxLDQxLjk1MSwwLDAsMC05LjY0NS0xLjI4NWwtMC43NzMsMy42MiwxLjUxMywwLjNxNC41NjMsMC44MjIsNy41MzgsMS42MTdhMy41NjIsMy41NjIsMCwwLDEsMi4yLDEuMzgyLDMuNTI4LDMuNTI4LDAsMCwxLC4xMTYsMi44MTRMNTguNjU4LDMwLjgsNTIuNTI0LDI5LjdhMTAuNjQ1LDEwLjY0NSwwLDAsMC02LjMuMzU0cS0yLjMwNiwxLjA3NC0zLjI1Myw0LjYtMS45ODEsNy4zNzIsNC45NDYsOS4yMjNhMTguMzU3LDE4LjM1NywwLDAsMCw3Ljk0Ni4yODUsMTAuMTM0LDEwLjEzNCwwLDAsMCw1LjcyMiwzLjM2OEw2Mi43Niw0My43MmEyLjY2NSwyLjY2NSwwLDAsMS0xLjM0My0xLjAzLDIuMjczLDIuMjczLDAsMCwxLS4xMy0xLjY1bDIuODQtMTAuNTcxUTY1LjIsMjYuNDgyLDYzLjgwOCwyNC4xNDdaTTU3LjcsMzQuMzY3bC0xLjY1Nyw2LjE2Ni0wLjkxMi4wNTVBMTguNjM1LDE4LjYzNSwwLDAsMSw1MCw0MC4wMTNxLTIuODM2LS43NTgtMS45NzYtMy45NTdhMy4yMzcsMy4yMzcsMCwwLDEsNC4xNDItMi42MlpNNzEuNTMyLDQ5LjY0Mmw4LjgyLTMyLjgyNi01LjA2OC0xLjM1NC04LjgyLDMyLjgyNloiLz4KPC9zdmc+Cg==');\\n}\\n\\n.light-theme {\\n    --igx-watermark-border-color: #e41c77;\\n    --igx-watermark-color: #fff;\\n    --igx-watermark-link-background: #e41c77;\\n    --igx-watermark-background-image:  url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzNjYiIGhlaWdodD0iMjA5IiB2aWV3Qm94PSIwIDAgMzY2IDIwOSI+CiAgPGRlZnM+CiAgICA8c3R5bGU+CiAgICAgIC5jbHMtMSB7CiAgICAgICAgZmlsbC1ydWxlOiBldmVub2RkOwogICAgICAgIG9wYWNpdHk6IDAuMDU7CiAgICAgIH0KICAgIDwvc3R5bGU+CiAgPC9kZWZzPgogIDxwYXRoIGlkPSJ0cmlhbCIgY2xhc3M9ImNscy0xIiBkPSJNMzMuMzUsMjAuM2wtMTIuOC0zLjQyOSwzLjYtMTMuNDQ2TDE0LjE0MSwwLjczOGwtMy42LDEzLjQ0Nkw0LjYsMTIuNTk0LDIuMjkzLDIxLjIxOGw1LjkzNSwxLjU5TDIuNDYzLDQ0LjMyMVEtMC4yMiw1NC4zMzYsMS43MzIsNTguNzM1dDkuODM0LDYuNTExYTU2LjA2MSw1Ni4wNjEsMCwwLDAsOS43ODEsMS4zMjlsMS43LTguMTkyLTcuNjc4LTEuNzU5cS0zLjQzMi0uOTE5LTMuNzY5LTN0MS4xNzgtNy43MzVsNS40NjYtMjAuNCwxMi44LDMuNDI5Wk0zOS4yODUsNzEuNThsOC42NzEtMzIuMzYyLDIuMjY0LS4yODhBNjcuMzg4LDY3LjM4OCwwLDAsMSw2NC45NDUsMzguNWwyLjcwOC0xMC4xMDdhNDUuNjQyLDQ1LjY0MiwwLDAsMC0xNy41MjgsMi4zNmwxLjQ5MS01LjU2NEw0MS42LDIyLjUwNywyOS4xNzgsNjguODcyWk03Mi43Niw4MC41NUw4NS4xODMsMzQuMTg1LDc1LjA3NiwzMS40NzcsNjIuNjUyLDc3Ljg0MVpNODcuMjk1LDI2LjNsMi44NTctMTAuNjY0TDgwLjA0NSwxMi45MzEsNzcuMTg4LDIzLjU5NVptMzkuOTc0LDIxLjk5MXEtMi43NzUtNC42NjgtMTEuMjU5LTYuOTQzYTgzLjQ1OCw4My40NTgsMCwwLDAtMTkuMjM4LTIuNTcxbC0xLjU0Miw3LjI0LDMuMDE3LDAuNjFxOS4xLDEuNjQ0LDE1LjAzNSwzLjIzNGE3LjEsNy4xLDAsMCwxLDQuMzc4LDIuNzYzcTEuMjI0LDEuOTE5LjIzMiw1LjYyOEwxMTcsNjEuNTkzbC0xMi4yMzUtMi4xODVROTYuOCw1Ny45NzEsOTIuMiw2MC4xMTZUODUuNzEsNjkuMzFxLTMuOTUxLDE0Ljc0NCw5Ljg2NiwxOC40NDZhMzYuNTEzLDM2LjUxMywwLDAsMCwxNS44NDguNTY5cTMuNDM4LDQuNiwxMS40MTQsNi43MzZsMi4zNC03LjYyMkE1LjMxOSw1LjMxOSwwLDAsMSwxMjIuNSw4NS4zOGE0LjU2LDQuNTYsMCwwLDEtLjI1OS0zLjNsNS42NjUtMjEuMTQyUTEzMC4wNDQsNTIuOTY0LDEyNy4yNjksNDguMjk1Wk0xMTUuMDg0LDY4LjczM2wtMy4zMDUsMTIuMzMzLTEuODE4LjEwOWEzNy4wNywzNy4wNywwLDAsMS0xMC4yMjctMS4xNXEtNS42NTctMS41MTYtMy45NDItNy45MTR0OC4yNjItNS4yNFptMjcuNTkyLDMwLjU1LDE3LjU5MS02NS42NTJMMTUwLjE2LDMwLjkyMywxMzIuNTY4LDk2LjU3NVoiLz4KPC9zdmc+Cg==');\\n}\"}return _this}_createClass(TrialWatermark,[{key:\"connectedCallback\",value:function connectedCallback(){this.__anchor.textContent=this.hasAttribute(\"text\")?this.getAttribute(\"text\"):\"Trial version of Ignite UI for Angular\";var anchorImg=document.createElement(\"img\");anchorImg.setAttribute(\"src\",\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0id2hpdGUiIHdpZHRoPSIxOHB4IiBoZWlnaHQ9IjE4cHgiPjxwYXRoIGQ9Ik0wIDBoMjR2MjRIMFYweiIgZmlsbD0ibm9uZSIvPjxwYXRoIGQ9Ik0xNyA3aC00djJoNGMxLjY1IDAgMyAxLjM1IDMgM3MtMS4zNSAzLTMgM2gtNHYyaDRjMi43NiAwIDUtMi4yNCA1LTVzLTIuMjQtNS01LTV6bS02IDhIN2MtMS42NSAwLTMtMS4zNS0zLTNzMS4zNS0zIDMtM2g0VjdIN2MtMi43NiAwLTUgMi4yNC01IDVzMi4yNCA1IDUgNWg0di0yem0tMy00aDh2Mkg4eiIvPjwvc3ZnPg==\");this.__anchor.prepend(anchorImg);if(this.__themes&&this.hasAttribute(\"theming\")&&this.getAttribute(\"theming\")){document.head.appendChild(this.__themes)}}}]);return TrialWatermark}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));customElements.define(\"igc-trial-watermark\",TrialWatermark)})()}}","/**\r\n * @hidden\r\n */\r\nexport class TwoWayMap<K, V> {\r\n  private map = new Map<K, V>();\r\n  private reversedMap = new Map<V, K>();\r\n\r\n  set(key: K, value: V) {\r\n    this.map.set(key, value);\r\n    this.reversedMap.set(value, key);\r\n  }\r\n\r\n  get(key: K): V | undefined {\r\n    return this.map.get(key);\r\n  }\r\n\r\n  getByValue(value: V): K | undefined {\r\n    return this.reversedMap.get(value);\r\n  }\r\n\r\n  delete(key: K) {\r\n    const value = this.map.get(key);\r\n\r\n    this.map.delete(key);\r\n    this.reversedMap.delete(value);\r\n  }\r\n\r\n  has(key: K): boolean {\r\n    return this.map.has(key);\r\n  }\r\n\r\n  hasValue(value: V): boolean {\r\n    return this.reversedMap.has(value);\r\n  }\r\n}\r\n","import { Utils } from '../../utils/utils';\r\nimport { IgcDragMoveEventArguments, IgcDragResizeEventArguments } from '../drag-drop/drag.service';\r\n\r\nimport {\r\n  IGC_DEFAULT_PANE_SIZE, IGC_DEFAULT_UNPIN_PANE_SIZE, IGC_DRAG_FLYOUT_THRESHOLD, IgcContextMenuItem, IgcDockManagerComponentBase,\r\n  IgcPinBehavior, IgcTabRectsInfo\r\n} from './dockmanager.interfaces';\r\nimport {\r\n  IgcContentPane, IgcDockManagerPane, IgcDockManagerPaneType, IgcDockManagerPoint, IgcDockingIndicator, IgcDockingIndicatorPosition,\r\n  IgcDocumentHost, IgcFloatPaneAction, IgcFloatingPaneResizeEventArgs, IgcFloatingPaneResizeMoveEventArgs, IgcMoveTabAction, IgcPaneCloseEventArgs, IgcPaneDragActionType,\r\n  IgcPanePinnedEventArgs, IgcResizerLocation, IgcSplitPane, IgcSplitPaneOrientation, IgcTabGroupPane, IgcUnpinnedLocation\r\n} from './dockmanager.public-interfaces';\r\n\r\n/**\r\n * @hidden\r\n */\r\nexport class IgcDockManagerService {\r\n  private paneParentMap: Map<IgcDockManagerPane, IgcDockManagerPane>;\r\n  private initialFloatingPaneLocation: IgcDockManagerPoint;\r\n  private initialFloatingPaneWidth: number;\r\n  private initialFloatingPaneHeight: number;\r\n  private initialTabHeaderClickOffset: IgcDockManagerPoint;\r\n  private initialDragClientPoint: IgcDockManagerPoint;\r\n  private draggedPanes: IgcContentPane[];\r\n  private draggedTab: IgcContentPane;\r\n  private shiftLeftThreshold: number;\r\n  private shiftRightThreshold: number;\r\n  private documentsCache: IgcContentPane[];\r\n  private contentPanesCache: IgcContentPane[];\r\n\r\n  visibleDocuments: IgcContentPane[];\r\n  visibleContentPanes: IgcContentPane[];\r\n  documentHosts: IgcDocumentHost[];\r\n  clientContentPanesMap: Map<string, IgcContentPane>;\r\n  dropTargetParentRect: DOMRect;\r\n  dockManagerRect: DOMRect;\r\n  dockingIndicator: IgcDockingIndicator;\r\n  forceDragPane: IgcSplitPane;\r\n  forceDragTabHeader: IgcContentPane;\r\n  unpinnedLocationMap = new Map<IgcContentPane, IgcUnpinnedLocation>();\r\n  keyboardDockPane: IgcContentPane = null;\r\n  proximityDockPosition: IgcDockingIndicatorPosition;\r\n\r\n  constructor(public dockManager: IgcDockManagerComponentBase) {\r\n\r\n  }\r\n\r\n  getContent(contentId: string): IgcDockManagerPane {\r\n    return this.clientContentPanesMap.get(contentId);\r\n  }\r\n\r\n  private generateUuid(): string {\r\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, c => {\r\n      const r = Math.random() * 16 | 0;\r\n      const v = c === 'x' ? r : (r & 0x3 | 0x8);\r\n      return v.toString(16);\r\n    });\r\n  }\r\n\r\n  private populatePaneParents(splitPane: IgcSplitPane, isRoot: boolean, isInDocHost: boolean) {\r\n    if (!splitPane) {\r\n      return;\r\n    }\r\n\r\n    if (!splitPane.id) {\r\n      splitPane.id = this.generateUuid();\r\n    }\r\n\r\n    for (const pane of splitPane.panes) {\r\n      this.paneParentMap.set(pane, splitPane);\r\n\r\n      if (!pane.id) {\r\n        pane.id = this.generateUuid();\r\n      }\r\n\r\n      if (pane.type === IgcDockManagerPaneType.contentPane && !pane.hidden) {\r\n        this.clientContentPanesMap.set(pane.contentId, pane);\r\n        if (isInDocHost) {\r\n          this.visibleDocuments.push(pane);\r\n        } else {\r\n          this.visibleContentPanes.push(pane);\r\n        }\r\n      } else if (pane.type === IgcDockManagerPaneType.splitPane) {\r\n        this.populatePaneParents(pane, isRoot, isInDocHost);\r\n      } else if (pane.type === IgcDockManagerPaneType.tabGroupPane) {\r\n        for (const cp of pane.panes) {\r\n          if (!cp.id) {\r\n            cp.id = this.generateUuid();\r\n          }\r\n          this.paneParentMap.set(cp, pane);\r\n\r\n          if (!cp.hidden) {\r\n            this.clientContentPanesMap.set(cp.contentId, cp);\r\n            if (isInDocHost) {\r\n              this.visibleDocuments.push(cp);\r\n            } else {\r\n              this.visibleContentPanes.push(cp);\r\n            }\r\n          }\r\n        }\r\n      } else if (pane.type === IgcDockManagerPaneType.documentHost) {\r\n        if (isRoot) {\r\n          this.documentHosts.push(pane);\r\n        }\r\n        this.paneParentMap.set(pane.rootPane, pane);\r\n        this.populatePaneParents(pane.rootPane, isRoot, true);\r\n      }\r\n    }\r\n  }\r\n\r\n  private populatePinLocations(splitPane: IgcSplitPane) {\r\n    if (!splitPane) {\r\n      return;\r\n    }\r\n\r\n    for (const pane of splitPane.panes) {\r\n      if (pane.type === IgcDockManagerPaneType.splitPane) {\r\n        this.populatePinLocations(pane);\r\n      } else if (pane.type === IgcDockManagerPaneType.tabGroupPane) {\r\n        for (const cp of pane.panes) {\r\n          this.addContentPanePinLocation(cp);\r\n          this.paneParentMap.set(cp, pane);\r\n        }\r\n      } else if (pane.type === IgcDockManagerPaneType.contentPane) {\r\n        this.addContentPanePinLocation(pane);\r\n      }\r\n    }\r\n  }\r\n\r\n  private resolvePaneUnpinLocation(pane: IgcContentPane): IgcUnpinnedLocation {\r\n    let unpinnedLocation: IgcUnpinnedLocation;\r\n\r\n    if (pane.unpinnedLocation) {\r\n      unpinnedLocation = pane.unpinnedLocation;\r\n    } else {\r\n      const documentHost = this.findClosestDocumentHost(pane);\r\n      // TODO Implement an auto-detect algorithm for unpinned location when there is no document host\r\n      unpinnedLocation = documentHost ? this.findPaneUnpinLocation(pane, documentHost) : IgcUnpinnedLocation.left;\r\n    }\r\n\r\n    return unpinnedLocation;\r\n  }\r\n\r\n  private addContentPanePinLocation(pane: IgcContentPane) {\r\n    if (pane.isPinned === false) {\r\n      const unpinnedLocation = this.resolvePaneUnpinLocation(pane);\r\n      this.unpinnedLocationMap.set(pane, unpinnedLocation);\r\n    }\r\n  }\r\n\r\n  private findClosestDocumentHost(pane: IgcContentPane): IgcDocumentHost {\r\n    const panePath = this.getPanePath(pane);\r\n    let maxCommonParents = -1;\r\n    let closestDocHost: IgcDocumentHost;\r\n\r\n    for (const docHost of this.documentHosts) {\r\n      const docHostPath = this.getPanePath(docHost);\r\n      let i: number;\r\n\r\n      for (i = 0; i < panePath.length; i++) {\r\n        const paneParent = panePath[i];\r\n        const docHostParent = docHostPath[i];\r\n\r\n        if (paneParent !== docHostParent) {\r\n          break;\r\n        }\r\n      }\r\n\r\n      if (i > maxCommonParents) {\r\n        maxCommonParents = i;\r\n        closestDocHost = docHost;\r\n      }\r\n    }\r\n\r\n    return closestDocHost;\r\n  }\r\n\r\n  private findPaneUnpinLocation(pane: IgcContentPane, docHost: IgcDocumentHost): IgcUnpinnedLocation {\r\n    const panePath = this.getPanePath(pane);\r\n    const docHostPath = this.getPanePath(docHost);\r\n    let commonParentIndex = -1;\r\n\r\n    for (let i = 0; i < panePath.length; i++) {\r\n      const paneParent = panePath[i];\r\n      const docHostParent = docHostPath[i];\r\n\r\n      if (paneParent === docHostParent) {\r\n        commonParentIndex = i;\r\n      } else {\r\n        break;\r\n      }\r\n    }\r\n\r\n    if (commonParentIndex >= 0) {\r\n      const commonParent = panePath[commonParentIndex] as IgcSplitPane;\r\n      const paneIndex = commonParent.panes.indexOf(panePath[commonParentIndex + 1]);\r\n      const docHostIndex = commonParent.panes.indexOf(docHostPath[commonParentIndex + 1]);\r\n\r\n      return commonParent.orientation === IgcSplitPaneOrientation.horizontal ?\r\n        paneIndex < docHostIndex ? IgcUnpinnedLocation.left : IgcUnpinnedLocation.right :\r\n        paneIndex < docHostIndex ? IgcUnpinnedLocation.top : IgcUnpinnedLocation.bottom;\r\n    }\r\n\r\n    return IgcUnpinnedLocation.left;\r\n  }\r\n\r\n  removePane(pane: IgcDockManagerPane) {\r\n    if (pane === this.dockManager.maximizedPane) {\r\n      this.dockManager.maximizedPane = null;\r\n    }\r\n\r\n    const parent = this.paneParentMap.get(pane);\r\n\r\n    if (!parent) {\r\n      if (this.dockManager.layout.floatingPanes) {\r\n        const floatingIndex = this.dockManager.layout.floatingPanes.indexOf(pane as IgcSplitPane);\r\n        if (floatingIndex > -1) {\r\n          this.dockManager.layout.floatingPanes.splice(floatingIndex, 1);\r\n        }\r\n      }\r\n      return;\r\n    }\r\n\r\n    if (parent.type === IgcDockManagerPaneType.splitPane ||\r\n      parent.type === IgcDockManagerPaneType.tabGroupPane) {\r\n      const index = parent.panes.indexOf(pane as IgcContentPane);\r\n      parent.panes.splice(index, 1);\r\n\r\n      if (parent.panes.length === 0) {\r\n        if (parent.allowEmpty) {\r\n          const rootParent = this.getRootParent(pane);\r\n\r\n          if (this.isFloatingPane(rootParent)) {\r\n            this.removeFloatingPaneIfEmpty(rootParent);\r\n          }\r\n        } else {\r\n          this.removePane(parent);\r\n        }\r\n      } else if (parent.type === IgcDockManagerPaneType.splitPane) {\r\n        const rootParent = this.getRootParent(parent);\r\n        if (this.isFloatingPane(rootParent)) {\r\n          this.removeFloatingPaneIfEmpty(parent);\r\n        }\r\n      }\r\n    } else if (parent.type === IgcDockManagerPaneType.documentHost) {\r\n      parent.rootPane = null;\r\n      this.removePane(parent);\r\n    }\r\n  }\r\n\r\n  private removeFloatingPaneIfEmpty(pane: IgcSplitPane) {\r\n    const childPanes = this.getChildContentPanes(pane);\r\n\r\n    if (childPanes.length === 0) {\r\n      this.removePane(pane);\r\n    }\r\n  }\r\n\r\n  isFloatingPane(pane: IgcSplitPane) {\r\n    if (!this.dockManager.layout.floatingPanes) {\r\n      return false;\r\n    }\r\n    return this.dockManager.layout.floatingPanes.indexOf(pane) > -1;\r\n  }\r\n\r\n  private addFloatingPane(content: IgcDockManagerPane, location: IgcDockManagerPoint, width: number, height: number) {\r\n    const floatingPane: IgcSplitPane = {\r\n      type: IgcDockManagerPaneType.splitPane,\r\n      orientation: IgcSplitPaneOrientation.vertical,\r\n      panes: [content]\r\n    };\r\n\r\n    floatingPane.floatingLocation = location;\r\n    floatingPane.floatingWidth = width;\r\n    floatingPane.floatingHeight = height;\r\n\r\n    if (!this.dockManager.layout.floatingPanes) {\r\n      this.dockManager.layout.floatingPanes = [];\r\n    }\r\n    this.dockManager.layout.floatingPanes.push(floatingPane);\r\n    this.dockManager.draggedPane = floatingPane;\r\n    this.initialFloatingPaneLocation = floatingPane.floatingLocation;\r\n    this.forceDragPane = floatingPane;\r\n  }\r\n\r\n  getChildContentPanes(pane: IgcSplitPane | IgcTabGroupPane): IgcContentPane[] {\r\n    const panes: IgcContentPane[] = [];\r\n    this.getChildContentPanesRecursive(pane, panes);\r\n\r\n    return panes;\r\n  }\r\n\r\n  private getChildContentPanesRecursive(pane: IgcSplitPane | IgcTabGroupPane, children: IgcContentPane[]) {\r\n    for (const child of pane.panes) {\r\n      if (child.type === IgcDockManagerPaneType.contentPane) {\r\n        children.push(child);\r\n      } else if (child.type === IgcDockManagerPaneType.tabGroupPane ||\r\n        child.type === IgcDockManagerPaneType.splitPane) {\r\n        this.getChildContentPanesRecursive(child, children);\r\n      } else if (child.type === IgcDockManagerPaneType.documentHost) {\r\n        this.getChildContentPanesRecursive(child.rootPane, children);\r\n      }\r\n    }\r\n  }\r\n\r\n  getChildDocHostRecursive(pane: IgcSplitPane): IgcDocumentHost {\r\n    for (const child of pane.panes) {\r\n      if (child.type === IgcDockManagerPaneType.documentHost) {\r\n        return child;\r\n      } else if (child.type === IgcDockManagerPaneType.splitPane) {\r\n        const result = this.getChildDocHostRecursive(child);\r\n        if (result) {\r\n          return result;\r\n        }\r\n      }\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  getVisibleContentPanes(parent: IgcTabGroupPane) {\r\n    return parent.panes.filter(t => this.isContentPaneVisible(t));\r\n  }\r\n\r\n  private getPaneToDock(draggedPane: IgcDockManagerPane) {\r\n    return draggedPane.type === IgcDockManagerPaneType.contentPane ? draggedPane :\r\n      draggedPane.type === IgcDockManagerPaneType.tabGroupPane || draggedPane.type === IgcDockManagerPaneType.splitPane ?\r\n        draggedPane.panes.length === 1 ?\r\n          draggedPane.panes[0] :\r\n          draggedPane :\r\n        draggedPane;\r\n  }\r\n\r\n  private removeDocumentHost(pane: IgcSplitPane) {\r\n    const docHost = this.getChildDocHostRecursive(pane);\r\n    if (docHost) {\r\n      const parent = this.getParent(docHost) as IgcSplitPane;\r\n      const index = parent.panes.indexOf(docHost);\r\n\r\n      parent.panes[index] = docHost.rootPane.panes.length === 1 ?\r\n        docHost.rootPane.panes[0] :\r\n        docHost.rootPane;\r\n    }\r\n  }\r\n\r\n  private dockToCenter(targetPane: IgcDockManagerPane, draggedPane: IgcSplitPane | IgcTabGroupPane | IgcContentPane) {\r\n    let targetContainer: IgcTabGroupPane | IgcSplitPane;\r\n\r\n    if (targetPane.type === IgcDockManagerPaneType.tabGroupPane) {\r\n      targetContainer = targetPane;\r\n    } else if (targetPane.type === IgcDockManagerPaneType.contentPane) {\r\n      targetContainer = {\r\n        type: IgcDockManagerPaneType.tabGroupPane,\r\n        size: targetPane.size,\r\n        panes: [targetPane]\r\n      };\r\n      const targetParent = this.paneParentMap.get(targetPane) as IgcSplitPane;\r\n      const index = targetParent.panes.indexOf(targetPane);\r\n      targetParent.panes[index] = targetContainer;\r\n    } else if (targetPane.type === IgcDockManagerPaneType.splitPane) {\r\n      targetContainer = targetPane;\r\n    } else if (targetPane.type === IgcDockManagerPaneType.documentHost) {\r\n      targetContainer = targetPane.rootPane;\r\n    }\r\n\r\n    if (targetContainer.type === IgcDockManagerPaneType.tabGroupPane) {\r\n      const panesToDock = (draggedPane.type === IgcDockManagerPaneType.contentPane) ?\r\n        [draggedPane] :\r\n        this.getChildContentPanes(draggedPane);\r\n      targetContainer.panes.push(...panesToDock);\r\n    } else if (targetContainer.type === IgcDockManagerPaneType.splitPane) {\r\n      let paneToDock = draggedPane;\r\n\r\n      if (draggedPane?.type === IgcDockManagerPaneType.splitPane && this.dockManager.documentOnlyDrag) {\r\n        this.removeDocumentHost(draggedPane);\r\n        const childPanes = this.getChildContentPanes(draggedPane);\r\n        paneToDock = childPanes.length === 1 ? childPanes[0] : paneToDock;\r\n      }\r\n\r\n      targetContainer.panes.push(paneToDock);\r\n    }\r\n  }\r\n\r\n  private dockToEdge(targetPane: IgcDockManagerPane, position: IgcDockingIndicatorPosition) {\r\n    const targetParent = this.getParent(targetPane) as IgcSplitPane;\r\n    if (!targetParent) {\r\n      return this.dockToCenter(targetPane, this.dockManager.draggedPane);\r\n    }\r\n\r\n    const paneIndex = targetParent.panes.indexOf(targetPane);\r\n    const isIndicatorVertical = Utils.isDockingIndicatorVertical(position);\r\n    const isSplitPaneVertical = Utils.isSplitPaneVertical(targetParent);\r\n    const isRTL = this.dockManager.proximityDock\r\n      ? this.dockManager.direction === 'rtl'\r\n      : this.dockingIndicator && this.dockingIndicator.direction === 'rtl';\r\n    let draggedPane: IgcDockManagerPane = this.dockManager.draggedPane;\r\n\r\n    if (draggedPane?.type === IgcDockManagerPaneType.splitPane &&\r\n      this.dockManager.documentOnlyDrag &&\r\n      !this.dockManager.dropTargetPaneInfo.floatingPaneWithoutDocHost) {\r\n      this.removeDocumentHost(draggedPane);\r\n    } else if (draggedPane?.type === IgcDockManagerPaneType.contentPane &&\r\n      this.dockManager.documentOnlyDrag &&\r\n      this.dockManager.dropTargetPaneInfo.floatingPaneWithoutDocHost) {\r\n      draggedPane = {\r\n        type: IgcDockManagerPaneType.documentHost,\r\n        rootPane: {\r\n          type: IgcDockManagerPaneType.splitPane,\r\n          orientation: IgcSplitPaneOrientation.horizontal,\r\n          panes: [draggedPane]\r\n        }\r\n      };\r\n    }\r\n\r\n    const paneToDock = draggedPane ? this.getPaneToDock(draggedPane) : this.dockManager.activePane;\r\n\r\n    if ((isIndicatorVertical && isSplitPaneVertical) || (!isIndicatorVertical && !isSplitPaneVertical)) {\r\n      const insertIndex = Utils.isDockingIndicatorBefore(position) && !isRTL ||\r\n        Utils.isDockingIndicatorBeforeRTL(position) && isRTL ?\r\n        paneIndex :\r\n        paneIndex + 1;\r\n      targetParent.panes.splice(insertIndex, 0, paneToDock);\r\n    } else {\r\n      const newSplitPane: IgcSplitPane = {\r\n        type: IgcDockManagerPaneType.splitPane,\r\n        orientation: isSplitPaneVertical ? IgcSplitPaneOrientation.horizontal : IgcSplitPaneOrientation.vertical,\r\n        panes: Utils.isDockingIndicatorBefore(position) && !isRTL ||\r\n          Utils.isDockingIndicatorBeforeRTL(position) && isRTL ?\r\n          [paneToDock, targetPane] :\r\n          [targetPane, paneToDock],\r\n        size: targetPane.size\r\n      };\r\n\r\n      targetPane.size = undefined;\r\n      paneToDock.size = undefined;\r\n      targetParent.panes[paneIndex] = newSplitPane;\r\n    }\r\n  }\r\n\r\n  private updateLayout() {\r\n    this.dockManager.layout = { ...this.dockManager.layout };\r\n  }\r\n\r\n  private hasMaximizedProp(pane: IgcDockManagerPane): pane is IgcContentPane | IgcSplitPane | IgcTabGroupPane {\r\n    return 'isMaximized' in pane;\r\n  }\r\n\r\n  getLastMaximizedPane(): IgcContentPane | IgcSplitPane | IgcTabGroupPane {\r\n    const keys = Array.from(this.paneParentMap.keys());\r\n    const maximizedPane = keys.filter(this.hasMaximizedProp).filter(i => i.isMaximized && i.type !== IgcDockManagerPaneType.splitPane)[0];\r\n    return maximizedPane;\r\n  }\r\n\r\n  processLayout() {\r\n    this.paneParentMap = new Map<IgcDockManagerPane, IgcDockManagerPane>();\r\n    this.unpinnedLocationMap = new Map<IgcContentPane, IgcUnpinnedLocation>();\r\n    this.clientContentPanesMap = new Map<string, IgcContentPane>();\r\n    this.documentHosts = [];\r\n    this.visibleContentPanes = [];\r\n    this.visibleDocuments = [];\r\n\r\n    const layout = this.dockManager.layout;\r\n\r\n    if (layout) {\r\n      this.populatePaneParents(layout.rootPane, true, false);\r\n      if (layout.floatingPanes) {\r\n        const indicesToDelete = new Map<IgcSplitPane, number>(this.dockManager.floatingPaneZIndicesMap);\r\n\r\n        for (let i = 0; i < layout.floatingPanes.length; i++) {\r\n          const pane = layout.floatingPanes[i];\r\n          this.populatePaneParents(pane, false, false);\r\n\r\n          if (this.dockManager.floatingPaneZIndicesMap.has(pane)) {\r\n            indicesToDelete.delete(pane);\r\n          } else {\r\n            this.dockManager.floatingPaneZIndicesMap.set(pane, i);\r\n          }\r\n        }\r\n\r\n        for (const key of indicesToDelete.keys()) {\r\n          this.dockManager.floatingPaneZIndicesMap.delete(key);\r\n        }\r\n      }\r\n      this.populatePinLocations(layout.rootPane);\r\n\r\n      if (this.dockManager.flyoutPane && !this.unpinnedLocationMap.has(this.dockManager.flyoutPane)) {\r\n        this.dockManager.flyoutPane = null;\r\n      }\r\n    }\r\n  }\r\n\r\n  getParent(pane: IgcDockManagerPane): IgcDockManagerPane {\r\n    return this.paneParentMap.get(pane);\r\n  }\r\n\r\n  getRootParent(pane: IgcDockManagerPane): IgcSplitPane {\r\n    return this.getPanePath(pane)[0] as IgcSplitPane;\r\n  }\r\n\r\n  getPanePath(pane: IgcDockManagerPane): IgcDockManagerPane[] {\r\n    const path: IgcDockManagerPane[] = [];\r\n    let currentPane = pane;\r\n\r\n    while (currentPane) {\r\n      path.splice(0, 0, currentPane);\r\n      currentPane = this.paneParentMap.get(currentPane);\r\n    }\r\n\r\n    return path;\r\n  }\r\n\r\n  getDocHostParent(pane: IgcDockManagerPane): IgcDocumentHost {\r\n    let parent = pane;\r\n\r\n    do {\r\n      parent = this.paneParentMap.get(parent);\r\n    } while (parent && parent.type !== IgcDockManagerPaneType.documentHost);\r\n\r\n    return parent as IgcDocumentHost;\r\n  }\r\n\r\n  resizeFlyoutPane(delta: number) {\r\n    const pane = this.dockManager.flyoutPane;\r\n    const location = this.unpinnedLocationMap.get(pane);\r\n    const paneSize = pane.unpinnedSize ? pane.unpinnedSize : IGC_DEFAULT_UNPIN_PANE_SIZE;\r\n\r\n    const newSize = location === IgcUnpinnedLocation.left || location === IgcUnpinnedLocation.top ?\r\n      paneSize + delta :\r\n      paneSize - delta;\r\n    pane.unpinnedSize = newSize;\r\n\r\n    this.updateLayout();\r\n  }\r\n\r\n  resizePane(pane: IgcDockManagerPane, deltaPercentage: number) {\r\n    const parentPane = this.getParent(pane) as IgcSplitPane;\r\n    const childPanes = this.getSplitPaneVisibleChildren(parentPane);\r\n    const paneIndex = childPanes.indexOf(pane);\r\n\r\n    const paneSizes = childPanes.map(p => p.size || p.size === 0 ? p.size : IGC_DEFAULT_PANE_SIZE);\r\n    const sizeSum = paneSizes.reduce((p, c) => c + p, 0);\r\n    const calcDelta = deltaPercentage * sizeSum;\r\n\r\n    childPanes[paneIndex - 1].size = paneSizes[paneIndex - 1] + calcDelta;\r\n    childPanes[paneIndex].size = paneSizes[paneIndex] - calcDelta;\r\n\r\n    this.updateLayout();\r\n  }\r\n\r\n  togglePin(pane: IgcContentPane, pinBehavior = IgcPinBehavior.allPanes) {\r\n    const newValue = !this.getActualIsPinned(pane);\r\n    const parent = this.paneParentMap.get(pane);\r\n    const isTabGroup = parent.type === IgcDockManagerPaneType.tabGroupPane;\r\n    const panes = isTabGroup && pinBehavior === IgcPinBehavior.allPanes ?\r\n      parent.panes.filter(p => p.allowPinning !== false) :\r\n      [pane];\r\n\r\n    const isTabGroupPinning = isTabGroup && pinBehavior === IgcPinBehavior.selectedPane;\r\n\r\n    if (isTabGroupPinning && parent.selectedIndex >= parent.panes.filter(p => p.isPinned).length) {\r\n      parent.selectedIndex = 0;\r\n    }\r\n\r\n    const location = this.resolvePaneUnpinLocation(pane);\r\n\r\n    const args: IgcPanePinnedEventArgs = {\r\n      sourcePane: pane,\r\n      panes,\r\n      newValue,\r\n      location\r\n    };\r\n    const event = this.dockManager.panePinnedToggle.emit(args);\r\n\r\n    if (!event.defaultPrevented) {\r\n      for (const cp of args.panes) {\r\n        cp.isPinned = newValue;\r\n      }\r\n\r\n      if (this.dockManager.maximizedPane) {\r\n        const targetPanes: (IgcContentPane | IgcTabGroupPane)[] = parent && parent.type === IgcDockManagerPaneType.tabGroupPane && this.dockManager.maximizedPane === parent\r\n          ? [parent]\r\n          : args.panes;\r\n\r\n        this.dockManager.maximizedPane = null;\r\n\r\n        for (const cp of targetPanes.filter(this.hasMaximizedProp)) {\r\n          cp.isMaximized = false;\r\n        }\r\n\r\n        newValue ?\r\n          this.dockManager.flyoutPane = null :\r\n          this.flyoutPane(pane);\r\n      } else if (newValue) {\r\n        this.dockManager.flyoutPane = null;\r\n      }\r\n\r\n      this.updateLayout();\r\n    }\r\n  }\r\n\r\n  closePane(pane: IgcContentPane) {\r\n    let paneToRemove: IgcDockManagerPane = pane;\r\n\r\n    if (pane.type === IgcDockManagerPaneType.contentPane && pane !== this.dockManager.flyoutPane) {\r\n      const parent = this.paneParentMap.get(pane);\r\n\r\n      if (parent.type === IgcDockManagerPaneType.tabGroupPane) {\r\n        paneToRemove = parent;\r\n      }\r\n    }\r\n\r\n    const paneRemoved = paneToRemove.type === IgcDockManagerPaneType.tabGroupPane ?\r\n      this.removeAllowedPanes(pane, paneToRemove) :\r\n      this.emitPaneClose(pane, [paneToRemove]);\r\n\r\n    if ((paneRemoved || pane.hidden) && pane === this.dockManager.flyoutPane) {\r\n      this.dockManager.flyoutPane = null;\r\n    }\r\n\r\n    this.updateLayout();\r\n  }\r\n\r\n  closeFloatingPane(pane: IgcSplitPane) {\r\n    this.removeAllowedPanes(pane, pane);\r\n    this.updateLayout();\r\n  }\r\n\r\n  private emitPaneClose(sourcePane: IgcDockManagerPane, panes: IgcContentPane[]): boolean {\r\n    let paneRemoved = false;\r\n    const args: IgcPaneCloseEventArgs = { sourcePane, panes };\r\n    const event = this.dockManager.paneClose.emit(args);\r\n\r\n    if (!event.defaultPrevented) {\r\n      for (const pane of args.panes) {\r\n        this.removePane(pane);\r\n        paneRemoved = true;\r\n      }\r\n    }\r\n\r\n    return paneRemoved;\r\n  }\r\n\r\n  private removeAllowedPanes(sourcePane: IgcDockManagerPane, pane: IgcSplitPane | IgcTabGroupPane): boolean {\r\n    let paneRemoved = false;\r\n\r\n    const panes = this.getChildContentPanes(pane)\r\n        .filter(p => this.getActualAllowClose(p))\r\n        .filter(p => pane.type === IgcDockManagerPaneType.tabGroupPane && sourcePane.type === IgcDockManagerPaneType.contentPane\r\n            ? p.isPinned !== false\r\n            : true);\r\n\r\n    paneRemoved = this.emitPaneClose(sourcePane, panes);\r\n\r\n    return paneRemoved;\r\n  }\r\n\r\n  flyoutPane(pane: IgcContentPane) {\r\n    this.dockManager.flyoutPane = this.dockManager.flyoutPane === pane ? null : pane;\r\n  }\r\n\r\n  maximizePane(pane: any) {\r\n    const parent = this.getParent(pane);\r\n    const targetPane = parent && parent.type === IgcDockManagerPaneType.tabGroupPane && pane !== this.dockManager.flyoutPane ? parent : pane;\r\n    this.dockManager.maximizedPane = this.dockManager.maximizedPane === targetPane ? null : targetPane;\r\n\r\n    if (this.dockManager.maximizedPane) {\r\n      targetPane.isMaximized = true;\r\n    } else {\r\n      targetPane.isMaximized = false;\r\n    }\r\n\r\n    if (targetPane.type == IgcDockManagerPaneType.contentPane) return;\r\n\r\n    for (const cp of this.getChildContentPanes(targetPane).filter(this.hasMaximizedProp)) {\r\n      cp.isMaximized = targetPane.isMaximized;\r\n    }\r\n  }\r\n\r\n  moveFloatingPane(pane: IgcSplitPane, location: IgcDockManagerPoint) {\r\n    pane.floatingLocation = location;\r\n    this.updateLayout();\r\n  }\r\n\r\n  resizeFloatingPaneStart(pane: IgcSplitPane, resizerLocation: IgcResizerLocation): boolean {\r\n    const resizeArgs: IgcFloatingPaneResizeEventArgs = {\r\n      sourcePane: pane,\r\n      resizerLocation\r\n    };\r\n\r\n    const resizeStartEvent = this.dockManager.floatingPaneResizeStart.emit(resizeArgs);\r\n    if (resizeStartEvent.defaultPrevented) {\r\n      return false;\r\n    }\r\n\r\n    this.initialFloatingPaneLocation = pane.floatingLocation ?? { x: 0, y: 0 };\r\n    this.initialFloatingPaneWidth = pane.floatingWidth ?? IGC_DEFAULT_PANE_SIZE;\r\n    this.initialFloatingPaneHeight = pane.floatingHeight ?? IGC_DEFAULT_PANE_SIZE;\r\n\r\n    return true;\r\n  }\r\n\r\n  resizeFloatingPane(pane: IgcSplitPane, args: IgcDragResizeEventArguments) {\r\n    const currX = pane.floatingLocation ? pane.floatingLocation.x : 0;\r\n    const currY = pane.floatingLocation ? pane.floatingLocation.y : 0;\r\n    const currW = pane.floatingWidth ? pane.floatingWidth : IGC_DEFAULT_PANE_SIZE;\r\n    const currH = pane.floatingHeight ? pane.floatingHeight : IGC_DEFAULT_PANE_SIZE;\r\n    const minW = IGC_DEFAULT_PANE_SIZE;\r\n    const minH = IGC_DEFAULT_PANE_SIZE;\r\n    const initialWidth = this.initialFloatingPaneWidth;\r\n    const initialHeight = this.initialFloatingPaneHeight;\r\n    const initialLocation = this.initialFloatingPaneLocation;\r\n\r\n    let totalOffsetY = args.dragMoveArgs.totalOffsetY;\r\n    let totalOffsetX = args.dragMoveArgs.totalOffsetX;\r\n    let newX = currX;\r\n    let newY = currY;\r\n    let newWidth = currW;\r\n    let newHeight = currH;\r\n    const maxHeight = document.documentElement.clientHeight;\r\n    const maxWidth = document.documentElement.clientWidth;\r\n\r\n    switch (args.resizerLocation) {\r\n      case (IgcResizerLocation.top):\r\n      case (IgcResizerLocation.topLeft):\r\n      case (IgcResizerLocation.topRight):\r\n        newHeight = initialHeight - totalOffsetY;\r\n        if (newHeight < minH) {\r\n          totalOffsetY = initialHeight - minH;\r\n          newHeight = minH;\r\n        }\r\n        newY = initialLocation.y + totalOffsetY;\r\n        if (newY < 0) {\r\n          newHeight += newY;\r\n          newY = 0;\r\n        } else if (newY >= maxHeight - 1) {\r\n          newY = maxHeight - 1;\r\n        }\r\n        break;\r\n      case (IgcResizerLocation.bottom):\r\n      case (IgcResizerLocation.bottomLeft):\r\n      case (IgcResizerLocation.bottomRight):\r\n        newHeight = initialHeight + totalOffsetY;\r\n        if (newHeight < minH) {\r\n          newHeight = minH;\r\n        }\r\n        if (newY + newHeight > maxHeight) {\r\n          newHeight = maxHeight - newY;\r\n        }\r\n        break;\r\n    }\r\n\r\n    switch (args.resizerLocation) {\r\n      case (IgcResizerLocation.left):\r\n      case (IgcResizerLocation.topLeft):\r\n      case (IgcResizerLocation.bottomLeft):\r\n        newWidth = initialWidth - totalOffsetX;\r\n        if (newWidth < minW) {\r\n          totalOffsetX = initialWidth - minW;\r\n          newWidth = minW;\r\n        }\r\n        newX = initialLocation.x + totalOffsetX;\r\n        if (newX < 0) {\r\n          newWidth += newX;\r\n          newX = 0;\r\n        } else if (newX >= maxWidth) {\r\n          newX = maxWidth;\r\n        }\r\n        break;\r\n      case (IgcResizerLocation.right):\r\n      case (IgcResizerLocation.topRight):\r\n      case (IgcResizerLocation.bottomRight):\r\n        newWidth = initialWidth + totalOffsetX;\r\n        if (newWidth < minW) {\r\n          newWidth = minW;\r\n        }\r\n        if (newX + newWidth > maxWidth) {\r\n          newWidth = maxWidth - newX;\r\n        }\r\n        break;\r\n    }\r\n\r\n    if (currX === newX && currY === newY && currW === newWidth && currH === newHeight) {\r\n      return;\r\n    }\r\n\r\n    const resizingArgs: IgcFloatingPaneResizeMoveEventArgs = {\r\n      sourcePane: pane,\r\n      oldWidth: currW,\r\n      newWidth,\r\n      oldHeight: currH,\r\n      newHeight,\r\n      oldLocation: { x: currX, y: currY },\r\n      newLocation: { x: newX, y: newY },\r\n      resizerLocation: args.resizerLocation\r\n    };\r\n\r\n    const resizingEvent = this.dockManager.floatingPaneResizeMove.emit(resizingArgs);\r\n    if (resizingEvent.defaultPrevented) {\r\n      args.dragMoveArgs.cancel = true;\r\n      return;\r\n    } else {\r\n      pane.floatingLocation = resizingArgs.newLocation;\r\n      pane.floatingWidth = resizingArgs.newWidth;\r\n      pane.floatingHeight = resizingArgs.newHeight;\r\n      this.updateLayout();\r\n    }\r\n  }\r\n\r\n  resizeFloatingPaneEnd(pane: IgcSplitPane, resizerLocation: IgcResizerLocation) {\r\n    this.dockManager.floatingPaneResizeEnd.emit({\r\n      sourcePane: pane,\r\n      resizerLocation });\r\n\r\n    this.dockManager.layoutChange.emit();\r\n  }\r\n\r\n  floatPane(pane: IgcContentPane, x: number, y: number, width: number, height: number) {\r\n    let panesToRemove: IgcDockManagerPane[] = [pane];\r\n    let paneToAdd: IgcDockManagerPane = pane;\r\n    const parent = this.paneParentMap.get(pane);\r\n\r\n    if (pane !== this.dockManager.flyoutPane && parent.type === IgcDockManagerPaneType.tabGroupPane) {\r\n      if (parent.allowEmpty) {\r\n        const panes = [...parent.panes];\r\n        panesToRemove = panes;\r\n        paneToAdd = parent.panes.length === 1 ?\r\n          pane :\r\n          {\r\n            type: IgcDockManagerPaneType.tabGroupPane,\r\n            panes,\r\n            selectedIndex: parent.selectedIndex\r\n          };\r\n      } else {\r\n        panesToRemove = [parent];\r\n        paneToAdd = parent;\r\n      }\r\n    }\r\n\r\n    panesToRemove.forEach(p => this.removePane(p));\r\n    this.addFloatingPane(paneToAdd,\r\n      { x, y },\r\n      width,\r\n      height);\r\n\r\n    if (pane === this.dockManager.flyoutPane) {\r\n      pane.isPinned = true;\r\n      this.dockManager.flyoutPane = null;\r\n    }\r\n\r\n    this.updateLayout();\r\n  }\r\n\r\n  floatTab(pane: IgcContentPane, x: number, y: number, width: number, height: number) {\r\n    this.removePane(pane);\r\n\r\n    const isInDocHost = !!this.getDocHostParent(pane);\r\n    let content: IgcDockManagerPane;\r\n\r\n    if (isInDocHost && pane.documentOnly) {\r\n      const docHost: IgcDocumentHost = {\r\n        type: IgcDockManagerPaneType.documentHost,\r\n        rootPane: {\r\n          type: IgcDockManagerPaneType.splitPane,\r\n          orientation: IgcSplitPaneOrientation.vertical,\r\n          panes: [pane]\r\n        }\r\n      };\r\n\r\n      content = docHost;\r\n    } else {\r\n      content = pane;\r\n    }\r\n\r\n    this.addFloatingPane(content, { x, y }, width, height);\r\n\r\n    this.updateLayout();\r\n  }\r\n\r\n  hasFloatingPaneHeader(pane: IgcSplitPane): boolean {\r\n    const panes = this.getSplitPaneVisibleChildren(pane);\r\n\r\n    if (panes && panes.length) {\r\n      if (panes.length > 1) {\r\n        return true;\r\n      }\r\n\r\n      const childPane = panes[0];\r\n\r\n      if (childPane.type === IgcDockManagerPaneType.splitPane) {\r\n        return this.hasFloatingPaneHeader(childPane);\r\n      } else if (childPane.type === IgcDockManagerPaneType.documentHost) {\r\n        return true;\r\n      }\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  rootDockPane(position: IgcDockingIndicatorPosition) {\r\n    const layout = this.dockManager.layout;\r\n    const rootPane = layout.rootPane;\r\n    const paneToDock = this.dockManager.draggedPane ? this.getPaneToDock(this.dockManager.draggedPane) : this.dockManager.activePane;\r\n\r\n    this.removePane(paneToDock);\r\n\r\n    const isIndicatorVertical = position === IgcDockingIndicatorPosition.top || position === IgcDockingIndicatorPosition.bottom;\r\n    const isSplitPaneVertical = Utils.isSplitPaneVertical(rootPane);\r\n    const isRTL = this.dockingIndicator && this.dockingIndicator.direction === 'rtl';\r\n\r\n    if ((isIndicatorVertical && isSplitPaneVertical) || (!isIndicatorVertical && !isSplitPaneVertical)) {\r\n      const insertIndex = position === IgcDockingIndicatorPosition.left && !isRTL ||\r\n        position === IgcDockingIndicatorPosition.right && isRTL ||\r\n        position === IgcDockingIndicatorPosition.top ?\r\n        0 :\r\n        rootPane.panes.length;\r\n      rootPane.panes.splice(insertIndex, 0, paneToDock);\r\n    } else {\r\n      const newRootPane: IgcSplitPane = {\r\n        type: IgcDockManagerPaneType.splitPane,\r\n        orientation: isSplitPaneVertical ? IgcSplitPaneOrientation.horizontal : IgcSplitPaneOrientation.vertical,\r\n        panes: position === IgcDockingIndicatorPosition.left && !isRTL ||\r\n          position === IgcDockingIndicatorPosition.right && isRTL ||\r\n          position === IgcDockingIndicatorPosition.top ?\r\n          [paneToDock, rootPane] :\r\n          [rootPane, paneToDock],\r\n      };\r\n      rootPane.size = undefined;\r\n      paneToDock.size = undefined;\r\n\r\n      layout.rootPane = newRootPane;\r\n    }\r\n\r\n    this.updateLayout();\r\n  }\r\n\r\n  dockPane(position: IgcDockingIndicatorPosition) {\r\n    const draggedFloatingPane = this.dockManager.draggedPane ?? this.dockManager.activePane;\r\n    const dropTargetPaneInfo = this.dockManager.dropTargetPaneInfo;\r\n\r\n    this.removePane(draggedFloatingPane);\r\n\r\n    const targetPane = this.dockManager.draggedPane ? dropTargetPaneInfo.pane : this.getParent(this.dockManager.activePane);\r\n\r\n    switch (position) {\r\n      case IgcDockingIndicatorPosition.center:\r\n        this.dockToCenter(targetPane, draggedFloatingPane);\r\n        break;\r\n      case IgcDockingIndicatorPosition.left:\r\n      case IgcDockingIndicatorPosition.top:\r\n      case IgcDockingIndicatorPosition.right:\r\n      case IgcDockingIndicatorPosition.bottom:\r\n        this.dockToEdge(targetPane, position);\r\n        break;\r\n      case IgcDockingIndicatorPosition.outerLeft:\r\n      case IgcDockingIndicatorPosition.outerTop:\r\n      case IgcDockingIndicatorPosition.outerRight:\r\n      case IgcDockingIndicatorPosition.outerBottom:\r\n        const docHost = this.dockManager.dropTargetPaneInfo.docHost;\r\n        this.dockToEdge(docHost, position);\r\n        break;\r\n    }\r\n\r\n    this.updateLayout();\r\n  }\r\n\r\n  getActualIsPinned(pane: IgcContentPane): boolean {\r\n    return pane.isPinned !== false;\r\n  }\r\n\r\n  getActualAllowClose(pane: IgcContentPane): boolean {\r\n    return pane.allowClose !== false;\r\n  }\r\n\r\n  isContentPaneVisible(pane: IgcContentPane) {\r\n    return pane.isPinned !== false && pane.hidden !== true;\r\n  }\r\n\r\n  getSplitPaneVisibleChildren(pane: IgcSplitPane): IgcDockManagerPane[] {\r\n    return pane.panes.filter(p => {\r\n      if (p.type === IgcDockManagerPaneType.contentPane) {\r\n        return this.isContentPaneVisible(p);\r\n      } else if (p.type === IgcDockManagerPaneType.splitPane) {\r\n        return p.allowEmpty || this.getSplitPaneVisibleChildren(p).length;\r\n      } else if (p.type === IgcDockManagerPaneType.tabGroupPane) {\r\n        return p.allowEmpty || p.panes.some(cp => this.isContentPaneVisible(cp));\r\n      } else if (p.type === IgcDockManagerPaneType.documentHost) {\r\n        return p.rootPane.allowEmpty || this.getSplitPaneVisibleChildren(p.rootPane).length;\r\n      }\r\n    });\r\n  }\r\n\r\n  closeTabPane(pane: IgcContentPane) {\r\n    this.emitPaneClose(pane, [pane]);\r\n    this.updateLayout();\r\n  }\r\n\r\n  bringFloatingPaneOnTop(pane: IgcSplitPane) {\r\n    const floatingPanes = this.dockManager.layout.floatingPanes;\r\n    const floatingPaneZIndicesMap = this.dockManager.floatingPaneZIndicesMap;\r\n    const oldZIndex = floatingPaneZIndicesMap.get(pane);\r\n\r\n    for (const p of floatingPanes) {\r\n      const zIndex = floatingPaneZIndicesMap.get(p);\r\n\r\n      if (zIndex < oldZIndex) {\r\n        continue;\r\n      } else if (zIndex > oldZIndex) {\r\n        floatingPaneZIndicesMap.set(p, zIndex - 1);\r\n      } else {\r\n        floatingPaneZIndicesMap.set(p, floatingPanes.length - 1);\r\n      }\r\n    }\r\n\r\n    this.dockManager.floatingPaneZIndicesMap = new Map<IgcSplitPane, number>(floatingPaneZIndicesMap);\r\n  }\r\n\r\n  createContextMenuItems(pane: IgcContentPane): IgcContextMenuItem[] {\r\n    const items: IgcContextMenuItem[] = [];\r\n\r\n    if (this.getActualAllowClose(pane)) {\r\n      items.push({ displayText: this.dockManager.resourceStrings.close, iconName: 'close', clickHandler: () => this.closeTabPane(pane) });\r\n    }\r\n\r\n    if (pane.allowPinning !== false) {\r\n      items.push({ displayText: this.dockManager.resourceStrings.unpin, iconName: 'unpin', clickHandler: () => this.togglePin(pane, IgcPinBehavior.selectedPane) });\r\n    }\r\n\r\n    return items;\r\n  }\r\n\r\n  dragPaneStart(pane: IgcSplitPane | IgcContentPane, rect: DOMRect, clientX: number, clientY: number): boolean {\r\n    if (this.dockManager.maximizedPane) {\r\n      return false;\r\n    }\r\n\r\n    let panes: IgcContentPane[];\r\n    let parent: IgcDockManagerPane;\r\n\r\n    if (pane.type === IgcDockManagerPaneType.contentPane) {\r\n      parent = this.getParent(pane);\r\n      panes = parent.type === IgcDockManagerPaneType.tabGroupPane && pane !== this.dockManager.flyoutPane ?\r\n        parent.panes :\r\n        [pane];\r\n    } else {\r\n      if (this.dockManager.draggedPane === pane) {\r\n        return true;\r\n      }\r\n      panes = this.getChildContentPanes(pane);\r\n    }\r\n\r\n    const disableDockingAndFloating = panes.some(p => p.allowDocking === false) && panes.some(p => p.allowFloating === false);\r\n\r\n    if (pane.type === IgcDockManagerPaneType.contentPane && disableDockingAndFloating) {\r\n      return false;\r\n    }\r\n\r\n    const dragStartEvent = this.dockManager.paneDragStart.emit({ sourcePane: pane, panes });\r\n\r\n    if (dragStartEvent.defaultPrevented) {\r\n      return false;\r\n    }\r\n\r\n    this.draggedPanes = panes;\r\n    this.initialDragClientPoint = {\r\n      x: clientX,\r\n      y: clientY\r\n    };\r\n\r\n    if (pane.type === IgcDockManagerPaneType.splitPane) {\r\n      this.dockManager.draggedPane = pane;\r\n      this.initialFloatingPaneLocation = pane.floatingLocation ?? { x: 0, y: 0 };\r\n    } else {\r\n      if (this.draggedPanes.some(p => p.allowFloating === false)) {\r\n        this.dockManager.draggedPane = panes.length > 1 ? parent as IgcTabGroupPane : pane;\r\n        return true;\r\n      }\r\n\r\n      const action: IgcFloatPaneAction = {\r\n        type: IgcPaneDragActionType.floatPane,\r\n        location: { x: rect.x, y: rect.y },\r\n        width: rect.width,\r\n        height: rect.height\r\n      };\r\n      const dragOverEvent = this.dockManager.paneDragOver.emit({\r\n        sourcePane: pane,\r\n        panes,\r\n        action,\r\n        isValid: true\r\n      });\r\n\r\n      if (dragOverEvent.defaultPrevented) {\r\n        return false;\r\n      }\r\n\r\n      if (!dragOverEvent.detail.isValid) {\r\n        this.dockManager.draggedPane = panes.length > 1 ? parent as IgcTabGroupPane : pane;\r\n        return true;\r\n      }\r\n\r\n      this.floatPane(pane,\r\n        rect.x,\r\n        rect.y,\r\n        action.width,\r\n        action.height);\r\n\r\n      return false;\r\n    }\r\n\r\n    return true;\r\n  }\r\n\r\n  private pointInBoundaries(clientX: number, clientY: number, location: IgcDockManagerPoint, pane: IgcSplitPane): IgcDockManagerPoint {\r\n    const minDragPosition = {\r\n      x: this.dockManagerRect.x,\r\n      y: this.dockManagerRect.y\r\n    };\r\n    const maxDragPosition = {\r\n      x: this.dockManagerRect.right - pane.floatingWidth,\r\n      y: this.dockManagerRect.bottom - pane.floatingHeight\r\n    };\r\n\r\n    if (this.initialFloatingPaneLocation.x + clientX - this.initialDragClientPoint.x <= this.dockManagerRect.x) {\r\n      location.x = minDragPosition.x;\r\n    } else if (this.initialFloatingPaneLocation.x + clientX + pane.floatingWidth - this.initialDragClientPoint.x >= this.dockManagerRect.right) {\r\n      location.x = maxDragPosition.x;\r\n    }\r\n\r\n    if (this.initialFloatingPaneLocation.y + clientY - this.initialDragClientPoint.y <= this.dockManagerRect.y) {\r\n      location.y = minDragPosition.y;\r\n    } else if (this.initialFloatingPaneLocation.y + clientY + pane.floatingHeight - this.initialDragClientPoint.y >= this.dockManagerRect.bottom) {\r\n      location.y = maxDragPosition.y;\r\n    }\r\n\r\n    return location;\r\n  }\r\n\r\n  dragPaneMove(clientX: number, clientY: number): boolean {\r\n    const draggedPane = this.dockManager.draggedPane;\r\n\r\n    if (draggedPane.type === IgcDockManagerPaneType.splitPane) {\r\n      const oldLocation = draggedPane.floatingLocation ? draggedPane.floatingLocation : { x: 0, y: 0 };\r\n\r\n      let newLocation: IgcDockManagerPoint;\r\n\r\n      newLocation = {\r\n        x: this.initialFloatingPaneLocation.x + clientX - this.initialDragClientPoint.x,\r\n        y: this.initialFloatingPaneLocation.y + clientY - this.initialDragClientPoint.y,\r\n      };\r\n\r\n      if (this.dockManager.containedInBoundaries) {\r\n        newLocation = this.pointInBoundaries(clientX, clientY, newLocation, draggedPane);\r\n      }\r\n\r\n      const dragOverEvent = this.dockManager.paneDragOver.emit({\r\n        sourcePane: draggedPane,\r\n        panes: this.draggedPanes,\r\n        action: {\r\n          type: IgcPaneDragActionType.moveFloatingPane,\r\n          oldLocation,\r\n          newLocation\r\n        },\r\n        isValid: true\r\n      });\r\n\r\n      if (dragOverEvent.defaultPrevented) {\r\n        return false;\r\n      } else {\r\n        if (dragOverEvent.detail.isValid) {\r\n          this.moveFloatingPane(draggedPane, newLocation);\r\n        }\r\n        this.dockManager.isValidDrop = dragOverEvent.detail.isValid;\r\n      }\r\n    }\r\n\r\n    return this.dragOver();\r\n  }\r\n\r\n  dragPaneEnd(): boolean {\r\n    const dockingIndicator = this.dockingIndicator;\r\n    const draggedPane = this.dockManager.draggedPane ?? this.draggedTab;\r\n    let docked = false;\r\n\r\n    this.dockManager.paneDragEnd.emit({\r\n      sourcePane: draggedPane,\r\n      panes: this.draggedPanes\r\n    });\r\n\r\n    if (dockingIndicator && this.dockManager.isValidDrop) {\r\n      if (draggedPane.type === IgcDockManagerPaneType.contentPane) {\r\n        if (draggedPane.isPinned === false) {\r\n          draggedPane.isPinned = true;\r\n\r\n          if (draggedPane === this.dockManager.flyoutPane) {\r\n            this.dockManager.flyoutPane = null;\r\n          }\r\n        }\r\n      }\r\n\r\n      if (dockingIndicator.isRoot) {\r\n        this.rootDockPane(dockingIndicator.position);\r\n      } else {\r\n        this.dockPane(dockingIndicator.position);\r\n      }\r\n\r\n      docked = true;\r\n    } else if (this.dockManager.proximityDock && this.dockManager.dropShadowRect) {\r\n      this.dockPane(this.proximityDockPosition);\r\n      docked = true;\r\n    }\r\n\r\n    this.draggedPanes = null;\r\n    this.draggedTab = null;\r\n    this.dockManager.draggedPane = null;\r\n    this.dockManager.dropTargetPaneInfo = null;\r\n    this.dockManager.dropShadowRect = null;\r\n    this.dockManager.isValidDrop = true;\r\n\r\n    this.dockManager.layoutChange.emit();\r\n\r\n    return docked;\r\n  }\r\n\r\n  private emitDragOverEvent(dockingIndicator: any) {\r\n    return this.dockManager.paneDragOver.emit({\r\n      sourcePane: this.dockManager.draggedPane,\r\n      panes: this.draggedPanes,\r\n      action: {\r\n        type: IgcPaneDragActionType.dockPane,\r\n        dockingIndicator: dockingIndicator,\r\n        targetPane: this.dockManager.dropTargetPaneInfo?.pane\r\n      },\r\n      isValid: true\r\n    });\r\n  }\r\n\r\n  private dragOver(): boolean {\r\n    let dragOverEvent;\r\n\r\n    if (this.dockingIndicator) {\r\n      dragOverEvent = this.emitDragOverEvent(this.dockingIndicator);\r\n\r\n      if (dragOverEvent.defaultPrevented) {\r\n        return false;\r\n      } else {\r\n        this.dockManager.isValidDrop = dragOverEvent.detail.isValid;\r\n\r\n        this.dockManager.dropShadowRect = this.dockManager.isValidDrop ?\r\n          this.dockingIndicator.isRoot ? this.getDropShadowRectRoot() : this.getDropShadowRect() :\r\n          null;\r\n      }\r\n    } else if (this.dockManager.proximityDock) {\r\n      const disableDocking = this.draggedPanes.some(p => p.allowDocking !== undefined && !p.allowDocking);\r\n\r\n      const dockingIndicator = {\r\n        position: this.proximityDockPosition,\r\n        isRoot: false,\r\n        direction: this.dockManager.direction\r\n      };\r\n\r\n      dragOverEvent = this.emitDragOverEvent(dockingIndicator);\r\n\r\n      if (dragOverEvent.defaultPrevented) {\r\n        return false;\r\n      } else {\r\n        this.dockManager.isValidDrop = dragOverEvent.detail.isValid;\r\n\r\n        this.dockManager.dropShadowRect = this.proximityDockPosition && this.dockManager.isValidDrop && !disableDocking\r\n          ? this.getDropShadowRect(this.proximityDockPosition, this.dockManager.direction)\r\n          : null;\r\n      }\r\n    } else {\r\n      this.dockManager.dropShadowRect = null;\r\n\r\n      if (this.dockManager.draggedPane.type !== IgcDockManagerPaneType.splitPane) {\r\n        this.dockManager.isValidDrop = false;\r\n      }\r\n    }\r\n\r\n    return true;\r\n  }\r\n\r\n  dragTabStart(pane: IgcContentPane): boolean {\r\n    this.shiftLeftThreshold = Number.MAX_VALUE;\r\n    this.shiftRightThreshold = 0;\r\n\r\n    if (this.dockManager.draggedPane === pane) {\r\n      return true;\r\n    }\r\n\r\n    const dragStartEvent = this.dockManager.paneDragStart.emit({\r\n      sourcePane: pane,\r\n      panes: [pane]\r\n    });\r\n\r\n    if (dragStartEvent.defaultPrevented) {\r\n      return false;\r\n    }\r\n\r\n    this.initialTabHeaderClickOffset = null;\r\n    this.draggedTab = pane;\r\n    this.draggedPanes = [pane];\r\n\r\n    return true;\r\n  }\r\n\r\n  dragTabMove(pane: IgcContentPane, args: IgcDragMoveEventArguments, rects: IgcTabRectsInfo): boolean {\r\n    const clientX = args.clientX;\r\n    const clientY = args.clientY;\r\n    const offsetX = args.offsetX;\r\n    const totalOffsetX = args.totalOffsetX;\r\n    const totalOffsetY = args.totalOffsetY;\r\n\r\n    const headerRect = rects.headerRect;\r\n    const prevHeaderRect = rects.prevHeaderRect;\r\n    const nextHeaderRect = rects.nextHeaderRect;\r\n    const lastVisibleHeaderRect = rects.lastVisibleHeaderRect;\r\n    const tabsRect = rects.tabsRect;\r\n\r\n    if (!this.initialTabHeaderClickOffset) {\r\n      const clickOffsetX = clientX - totalOffsetX - headerRect.left;\r\n      const clickOffsetY = clientY - totalOffsetY - headerRect.top;\r\n      this.initialTabHeaderClickOffset = { x: clickOffsetX, y: clickOffsetY };\r\n    }\r\n\r\n    if (pane.allowFloating === false\r\n      && (clientX < tabsRect.left || clientX > tabsRect.right || clientY < headerRect.top || clientY > headerRect.bottom)) {\r\n      this.dockManager.draggedPane = pane;\r\n      return this.dragOver();\r\n    }\r\n\r\n    this.dockManager.draggedPane = null;\r\n    this.dockManager.isValidDrop = true;\r\n\r\n    const paneIndex = (this.getParent(pane) as IgcTabGroupPane).panes.indexOf(pane);\r\n\r\n    if (prevHeaderRect\r\n        && clientX < headerRect.left\r\n        && clientX < this.shiftLeftThreshold\r\n        && offsetX < 0) {\r\n      this.shiftLeftThreshold = prevHeaderRect.left;\r\n      const action: IgcMoveTabAction = {\r\n        type: IgcPaneDragActionType.moveTab,\r\n        oldIndex: paneIndex,\r\n        newIndex: paneIndex - 1\r\n      };\r\n      const dragOverEvent = this.dockManager.paneDragOver.emit({\r\n        sourcePane: pane,\r\n        panes: [pane],\r\n        action,\r\n        isValid: true\r\n      });\r\n\r\n      if (dragOverEvent.defaultPrevented) {\r\n        return false;\r\n      } else if (!dragOverEvent.detail.isValid) {\r\n        return true;\r\n      }\r\n      this.shiftTabLeft(pane);\r\n    } else if (nextHeaderRect\r\n                && clientX > headerRect.right\r\n                && clientX > this.shiftRightThreshold\r\n                && offsetX > 0) {\r\n      this.shiftRightThreshold = nextHeaderRect.right;\r\n      if (headerRect.top === nextHeaderRect.top) {\r\n        const action: IgcMoveTabAction = {\r\n          type: IgcPaneDragActionType.moveTab,\r\n          oldIndex: paneIndex,\r\n          newIndex: paneIndex + 1\r\n        };\r\n        const dragOverEvent = this.dockManager.paneDragOver.emit({\r\n          sourcePane: pane,\r\n          panes: [pane],\r\n          action,\r\n          isValid: true\r\n        });\r\n\r\n        if (dragOverEvent.defaultPrevented) {\r\n          return false;\r\n        } else if (!dragOverEvent.detail.isValid) {\r\n          return true;\r\n        }\r\n        this.shiftTabRight(pane);\r\n      }\r\n    }\r\n\r\n    if (Math.abs(totalOffsetY) > IGC_DRAG_FLYOUT_THRESHOLD\r\n        || tabsRect.left - clientX > IGC_DRAG_FLYOUT_THRESHOLD\r\n        || clientX - lastVisibleHeaderRect.right > IGC_DRAG_FLYOUT_THRESHOLD) {\r\n      if (pane.allowFloating !== false && !this.dockManager.maximizedPane) {\r\n        return this.floatTabHeader(pane, clientX , clientY , tabsRect);\r\n      }\r\n    }\r\n\r\n    return true;\r\n  }\r\n\r\n  private floatTabHeader(pane: IgcContentPane, clientX: number, clientY: number, tabsRect: DOMRect): boolean {\r\n    const rect = new DOMRect(\r\n      clientX - this.initialTabHeaderClickOffset.x,\r\n      clientY - this.initialTabHeaderClickOffset.y,\r\n      tabsRect.width,\r\n      tabsRect.height);\r\n\r\n    let panes: IgcContentPane[];\r\n    let parent: IgcDockManagerPane;\r\n    if (pane.type === IgcDockManagerPaneType.contentPane) {\r\n      parent = this.getParent(pane);\r\n      panes = parent.type === IgcDockManagerPaneType.tabGroupPane && pane !== this.dockManager.flyoutPane ?\r\n        parent.panes :\r\n        [pane];\r\n    }\r\n\r\n    this.draggedTab = null;\r\n\r\n    const action: IgcFloatPaneAction = {\r\n      type: IgcPaneDragActionType.floatPane,\r\n      location: { x: rect.x, y: rect.y },\r\n      width: rect.width,\r\n      height: rect.height\r\n    };\r\n    const dragOverEvent = this.dockManager.paneDragOver.emit({\r\n      sourcePane: pane,\r\n      panes,\r\n      action,\r\n      isValid: true\r\n    });\r\n\r\n    if (dragOverEvent.defaultPrevented) {\r\n      return false;\r\n    } else if (!dragOverEvent.detail.isValid) {\r\n      return true;\r\n    }\r\n\r\n    this.initialDragClientPoint = {\r\n      x: clientX,\r\n      y: clientY\r\n    };\r\n\r\n    this.floatTab(pane,\r\n      rect.x,\r\n      rect.y,\r\n      action.width,\r\n      action.height);\r\n\r\n    return false;\r\n  }\r\n\r\n  private resolveChildPanesAllowMaximize(pane: IgcSplitPane | IgcTabGroupPane) {\r\n    const panes = this.getChildContentPanes(pane);\r\n    const visiblePanes = panes.filter(p => this.isContentPaneVisible(p));\r\n\r\n    return visiblePanes.every(p => p.allowMaximize ?? this.dockManager.allowMaximize);\r\n  }\r\n\r\n  normalizeMaximizedPane(pane: IgcContentPane) {\r\n    if (this.dockManager.maximizedPane) {\r\n      const panes =\r\n        this.dockManager.maximizedPane.type === IgcDockManagerPaneType.splitPane || this.dockManager.maximizedPane.type === IgcDockManagerPaneType.tabGroupPane\r\n          ? this.getChildContentPanes(this.dockManager.maximizedPane)\r\n          : [this.dockManager.maximizedPane];\r\n\r\n      if (panes.every(p => p !== pane)) {\r\n        this.maximizePane(this.dockManager.maximizedPane);\r\n      }\r\n    }\r\n  }\r\n\r\n  resolveAllowMaximize(pane: IgcDockManagerPane) {\r\n    if (pane.type === IgcDockManagerPaneType.splitPane || pane.type === IgcDockManagerPaneType.tabGroupPane) {\r\n      return this.resolveChildPanesAllowMaximize(pane);\r\n    } else if (pane.type === IgcDockManagerPaneType.contentPane) {\r\n      if (!this.getActualIsPinned(pane)) {\r\n        return pane.allowMaximize ?? this.dockManager.allowMaximize;\r\n      }\r\n\r\n      const parent = this.getParent(pane);\r\n      return parent.type === IgcDockManagerPaneType.tabGroupPane\r\n        ? this.resolveChildPanesAllowMaximize(parent)\r\n        : pane.allowMaximize ?? this.dockManager.allowMaximize;\r\n    }\r\n  }\r\n\r\n  getDropShadowRect(dockingPosition?: IgcDockingIndicatorPosition, dockingDirection?: string) {\r\n    const shadowRect = new DOMRect();\r\n    dockingPosition = dockingPosition ?? this.dockingIndicator.position;\r\n    dockingDirection = dockingDirection ?? this.dockingIndicator.direction;\r\n\r\n    const parentRect = this.dropTargetParentRect;\r\n    const dropTargetPaneInfo = this.dockManager.dropTargetPaneInfo;\r\n    if (dropTargetPaneInfo && !parentRect) {\r\n      const targetRect = dropTargetPaneInfo.targetRect;\r\n      shadowRect.x = targetRect.x;\r\n      shadowRect.y = targetRect.y;\r\n      shadowRect.width = targetRect.width;\r\n      shadowRect.height = targetRect.height;\r\n      return shadowRect;\r\n    } else if (!dropTargetPaneInfo || !parentRect) {\r\n      return;\r\n    }\r\n\r\n    const draggedPaneSize = this.getPaneToDock(this.dockManager.draggedPane).size ?? IGC_DEFAULT_PANE_SIZE;\r\n    const isOuter = Utils.isDockingIndicatorOuter(dockingPosition);\r\n    const baseRect = isOuter ? parentRect : dropTargetPaneInfo.targetRect;\r\n\r\n    if (dockingPosition === IgcDockingIndicatorPosition.center) {\r\n      shadowRect.x = baseRect.x;\r\n      shadowRect.y = baseRect.y;\r\n      shadowRect.width = baseRect.width;\r\n      shadowRect.height = baseRect.height;\r\n      return shadowRect;\r\n    }\r\n\r\n    const targetPane = isOuter ? dropTargetPaneInfo.docHost : dropTargetPaneInfo.pane;\r\n    const targetParent = this.getParent(targetPane) as IgcSplitPane;\r\n    const panes = this.getSplitPaneVisibleChildren(targetParent);\r\n    const draggedPaneIndex = panes.indexOf(this.dockManager.draggedPane);\r\n\r\n    if (draggedPaneIndex > -1) {\r\n      panes.splice(draggedPaneIndex, 1);\r\n    }\r\n    const dropTargetIndex = panes.indexOf(targetPane);\r\n\r\n    const isIndicatorVertical = Utils.isDockingIndicatorVertical(dockingPosition);\r\n    const isSplitPaneVertical = Utils.isSplitPaneVertical(targetParent);\r\n    const isSameSplitPane = ((isIndicatorVertical && isSplitPaneVertical) || (!isIndicatorVertical && !isSplitPaneVertical));\r\n    const isRTL = dockingDirection === 'rtl';\r\n\r\n    const panesTotalSize = panes.reduce((a, b) => a + (b.size || IGC_DEFAULT_PANE_SIZE), 0);\r\n    const beforePanesTotalSize = !isRTL || isIndicatorVertical\r\n      ? panes.slice(0, dropTargetIndex).reduce((a, b) => a + (b.size || IGC_DEFAULT_PANE_SIZE), 0)\r\n      : panes.slice(dropTargetIndex, panes.length).reduce((a, b) => a + (b.size || IGC_DEFAULT_PANE_SIZE), 0);\r\n    const afterPanesTotalSize = !isRTL || isIndicatorVertical\r\n      ? panes.slice(0, dropTargetIndex + 1).reduce((a, b) => a + (b.size || IGC_DEFAULT_PANE_SIZE), 0)\r\n      : panes.slice(dropTargetIndex + 1, panes.length).reduce((a, b) => a + (b.size || IGC_DEFAULT_PANE_SIZE), 0);\r\n\r\n    switch (dockingPosition) {\r\n      case IgcDockingIndicatorPosition.left:\r\n      case IgcDockingIndicatorPosition.outerLeft:\r\n        shadowRect.x = baseRect.x;\r\n        shadowRect.y = baseRect.y;\r\n        shadowRect.height = baseRect.height;\r\n        if (isSameSplitPane) {\r\n          shadowRect.width = (draggedPaneSize / (draggedPaneSize + panesTotalSize)) * parentRect.width;\r\n          !isRTL\r\n            ? shadowRect.x = parentRect.left + beforePanesTotalSize / (draggedPaneSize + panesTotalSize) * parentRect.width\r\n            : shadowRect.x = parentRect.left + afterPanesTotalSize / (draggedPaneSize + panesTotalSize) * parentRect.width;\r\n        } else {\r\n          shadowRect.width = parentRect.width / 2;\r\n        }\r\n        break;\r\n      case IgcDockingIndicatorPosition.right:\r\n      case IgcDockingIndicatorPosition.outerRight:\r\n        shadowRect.y = baseRect.y;\r\n        shadowRect.height = baseRect.height;\r\n        if (isSameSplitPane) {\r\n          shadowRect.width = (draggedPaneSize / (draggedPaneSize + panesTotalSize)) * parentRect.width;\r\n          !isRTL\r\n            ? shadowRect.x = parentRect.left + afterPanesTotalSize / (draggedPaneSize + panesTotalSize) * parentRect.width\r\n            : shadowRect.x = parentRect.left + beforePanesTotalSize / (draggedPaneSize + panesTotalSize) * parentRect.width;\r\n        } else {\r\n          shadowRect.width = parentRect.width / 2;\r\n          shadowRect.x = parentRect.right - shadowRect.width;\r\n        }\r\n        break;\r\n      case IgcDockingIndicatorPosition.top:\r\n      case IgcDockingIndicatorPosition.outerTop:\r\n        shadowRect.x = baseRect.x;\r\n        shadowRect.y = baseRect.y;\r\n        shadowRect.width = baseRect.width;\r\n        if (isSameSplitPane) {\r\n          shadowRect.height = (draggedPaneSize / (draggedPaneSize + panesTotalSize)) * parentRect.height;\r\n          shadowRect.y = parentRect.top + beforePanesTotalSize / (draggedPaneSize + panesTotalSize) * parentRect.height;\r\n        } else {\r\n          shadowRect.height = parentRect.height / 2;\r\n        }\r\n        break;\r\n      case IgcDockingIndicatorPosition.bottom:\r\n      case IgcDockingIndicatorPosition.outerBottom:\r\n        shadowRect.x = baseRect.x;\r\n        shadowRect.width = baseRect.width;\r\n        if (isSameSplitPane) {\r\n          shadowRect.height = (draggedPaneSize / (draggedPaneSize + panesTotalSize)) * parentRect.height;\r\n          shadowRect.y = parentRect.top + afterPanesTotalSize / (draggedPaneSize + panesTotalSize) * parentRect.height;\r\n        } else {\r\n          shadowRect.height = parentRect.height / 2;\r\n          shadowRect.y = parentRect.bottom - shadowRect.height;\r\n        }\r\n        break;\r\n    }\r\n\r\n    return shadowRect;\r\n  }\r\n\r\n  getDropShadowRectRoot() {\r\n    const rootRect = this.dropTargetParentRect;\r\n    const shadowRect = new DOMRect();\r\n    const draggedPaneSize = this.getPaneToDock(this.dockManager.draggedPane).size ?? IGC_DEFAULT_PANE_SIZE;\r\n    const panes = this.getSplitPaneVisibleChildren(this.dockManager.layout.rootPane);\r\n\r\n    const draggedPaneIndex = panes.indexOf(this.dockManager.draggedPane);\r\n\r\n    if (draggedPaneIndex > -1) {\r\n      panes.splice(draggedPaneIndex, 1);\r\n    }\r\n\r\n    const panesTotalSize = panes.reduce((a, b) => a + (b.size || IGC_DEFAULT_PANE_SIZE), 0);\r\n\r\n    const isIndicatorVertical = Utils.isDockingIndicatorVertical(this.dockingIndicator.position);\r\n    const isSplitPaneVertical = Utils.isSplitPaneVertical(this.dockManager.layout.rootPane);\r\n    const isSameSplitPane = (isIndicatorVertical && isSplitPaneVertical) || (!isIndicatorVertical && !isSplitPaneVertical);\r\n    const isEmptyDockManager = panes.length === 0;\r\n\r\n    switch (this.dockingIndicator.position) {\r\n      case IgcDockingIndicatorPosition.left:\r\n        shadowRect.x = rootRect.x;\r\n        shadowRect.y = rootRect.y;\r\n        shadowRect.height = rootRect.height;\r\n        shadowRect.width = isSameSplitPane || isEmptyDockManager ? (draggedPaneSize / (draggedPaneSize + panesTotalSize) * rootRect.width) : (rootRect.width / 2);\r\n        break;\r\n      case IgcDockingIndicatorPosition.right:\r\n        shadowRect.y = rootRect.y;\r\n        shadowRect.height = rootRect.height;\r\n        shadowRect.width = isSameSplitPane || isEmptyDockManager ? (shadowRect.width = draggedPaneSize / (draggedPaneSize + panesTotalSize) * rootRect.width) : (rootRect.width / 2);\r\n        shadowRect.x = rootRect.right - shadowRect.width;\r\n        break;\r\n      case IgcDockingIndicatorPosition.top:\r\n        shadowRect.x = rootRect.x;\r\n        shadowRect.y = rootRect.y;\r\n        shadowRect.width = rootRect.width;\r\n        shadowRect.height = isSameSplitPane || isEmptyDockManager ? (draggedPaneSize / (draggedPaneSize + panesTotalSize) * rootRect.height) : (rootRect.height / 2);\r\n        break;\r\n      case IgcDockingIndicatorPosition.bottom:\r\n        shadowRect.x = rootRect.x;\r\n        shadowRect.width = rootRect.width;\r\n        shadowRect.height = isSameSplitPane || isEmptyDockManager ? (draggedPaneSize / (draggedPaneSize + panesTotalSize) * rootRect.height) : (rootRect.height / 2);\r\n        shadowRect.y = rootRect.bottom - shadowRect.height;\r\n        break;\r\n    }\r\n\r\n    return shadowRect;\r\n  }\r\n\r\n  selectHiddenTab(tabGroup: IgcTabGroupPane, pane: IgcContentPane) {\r\n    const index = tabGroup.panes.indexOf(pane);\r\n    tabGroup.panes.splice(index, 1);\r\n    tabGroup.panes.splice(0, 0, pane);\r\n    tabGroup.selectedIndex = 0;\r\n    this.updateLayout();\r\n  }\r\n\r\n  shiftTabLeft(pane: IgcContentPane) {\r\n    const tabGroup = this.getParent(pane) as IgcTabGroupPane;\r\n    const draggedIndex = tabGroup.panes.indexOf(pane);\r\n\r\n    if (draggedIndex > 0) {\r\n      tabGroup.panes.splice(draggedIndex, 1);\r\n      tabGroup.panes.splice(draggedIndex - 1, 0, pane);\r\n      tabGroup.selectedIndex = draggedIndex - 1;\r\n      this.updateLayout();\r\n    }\r\n\r\n    this.forceDragTabHeader = pane;\r\n  }\r\n\r\n  shiftTabRight(pane: IgcContentPane) {\r\n    const tabGroup = this.getParent(pane) as IgcTabGroupPane;\r\n    const draggedIndex = tabGroup.panes.indexOf(pane);\r\n\r\n    if (draggedIndex < tabGroup.panes.length - 1) {\r\n      tabGroup.panes.splice(draggedIndex, 1);\r\n      tabGroup.panes.splice(draggedIndex + 1, 0, pane);\r\n      tabGroup.selectedIndex = draggedIndex + 1;\r\n      this.updateLayout();\r\n    }\r\n\r\n    this.forceDragTabHeader = pane;\r\n  }\r\n\r\n  cacheDocumentsOrder() {\r\n    this.documentsCache = this.visibleDocuments.filter(c => !c.disabled);\r\n  }\r\n\r\n  cacheContentPanesOrder() {\r\n    this.contentPanesCache = this.visibleContentPanes.filter(c => !c.disabled);\r\n  }\r\n\r\n  focusPrevContentPane(isInDocHost: boolean) {\r\n    const contentPanesCache = isInDocHost ? this.documentsCache : this.contentPanesCache;\r\n    const activePaneIndex = contentPanesCache.indexOf(this.dockManager.activePane);\r\n    const prevPane = activePaneIndex > 0 ?\r\n      contentPanesCache[activePaneIndex - 1] :\r\n      contentPanesCache[contentPanesCache.length - 1];\r\n\r\n    this.normalizeMaximizedPane(prevPane);\r\n    this.dockManager.activePane = prevPane;\r\n  }\r\n\r\n  focusNextContentPane(isInDocHost: boolean) {\r\n    const contentPanesCache = isInDocHost ? this.documentsCache : this.contentPanesCache;\r\n    const activePaneIndex = contentPanesCache.indexOf(this.dockManager.activePane);\r\n    const nextPane = (activePaneIndex >= 0 && activePaneIndex < contentPanesCache.length - 1) ?\r\n      contentPanesCache[activePaneIndex + 1] :\r\n      contentPanesCache[0];\r\n\r\n    this.normalizeMaximizedPane(nextPane);\r\n    this.dockManager.activePane = nextPane;\r\n  }\r\n}\r\n","import { Utils } from '../../../utils/utils';\r\n\r\nimport { IgcDockManagerPaneType, IgcDockingIndicatorPosition } from './../dockmanager.public-interfaces';\r\nimport { IgcDockManagerService } from './../dockmanager.service';\r\n\r\n/**\r\n * @hidden\r\n */\r\nexport class IgcDockManagerKeyboardService {\r\n  constructor(private service: IgcDockManagerService) {\r\n  }\r\n\r\n  handleKeydown(event: KeyboardEvent) {\r\n    if (this.service.dockManager.disableKeyboardNavigation) {\r\n      return;\r\n    }\r\n\r\n    const activePane = this.service.dockManager.activePane;\r\n    const ctrlOrMetaKey = Utils.isControlOrMetaPressed(event);\r\n    const altKey = Utils.isAltPressed(event);\r\n    const shiftKey = event.shiftKey;\r\n\r\n    if (event.key === 'Control' || event.key === 'Meta' || event.key === 'OS') {\r\n      this.service.cacheDocumentsOrder();\r\n    } else if (event.key === 'Alt' || event.key === 'AltGraph') {\r\n      this.service.cacheContentPanesOrder();\r\n    } else if (event.key === 'F6' || (event.key.startsWith('Arrow') && !shiftKey && ctrlOrMetaKey)) {\r\n      this.handleFocusPane(event);\r\n      event.stopPropagation();\r\n    } else if (event.key === 'F3' && altKey && activePane) {\r\n      this.service.dockManager.focusElement();\r\n      this.service.closePane(activePane);\r\n      event.stopPropagation();\r\n    } else if (event.key.startsWith('Arrow') && shiftKey && activePane) {\r\n      this.service.dockManager.focusElement();\r\n      this.handleDockPane(event);\r\n      event.stopPropagation();\r\n    } else if ((event.key === 'F7' || event.key === 'F8') && (altKey || ctrlOrMetaKey)) {\r\n      this.setPaneNavigatorMeta(altKey, ctrlOrMetaKey, shiftKey);\r\n      event.stopPropagation();\r\n    } else {\r\n      return;\r\n    }\r\n  }\r\n\r\n  private handleFocusPane(event: KeyboardEvent) {\r\n    const altKey = Utils.isAltPressed(event);\r\n    const ctrlOrMetaKey = Utils.isControlOrMetaPressed(event);\r\n    const shiftKey = event.shiftKey;\r\n    const f6 = event.key === 'F6';\r\n    const arrowLeft = event.key === 'ArrowLeft';\r\n    const arrowRight = event.key === 'ArrowRight';\r\n\r\n    if (altKey && shiftKey && f6) {\r\n      this.service.focusPrevContentPane(false);\r\n    } else if (altKey && f6) {\r\n      this.service.focusNextContentPane(false);\r\n    } else if ((ctrlOrMetaKey && shiftKey && f6) || (ctrlOrMetaKey && arrowLeft)) {\r\n      this.service.focusPrevContentPane(true);\r\n    } else if ((ctrlOrMetaKey && f6) || (ctrlOrMetaKey && arrowRight)) {\r\n      this.service.focusNextContentPane(true);\r\n    }\r\n  }\r\n\r\n  private handleDockPane(event: KeyboardEvent) {\r\n    const key = event.key;\r\n    const ctrlOrMetaKey = Utils.isControlOrMetaPressed(event);\r\n    const shiftKey = event.shiftKey;\r\n\r\n    if (ctrlOrMetaKey && shiftKey) {\r\n      this.handleRootDockPane(key);\r\n    } else if (shiftKey) {\r\n      const activePane = this.service.dockManager.activePane;\r\n      const activePaneParent = this.service.getParent(activePane);\r\n      if (activePaneParent.type === IgcDockManagerPaneType.tabGroupPane && activePaneParent.panes.length > 1) {\r\n        this.handleInnerDockPane(key);\r\n      }\r\n    }\r\n  }\r\n\r\n  private handleRootDockPane(key: string) {\r\n    let position: IgcDockingIndicatorPosition;\r\n    switch (key) {\r\n      case 'ArrowUp':\r\n        position = IgcDockingIndicatorPosition.top;\r\n        break;\r\n      case 'ArrowDown':\r\n        position = IgcDockingIndicatorPosition.bottom;\r\n        break;\r\n      case 'ArrowLeft':\r\n        position = IgcDockingIndicatorPosition.left;\r\n        break;\r\n      case 'ArrowRight':\r\n        position = IgcDockingIndicatorPosition.right;\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n\r\n    if (position) {\r\n      this.service.keyboardDockPane = this.service.dockManager.activePane;\r\n      this.service.rootDockPane(position);\r\n    }\r\n  }\r\n\r\n  private handleInnerDockPane(key: string) {\r\n    let position: IgcDockingIndicatorPosition;\r\n    switch (key) {\r\n      case 'ArrowUp':\r\n        position = IgcDockingIndicatorPosition.top;\r\n        break;\r\n      case 'ArrowDown':\r\n        position = IgcDockingIndicatorPosition.bottom;\r\n        break;\r\n      case 'ArrowLeft':\r\n        position = IgcDockingIndicatorPosition.left;\r\n        break;\r\n      case 'ArrowRight':\r\n        position = IgcDockingIndicatorPosition.right;\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n    \r\n    if (position) {\r\n      this.service.keyboardDockPane = this.service.dockManager.activePane;\r\n      this.service.dockPane(position);\r\n    }\r\n  }\r\n\r\n  private setPaneNavigatorMeta(altKey: boolean, ctrlOrMetaKey: boolean, shiftKey: boolean) {\r\n    let initIndex = 0;\r\n    const allItems = this.service.visibleContentPanes.concat(this.service.visibleDocuments);\r\n    if (allItems.length > 0) {\r\n      if (ctrlOrMetaKey) {\r\n        if (this.service.visibleDocuments.length > 0) {\r\n          initIndex = shiftKey ?\r\n            this.service.visibleContentPanes.length + this.service.visibleDocuments.length - 1 :\r\n            this.service.visibleContentPanes.length;\r\n        } else {\r\n          initIndex = shiftKey ? this.service.visibleContentPanes.length - 1 : 0;\r\n        }\r\n      } else if (altKey) {\r\n        initIndex = shiftKey ?\r\n          this.service.visibleContentPanes.length > 0 ?\r\n            this.service.visibleContentPanes.length - 1 :\r\n            this.service.visibleDocuments.length - 1 :\r\n          0;\r\n      }\r\n\r\n      const metadata = {\r\n        activePanes: this.service.visibleContentPanes,\r\n        activeDocuments: this.service.visibleDocuments,\r\n        initialIndex: initIndex,\r\n        previousActivePaneIndex: allItems.indexOf(this.service.dockManager.activePane)\r\n      };\r\n\r\n      this.service.dockManager.activePane = null;\r\n      this.service.dockManager.navigationPaneMeta = metadata;\r\n    }\r\n  }\r\n}\r\n",":host {\r\n  position: relative;\r\n  display: flex;\r\n  overflow: hidden;\r\n  box-sizing: border-box;\r\n  height: 100%;\r\n  background: $dock-background;\r\n  color: $dock-text;\r\n  font-family: $font-family;\r\n  outline-style: none;\r\n  --unpinned-tab-area-size: 30px;\r\n\r\n  igc-icon-component svg {\r\n    width: 17px;\r\n    height: 17px;\r\n  }\r\n}\r\n\r\n%pane-container {\r\n  display: flex;\r\n  flex-grow: 1;\r\n  height: 100%;\r\n  width: 100%;\r\n  overflow: hidden;\r\n}\r\n\r\n.pane-container {\r\n  @extend %pane-container;\r\n\r\n  &--horizontal {\r\n    @extend %pane-container;\r\n  }\r\n\r\n  &--vertical {\r\n    @extend %pane-container;\r\n    flex-direction: column;\r\n  }\r\n}\r\n\r\n.unpinned-tab-area {\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: var(--unpinned-tab-area-size);\r\n  height: auto;\r\n\r\n  &--left {\r\n    padding: 8px 8px 8px 0;\r\n  }\r\n\r\n  &--right {\r\n    padding: 8px 0 8px 8px;\r\n  }\r\n\r\n  &--bottom {\r\n    padding-top: 8px;\r\n  }\r\n\r\n  &--horizontal {\r\n    flex-direction: row;\r\n    width: auto;\r\n    height: var(--unpinned-tab-area-size);\r\n  }\r\n\r\n  &--hidden {\r\n    display: none;\r\n  }\r\n\r\n}\r\n\r\n.flyout-pane {\r\n  display: flex;\r\n  flex-direction: column;\r\n  position: absolute;\r\n  width: 100%;\r\n  height: 100%;\r\n  pointer-events: none;\r\n  z-index: 2;\r\n\r\n  igc-content-pane-component {\r\n    box-shadow: 0 12px 8px $flyout-shadow-color;\r\n  }\r\n\r\n  &--right {\r\n    flex-direction: row-reverse;\r\n\r\n    igc-content-pane-component {\r\n      box-shadow: -12px 0px 8px $flyout-shadow-color;\r\n    }\r\n  }\r\n\r\n  &--bottom {\r\n    flex-direction: column-reverse;\r\n\r\n    igc-content-pane-component {\r\n      box-shadow: 0 -12px 8px $flyout-shadow-color;\r\n    }\r\n  }\r\n\r\n  &--left {\r\n    flex-direction: row;\r\n\r\n    igc-content-pane-component {\r\n      box-shadow: 12px 0px 8px $flyout-shadow-color;\r\n    }\r\n  }\r\n}\r\n\r\n.floating-panes {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  bottom: 0;\r\n  right: 0;\r\n  pointer-events: none;\r\n  z-index: 10000;\r\n}\r\n\r\n.docking-indicators-container {\r\n  position: absolute;\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 100%;\r\n  height: 100%;\r\n  pointer-events: none;\r\n  z-index: 10004\r\n}\r\n\r\n.content {\r\n  overflow: auto;\r\n  height: 100%;\r\n  flex-grow: 1;\r\n  color: $pane-content-text;\r\n  background: $pane-content-background;\r\n  position: relative;\r\n}\r\n\r\n.maximized {\r\n  position: absolute;\r\n  top: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  right: 0;\r\n  z-index: 10002;\r\n}\r\n\r\n.drop-shadow {\r\n  background-color: $drop-shadow-background;\r\n  position: fixed;\r\n  z-index: 10003;\r\n  display: block;\r\n  pointer-events: none;\r\n}\r\n\r\n.hidden {\r\n  height: 0;\r\n  opacity: 0;\r\n  padding: 0;\r\n  pointer-events: none;\r\n  min-height: 0 !important;\r\n  transition: opacity 0.5s ease;\r\n  position: absolute;\r\n}\r\n\r\n.transitioned {\r\n  overflow: hidden;\r\n  transition: opacity 0.5s ease;\r\n  position: absolute;\r\n  z-index: 999;\r\n  width: 100%;\r\n}\r\n","import { Component, Element, Event, EventEmitter, Host, Listen, Method, Prop, State, Watch, h } from '@stencil/core';\r\nimport 'igniteui-trial-watermark';\r\n\r\nimport { resourceStringsMap } from '../../utils/locale';\r\nimport { TwoWayMap } from '../../utils/two-way-map';\r\nimport { Utils } from '../../utils/utils';\r\nimport { IgcDragMoveEventArguments, IgcDragResizeEventArguments, IgcDragStartEventArguments } from '../drag-drop/drag.service';\r\n\r\nimport {\r\n  IGC_DEFAULT_PANE_SIZE, IGC_DEFAULT_UNPIN_PANE_SIZE, IgcContextMenuMetadata, IgcContextMenuOrientation, IgcContextMenuPosition, IgcDockManagerComponentBase, IgcDropTargetPaneInfo, IgcPaneNavigatorMetadata, IgcPinBehavior, IgcTabHeadersPosition\r\n} from './dockmanager.interfaces';\r\nimport {\r\n  IgcActivePaneEventArgs,\r\n  IgcContentPane, IgcDockManagerLayout, IgcDockManagerPane, IgcDockManagerPaneType, IgcDockManagerPoint, IgcDockManagerResourceStrings, IgcDockingIndicatorPosition, IgcDocumentHost, IgcFloatingPaneResizeEventArgs,\r\n  IgcFloatingPaneResizeMoveEventArgs, IgcPaneCloseEventArgs, IgcPaneDragEndEventArgs, IgcPaneDragOverEventArgs,\r\n  IgcPaneDragStartEventArgs, IgcPaneHeaderConnectionEventArgs, IgcPaneHeaderElement, IgcPanePinnedEventArgs, IgcSplitPane,\r\n  IgcSplitPaneOrientation, IgcTabGroupPane, IgcTabHeaderConnectionEventArgs, IgcTabHeaderElement, IgcUnpinnedLocation, IgcSplitterResizeEventArgs, IgcPaneScrollEventArgs\r\n} from './dockmanager.public-interfaces';\r\nimport { IgcDockManagerService } from './dockmanager.service';\r\nimport { IgcDockManagerKeyboardService } from './keyboard/keyboard.service';\r\nimport { IgcSplitterComponent } from './panes/splitter-component';\r\n\r\nenum ActionReason {\r\n  click = 'click',\r\n  drop = 'drop',\r\n  maximizeOrMinimize = 'maximizeOrMinimize'\r\n}\r\n\r\nconst PANE_HEADER_HEIGHT = 40;\r\n\r\n/**\r\n * @hidden\r\n */\r\n@Component({\r\n  tag: 'igc-dockmanager',\r\n  styleUrl: 'dockmanager-component.scss',\r\n  shadow: true,\r\n  scoped: false,\r\n})\r\nexport class IgcDockManager implements IgcDockManagerComponentBase {\r\n  private _tabHeaderIconClicked = false;\r\n  private service = new IgcDockManagerService(this);\r\n  private keyboardService = new IgcDockManagerKeyboardService(this.service);\r\n  private panesElementMap: TwoWayMap<IgcDockManagerPane, HTMLElement>;\r\n  private contentPanesElementMap: Map<IgcContentPane, HTMLElement>;\r\n  private tabHeadersMap: Map<IgcContentPane, HTMLElement>;\r\n  private unpinnedHeadersMap: Map<IgcContentPane, HTMLElement>;\r\n  private activePaneInternalSet = false;\r\n  private domObserver = new MutationObserver(this.mutationCallback.bind(this));\r\n  private showDockingIndicators: boolean;\r\n  private shouldMovePane = false;\r\n  private scheduledCallbacks: (() => void)[] = [];\r\n  private paneToFocus: IgcContentPane;\r\n  private shouldClearActivePane = true;\r\n  private dockedPanesContainer: HTMLElement;\r\n  private isDragging = false;\r\n  private contentPaneId: string;\r\n  private reason: ActionReason;\r\n  private splitterOffset = 1;\r\n  private loaded = false;\r\n  private resizeObserver = new ResizeObserver(this.restrictFloatingPaneSize.bind(this));\r\n  private proximityDockThreshold = 50;\r\n  private proximityOuterDockThreshold = 25;\r\n  private cursorLocation: IgcDockManagerPoint;\r\n  private splitterRect: any\r\n  private allowOuterProximityDock: boolean\r\n  private templatableComponents = [\r\n    {\r\n      slot: 'paneHeaderCloseButton',\r\n      targetName: 'igc-pane-header-component',\r\n      targetSlot: 'paneHeaderCloseButton',\r\n      targetPart: 'pane-header-close-button'\r\n    },\r\n    {\r\n      slot: 'tabHeaderCloseButton',\r\n      targetName: 'igc-tab-header-component',\r\n      targetSlot: 'tabHeaderCloseButton',\r\n      targetPart: 'tab-header-close-button'\r\n    },\r\n    {\r\n      slot: 'tabHeaderCloseButton',\r\n      targetName: 'igc-context-menu-component',\r\n      targetSlot: 'contextMenuCloseButton',\r\n      targetPart: 'context-menu-close-button'\r\n    },\r\n    {\r\n      slot: 'closeButton',\r\n      targetName: 'igc-pane-header-component',\r\n      targetSlot: 'paneHeaderCloseButton',\r\n      targetPart: 'pane-header-close-button'\r\n    },\r\n    {\r\n      slot: 'closeButton',\r\n      targetName: 'igc-tab-header-component',\r\n      targetSlot: 'tabHeaderCloseButton',\r\n      targetPart: 'tab-header-close-button'\r\n    },\r\n    {\r\n      slot: 'closeButton',\r\n      targetName: 'igc-context-menu-component',\r\n      targetSlot: 'contextMenuCloseButton',\r\n      targetPart: 'context-menu-close-button'\r\n    },\r\n    {\r\n      slot: 'moreTabsButton',\r\n      targetName: 'igc-tabs-component',\r\n      targetSlot: 'tabsMoreButton',\r\n      targetPart: 'tabs-more-button'\r\n    },\r\n    {\r\n      slot: 'maximizeButton',\r\n      targetName: 'igc-pane-header-component',\r\n      targetSlot: 'paneHeaderMaximizeButton',\r\n      targetPart: 'pane-header-maximize-button'\r\n    },\r\n    {\r\n      slot: 'maximizeButton',\r\n      targetName: 'igc-tabs-component',\r\n      targetSlot: 'tabsMaximizeButton',\r\n      targetPart: 'tabs-maximize-button'\r\n    },\r\n    {\r\n      slot: 'minimizeButton',\r\n      targetName: 'igc-pane-header-component',\r\n      targetSlot: 'paneHeaderMinimizeButton',\r\n      targetPart: 'pane-header-minimize-button'\r\n    },\r\n    {\r\n      slot: 'minimizeButton',\r\n      targetName: 'igc-tabs-component',\r\n      targetSlot: 'tabsMinimizeButton',\r\n      targetPart: 'tabs-minimize-button'\r\n    },\r\n    {\r\n      slot: 'pinButton',\r\n      targetName: 'igc-pane-header-component',\r\n      targetSlot: 'paneHeaderPinButton',\r\n      targetPart: 'pane-header-pin-button'\r\n    },\r\n    {\r\n      slot: 'unpinButton',\r\n      targetName: 'igc-pane-header-component',\r\n      targetSlot: 'paneHeaderUnpinButton',\r\n      targetPart: 'pane-header-unpin-button'\r\n    },\r\n    {\r\n      slot: 'unpinButton',\r\n      targetName: 'igc-context-menu-component',\r\n      targetSlot: 'contextMenuUnpinButton',\r\n      targetPart: 'context-menu-unpin-button'\r\n    },\r\n    {\r\n      slot: 'moreOptionsButton',\r\n      targetName: 'igc-tab-header-component',\r\n      targetSlot: 'tabHeaderMoreOptionsButton',\r\n      targetPart: 'tab-header-more-options-button'\r\n    },\r\n    {\r\n      slot: 'splitterHandle',\r\n      targetName: 'igc-splitter-component',\r\n      targetSlot: 'splitterHandle',\r\n      targetPart: 'splitter-handle'\r\n    },\r\n\r\n  ];\r\n\r\n  documentOnlyDrag: boolean;\r\n\r\n  @Element() element: HTMLElement;\r\n\r\n  @State() dropTargetPaneInfo: IgcDropTargetPaneInfo;\r\n  @State() flyoutPane: IgcContentPane;\r\n\r\n  @Watch('flyoutPane')\r\n  flyoutPaneChanged(newValue: IgcContentPane) {\r\n    if (newValue) {\r\n      this.scheduleAfterRender(() => {\r\n        this.setFocus(newValue);\r\n      });\r\n    }\r\n  }\r\n\r\n  @State() floatingPaneZIndicesMap = new Map<IgcSplitPane, number>();\r\n  @State() contextMenuMeta: IgcContextMenuMetadata;\r\n  @State() dropShadowRect: DOMRect;\r\n  @State() templates: Map<string, any> = new Map();\r\n  @State() hasCustomMaximizeButton: boolean;\r\n  @State() hasCustomMinimizeButton: boolean;\r\n  @State() hoveredPane: IgcContentPane;\r\n\r\n  @Prop({ mutable: true }) navigationPaneMeta: IgcPaneNavigatorMetadata;\r\n  @Prop() allowMaximize = true;\r\n  @Prop() showPaneHeaders: 'onHoverOnly' | 'always' = 'always';\r\n  @Prop() showHeaderIconOnHover: 'closeOnly' | 'moreOptionsOnly' | 'all';\r\n  @Prop({ mutable: true }) maximizedPane: IgcContentPane | IgcSplitPane | IgcTabGroupPane;\r\n  @Prop({ mutable: true }) resourceStrings: IgcDockManagerResourceStrings;\r\n  @Prop() allowFloatingPanesResize = true;\r\n  @Prop() disableKeyboardNavigation = false;\r\n  @Prop() contextMenuPosition: IgcContextMenuPosition;\r\n  @Prop() containedInBoundaries = false;\r\n  @Prop() allowInnerDock = true;\r\n  @Prop() proximityDock = false;\r\n\r\n  @Watch('containedInBoundaries')\r\n  containedInBoundariesChanged() {\r\n    if (this.loaded) {\r\n      this.restrictFloatingPaneSize();\r\n    }\r\n  }\r\n  /**\r\n   * The layout configuration of the Dock Manager.\r\n   */\r\n  @Prop({ mutable: true }) layout: IgcDockManagerLayout;\r\n\r\n  /**\r\n   * Gets the direction of the Dock Manager.\r\n   */\r\n  get direction(): string {\r\n    return Utils.getDirection(this.element);\r\n  }\r\n\r\n  @Watch('layout')\r\n  layoutChanged() {\r\n    this.service.processLayout();\r\n    if (!this.isDragging) {\r\n      this.layoutChange.emit();\r\n    }\r\n  }\r\n\r\n  @Prop({ mutable: true })\r\n  draggedPane: IgcContentPane | IgcSplitPane | IgcTabGroupPane;\r\n\r\n  @Watch('draggedPane')\r\n  draggedPaneChanged() {\r\n    if (this.draggedPane) {\r\n      const panes = this.draggedPane.type === IgcDockManagerPaneType.contentPane ?\r\n        [this.draggedPane] :\r\n        this.service.getChildContentPanes(this.draggedPane);\r\n\r\n      this.showDockingIndicators = panes.every(p => p.allowDocking !== false);\r\n      this.documentOnlyDrag = panes.some(p => p.documentOnly);\r\n    } else {\r\n      this.showDockingIndicators = false;\r\n      this.documentOnlyDrag = false;\r\n    }\r\n  }\r\n\r\n  @Prop() dropPosition: IgcDockManagerPoint;\r\n\r\n  @Watch('dropPosition')\r\n  dropPositionChanged() {\r\n    this.paneDragMoved(this.dropPosition?.x, this.dropPosition?.y);\r\n  }\r\n\r\n  @Prop({ mutable: true })\r\n  activePane: IgcContentPane = null;\r\n\r\n  @Watch('activePane')\r\n  activePaneChange(newValue: IgcContentPane, oldValue: IgcContentPane) {\r\n    const args: IgcActivePaneEventArgs = { newPane: newValue, oldPane: oldValue };\r\n\r\n    if (this.flyoutPane && newValue && newValue !== this.flyoutPane) {\r\n      this.service.flyoutPane(this.flyoutPane);\r\n    }\r\n\r\n    this.activePaneChanged.emit(args);\r\n    this.contentPaneId = newValue?.contentId || this.contentPaneId;\r\n\r\n    if (this.activePaneInternalSet) {\r\n      this.activePaneInternalSet = false;\r\n      return;\r\n    }\r\n\r\n    if (newValue) {\r\n      if (newValue.isPinned === false) {\r\n        requestAnimationFrame(() => {\r\n          this.service.flyoutPane(newValue);\r\n        });\r\n        // return because setFocus will be called in flyoutPaneChanged\r\n        this.paneToFocus = newValue;\r\n        return;\r\n      } else {\r\n        const parent = this.service.getParent(newValue);\r\n\r\n        if (parent.type === IgcDockManagerPaneType.tabGroupPane && parent.panes.length > 1) {\r\n          const visibleTabs = this.service.getVisibleContentPanes(parent);\r\n          const tabHeaderElement = this.tabHeadersMap.get(newValue);\r\n          const firstTabRect = this.tabHeadersMap\r\n            .get(visibleTabs[0])\r\n            .getBoundingClientRect();\r\n          const headerRect = tabHeaderElement.getBoundingClientRect();\r\n\r\n          // return if the selected index is changed because setFocus will be called in handleTabSelectedChanged\r\n          if (headerRect.top !== firstTabRect.top) { // header is hidden\r\n            this.service.selectHiddenTab(parent, newValue);\r\n            this.paneToFocus = newValue;\r\n            return;\r\n          } else {\r\n            const visibleIndex = visibleTabs.indexOf(newValue);\r\n            const selectedIndex = parent.selectedIndex ?? 0;\r\n\r\n            if (selectedIndex !== visibleIndex) {\r\n              parent.selectedIndex = visibleIndex;\r\n              this.paneToFocus = newValue;\r\n              return;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    this.scheduleAfterRender(() => {\r\n      this.setFocus(newValue);\r\n    });\r\n  }\r\n\r\n  @Event()\r\n  paneHeaderConnected: EventEmitter<IgcPaneHeaderConnectionEventArgs>;\r\n\r\n  @Event()\r\n  paneHeaderDisconnected: EventEmitter<IgcPaneHeaderConnectionEventArgs>;\r\n\r\n  @Event()\r\n  tabHeaderConnected: EventEmitter<IgcTabHeaderConnectionEventArgs>;\r\n\r\n  @Event()\r\n  tabHeaderDisconnected: EventEmitter<IgcTabHeaderConnectionEventArgs>;\r\n\r\n  @Event()\r\n  splitterResizeStart: EventEmitter<IgcSplitterResizeEventArgs>;\r\n\r\n  @Event()\r\n  splitterResizeEnd: EventEmitter<IgcSplitterResizeEventArgs>;\r\n\r\n  @Event()\r\n  paneClose: EventEmitter<IgcPaneCloseEventArgs>;\r\n\r\n  @Event()\r\n  paneScroll: EventEmitter<IgcPaneScrollEventArgs>;\r\n\r\n  @Event()\r\n  panePinnedToggle: EventEmitter<IgcPanePinnedEventArgs>;\r\n\r\n  @Event()\r\n  activePaneChanged: EventEmitter<IgcActivePaneEventArgs>;\r\n\r\n  @Event()\r\n  paneDragStart: EventEmitter<IgcPaneDragStartEventArgs>;\r\n\r\n  @Event()\r\n  paneDragOver: EventEmitter<IgcPaneDragOverEventArgs>;\r\n\r\n  @Event()\r\n  paneDragEnd: EventEmitter<IgcPaneDragEndEventArgs>;\r\n\r\n  @Event()\r\n  floatingPaneResizeMove: EventEmitter<IgcFloatingPaneResizeMoveEventArgs>;\r\n\r\n  @Event()\r\n  floatingPaneResizeEnd: EventEmitter<IgcFloatingPaneResizeEventArgs>;\r\n\r\n  @Event()\r\n  floatingPaneResizeStart: EventEmitter<IgcFloatingPaneResizeEventArgs>;\r\n\r\n  @Event()\r\n  layoutChange: EventEmitter;\r\n\r\n  @Listen('focusout')\r\n  handleFocusOut(_event: Event) {\r\n    if (this.paneToFocus) {\r\n      return;\r\n    }\r\n    const rootNode = this.getRootNode();\r\n\r\n    if (!this._tabHeaderIconClicked && !this.isDragging) {\r\n      requestAnimationFrame(() => {\r\n        if (!this.element.contains(rootNode.activeElement)) {\r\n          this.clearActivePane();\r\n        }\r\n      });\r\n    }\r\n\r\n    this._tabHeaderIconClicked = false;\r\n  }\r\n\r\n  @Listen('keydown')\r\n  handleKeyDown(event: KeyboardEvent) {\r\n    this.keyboardService.handleKeydown(event);\r\n  }\r\n\r\n  @Listen('pointerdown')\r\n  handlePointerDown(event: PointerEvent) {\r\n    const pathHTMLElements = event.composedPath().filter(e => e instanceof HTMLElement).map(e => e as HTMLElement);\r\n    const isMaximizeOrMinimize = pathHTMLElements.filter(e => e.attributes.getNamedItem('part') &&\r\n      (e.attributes.getNamedItem('part').value === 'tabs-minimize-button' || e.attributes.getNamedItem('part').value === 'tabs-maximize-button')).length > 0;\r\n    if (isMaximizeOrMinimize) {\r\n      this.reason = ActionReason.maximizeOrMinimize;\r\n    }\r\n  }\r\n\r\n  @Listen('pointerup')\r\n  handlePointerUp() {\r\n    this.reason = null;\r\n  }\r\n\r\n  @Method()\r\n  async dropPane(): Promise<boolean> {\r\n    const docked = this.handlePaneDragEnd();\r\n    return Promise.resolve(docked);\r\n  }\r\n\r\n  @Method()\r\n  async removePane(pane: IgcDockManagerPane) {\r\n    this.service.removePane(pane);\r\n  }\r\n\r\n  @Method()\r\n  async focusPane(contentId: string) {\r\n    const contentPane = this.service.getContent(contentId) as IgcContentPane;\r\n    const parentPane = this.service.getRootParent(contentPane);\r\n    const isFloating = this.service.isFloatingPane(parentPane);\r\n    const isUnpinned = contentPane.isPinned !== undefined && !contentPane.isPinned;\r\n\r\n    if (isFloating) {\r\n      this.service.bringFloatingPaneOnTop(parentPane);\r\n      this.activePane = contentPane;\r\n    } else if (isUnpinned) {\r\n      this.handlePaneFlyout(contentPane);\r\n    } else {\r\n      this.activePane = contentPane;\r\n    }\r\n  }\r\n\r\n  connectedCallback() {\r\n    this.element.shadowRoot.addEventListener('focusout', this.handleShadowRootFocusOut);\r\n    this.domObserver.observe(this.element, { attributes: true, subtree: true, childList: true });\r\n\r\n    const dockManagerChildren = Array.from(this.element.children);\r\n    for (const htmlElem of dockManagerChildren) {\r\n      const elem = htmlElem as HTMLElement;\r\n      elem?.addEventListener('focusin', this.handleCustomContentFocusIn);\r\n    }\r\n  }\r\n\r\n  componentWillLoad() {\r\n    this.contextMenuMeta = null;\r\n    this.navigationPaneMeta = null;\r\n\r\n    if (this.layout) {\r\n      this.layoutChanged();\r\n    }\r\n\r\n    if (!this.resourceStrings) {\r\n      const closestElement = this.element.closest('[lang]') as HTMLElement;\r\n      const lang = closestElement ? closestElement.lang.toLowerCase() : 'en';\r\n      this.resourceStrings = resourceStringsMap.has(lang) ? resourceStringsMap.get(lang) : resourceStringsMap.get('en');\r\n    }\r\n  }\r\n\r\n  componentWillRender() {\r\n    const lastMaximizedPane = this.service.getLastMaximizedPane();\r\n\r\n    if (lastMaximizedPane && this.maximizedPane !== lastMaximizedPane) {\r\n      const shouldFlyout = 'isPinned' in lastMaximizedPane && !(lastMaximizedPane as IgcContentPane).isPinned;\r\n\r\n      if (shouldFlyout) {\r\n        this.handlePaneFlyout(lastMaximizedPane as IgcContentPane);\r\n      }\r\n\r\n      this.handleMaximize(lastMaximizedPane);\r\n    }\r\n  }\r\n\r\n  componentDidRender() {\r\n    while (this.scheduledCallbacks.length) {\r\n      const callback = this.scheduledCallbacks.shift();\r\n      callback();\r\n    }\r\n\r\n    if (this.service.keyboardDockPane) {\r\n      this.setActivePane(this.service.keyboardDockPane);\r\n      this.setFocus(this.service.keyboardDockPane);\r\n      this.service.keyboardDockPane = null;\r\n    }\r\n\r\n    this.processTemplates();\r\n  }\r\n\r\n  componentDidLoad() {\r\n    this.loaded = true;\r\n    this.resizeObserver.observe(this.element);\r\n  }\r\n\r\n  disconnectedCallback() {\r\n    this.element.shadowRoot.removeEventListener('focusout', this.handleShadowRootFocusOut);\r\n    this.removeCustomContentEventListeners();\r\n    this.domObserver.disconnect();\r\n    this.resizeObserver.disconnect();\r\n  }\r\n\r\n  focusElement() {\r\n    this.element.focus();\r\n  }\r\n\r\n  private handleTabsRendered(pane: IgcTabGroupPane) {\r\n    if (this.reason !== ActionReason.drop) { return; }\r\n    if (pane.panes?.length > 0) {\r\n      const focusablePane = this.findFocusablePane(pane.panes);\r\n      if (focusablePane?.contentId === this.contentPaneId) {\r\n        pane.selectedIndex = pane.panes.indexOf(focusablePane);\r\n        this.setActivePane(focusablePane);\r\n        this.setFocus(focusablePane);\r\n      }\r\n    }\r\n  }\r\n\r\n  private handleSplitPaneRendered(panes: IgcDockManagerPane[]) {\r\n    if (this.reason !== ActionReason.drop) { return; }\r\n    const focusablePane = this.findFocusablePane(panes);\r\n    if (focusablePane?.contentId === this.contentPaneId) {\r\n      this.setActivePane(focusablePane);\r\n      this.setFocus(focusablePane);\r\n    }\r\n  }\r\n\r\n  private findFocusablePane(panes: IgcDockManagerPane[], candidate?: IgcContentPane): IgcContentPane | undefined {\r\n    const splitPanes = panes.filter(p => p.type === IgcDockManagerPaneType.splitPane);\r\n    for (const pane of splitPanes) {\r\n      if (candidate) {\r\n        return candidate;\r\n      }\r\n      const splitPane = pane as IgcSplitPane;\r\n      candidate = this.findFocusablePane(splitPane.panes);\r\n    }\r\n\r\n    const tabGroupPanes = panes.filter(p => p.type === IgcDockManagerPaneType.tabGroupPane);\r\n    for (const pane of tabGroupPanes) {\r\n      if (candidate) {\r\n        return candidate;\r\n      }\r\n      const tabGroupPane = pane as IgcTabGroupPane;\r\n      candidate = tabGroupPane.selectedIndex ? tabGroupPane.panes[tabGroupPane.selectedIndex] : this.findFocusablePane(tabGroupPane.panes);\r\n    }\r\n\r\n    const docHost = panes.filter(p => p.type === IgcDockManagerPaneType.documentHost);\r\n    for (const pane of docHost) {\r\n      if (candidate) {\r\n        return candidate;\r\n      }\r\n      const docHostPane = pane as IgcDocumentHost;\r\n      candidate = this.findFocusablePane([docHostPane.rootPane]);\r\n    }\r\n\r\n    candidate = panes.find(p => p.type === IgcDockManagerPaneType.contentPane\r\n      && p.contentId === this.contentPaneId) as IgcContentPane || candidate;\r\n    if (candidate) {\r\n      return candidate;\r\n    }\r\n\r\n    return panes.find(p => p.type === IgcDockManagerPaneType.contentPane) as IgcContentPane;\r\n  }\r\n\r\n  private processTemplates() {\r\n    if (this.templates.size === 0) {\r\n      return;\r\n    }\r\n\r\n    this.templatableComponents.forEach(component => {\r\n      const template = this.templates.get(component.slot);\r\n      if (template) {\r\n        template.setAttribute('slot', component.targetSlot);\r\n        template.setAttribute('part', component.targetPart);\r\n\r\n        const componentMatches = this.element.shadowRoot.querySelectorAll(component.targetName);\r\n        componentMatches.forEach(match => {\r\n          const slottedClose = match.querySelectorAll('[slot=\"' + component.targetSlot + '\"]');\r\n\r\n          if (slottedClose.length === 0) {\r\n            match.appendChild(template.cloneNode(true));\r\n          }\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  private updateTemplates = () => {\r\n    if (this.templates.size > 0) {\r\n      return;\r\n    }\r\n\r\n    const slotted = this.element.shadowRoot.querySelectorAll('slot');\r\n    const slottedArray = Array.from(slotted);\r\n    const usedTemplates: Map<string, any> = new Map();\r\n    const templatableSlots = this.templatableComponents.map(comp => comp.slot);\r\n    templatableSlots.forEach(slot => {\r\n      const matchedSlots = slottedArray.filter((s: any) => s.name === slot);\r\n      if (!this.templates.get(slot) && matchedSlots.length > 0 && matchedSlots[0].assignedElements().length > 0) {\r\n        usedTemplates.set(slot, matchedSlots[0].assignedElements()[0]);\r\n      }\r\n    });\r\n\r\n    this.templates = usedTemplates;\r\n  }\r\n\r\n  private getRootNode(): DocumentOrShadowRoot {\r\n    return this.element.getRootNode() as unknown as DocumentOrShadowRoot;\r\n  }\r\n\r\n  private scheduleAfterRender(callback: () => void) {\r\n    this.scheduledCallbacks.push(callback);\r\n  }\r\n\r\n  private handleTabHeaderFocus(pane: IgcContentPane) {\r\n    if (!this._tabHeaderIconClicked) {\r\n      this.setActivePane(pane);\r\n    }\r\n  }\r\n\r\n  private handleContentPaneFocus(pane: IgcContentPane) {\r\n    this.setActivePane(pane);\r\n  }\r\n\r\n  private handleUnpinnedHeaderFocus(pane: IgcContentPane) {\r\n    // delay the setting of the active pane, in case the unpinned tab is clicked it should focus the content pane first\r\n    requestAnimationFrame(() => {\r\n      this.setActivePane(pane);\r\n    });\r\n  }\r\n\r\n  private setFocus(pane: IgcContentPane) {\r\n    if (!pane) { return; }\r\n    this.paneToFocus = null;\r\n\r\n    let elemToFocus = this.contentPanesElementMap.get(pane);\r\n\r\n    if (!elemToFocus) {\r\n      elemToFocus = this.tabHeadersMap.get(pane);\r\n    }\r\n\r\n    if (!elemToFocus) {\r\n      elemToFocus = this.unpinnedHeadersMap.get(pane);\r\n    }\r\n\r\n    if (!elemToFocus) {\r\n      throw new Error('No matching pane!');\r\n    }\r\n\r\n    elemToFocus.focus();\r\n  }\r\n\r\n  private setActivePane(pane: IgcContentPane) {\r\n    if (this.activePane !== pane) {\r\n      this.activePaneInternalSet = true;\r\n      this.activePane = pane;\r\n    }\r\n  }\r\n\r\n  private removeCustomContentEventListeners() {\r\n    const dockManagerChildren = Array.from(this.element.children);\r\n    dockManagerChildren.forEach(child => {\r\n      child.removeEventListener('focusin', this.handleCustomContentFocusIn);\r\n    });\r\n  }\r\n\r\n  private handleCustomContentFocusIn = (eventArgs: FocusEvent) => {\r\n    const parent = eventArgs.currentTarget as HTMLElement;\r\n    if (parent) {\r\n      const contentPane = this.service.clientContentPanesMap.get(parent.slot);\r\n      if (!contentPane) { return; }\r\n\r\n      this.setActivePane(contentPane);\r\n    }\r\n  }\r\n\r\n  private mutationCallback(records: MutationRecord[]) {\r\n    records.filter(rec => rec.type === 'childList').forEach(child => {\r\n      child.addedNodes.forEach(c => {\r\n        c.addEventListener('focusin', this.handleCustomContentFocusIn);\r\n      });\r\n\r\n      child.removedNodes.forEach(r => {\r\n        r.removeEventListener('focusin', this.handleCustomContentFocusIn);\r\n      });\r\n    });\r\n  }\r\n\r\n  private _isValidDrop = true;\r\n\r\n  get isValidDrop() {\r\n    return this._isValidDrop;\r\n  }\r\n\r\n  set isValidDrop(value: boolean) {\r\n    if (this._isValidDrop !== value) {\r\n      this._isValidDrop = value;\r\n      document.body.style.cursor = this._isValidDrop ? 'default' : 'not-allowed';\r\n    }\r\n  }\r\n\r\n  private handleShadowRootFocusOut = () => {\r\n    if (this.paneToFocus) {\r\n      return;\r\n    }\r\n    const rootNode = this.getRootNode();\r\n\r\n    requestAnimationFrame(() => {\r\n      if (!this.element.shadowRoot.activeElement && rootNode.activeElement === this.element && this.reason !== ActionReason.maximizeOrMinimize) {\r\n        this.clearActivePane();\r\n      }\r\n    });\r\n  }\r\n\r\n  private restrictFloatingPaneSize() {\r\n    if (this.containedInBoundaries) {\r\n      const dockManagerRect = this.element.getBoundingClientRect();\r\n      const floatingPanes = Array.from(this.element.shadowRoot.querySelectorAll('igc-floating-pane-component'));\r\n\r\n      floatingPanes.forEach(floatingPane => {\r\n        const paneElement = floatingPane.querySelector('igc-split-pane-component');\r\n        const pane = this.panesElementMap.getByValue(paneElement) as IgcSplitPane;\r\n\r\n        if (floatingPane.getBoundingClientRect().height > dockManagerRect.height) {\r\n          floatingPane.floatingHeight = pane.floatingHeight = dockManagerRect.height;\r\n          floatingPane.style.height = floatingPane.floatingHeight + 'px';\r\n        }\r\n\r\n        if (floatingPane.getBoundingClientRect().bottom > dockManagerRect.bottom) {\r\n          floatingPane.floatingLocation.y = pane.floatingLocation.y = dockManagerRect.bottom - floatingPane.getBoundingClientRect().height;\r\n          floatingPane.style.top = floatingPane.floatingLocation.y + 'px';\r\n        }\r\n\r\n        if (floatingPane.getBoundingClientRect().y < dockManagerRect.y) {\r\n          floatingPane.floatingLocation.y = dockManagerRect.y;\r\n          floatingPane.style.top = floatingPane.floatingLocation.y + 'px';\r\n        }\r\n\r\n        if (floatingPane.getBoundingClientRect().width > dockManagerRect.width) {\r\n          floatingPane.floatingWidth = dockManagerRect.width;\r\n          floatingPane.style.width = floatingPane.floatingWidth + 'px';\r\n        }\r\n\r\n        if (floatingPane.getBoundingClientRect().right > dockManagerRect.right) {\r\n          floatingPane.floatingLocation.x = pane.floatingLocation.x = dockManagerRect.right - floatingPane.getBoundingClientRect().width;\r\n          floatingPane.style.left = floatingPane.floatingLocation.x + 'px';\r\n        }\r\n\r\n        if (floatingPane.getBoundingClientRect().left < dockManagerRect.left) {\r\n          floatingPane.floatingLocation.x = dockManagerRect.x;\r\n          floatingPane.style.left = floatingPane.floatingLocation.x + 'px';\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  private isPaneSizeWithinConstraints(pane: HTMLElement, offset: number, orientation: IgcSplitPaneOrientation, position: 'previous' | 'next' = 'next'): boolean {\r\n    let size, minSize, maxSize: number;\r\n\r\n    if (orientation === IgcSplitPaneOrientation.horizontal) {\r\n      size = pane.getBoundingClientRect().width;\r\n      minSize = parseFloat(getComputedStyle(pane).minWidth);\r\n      maxSize = parseFloat(getComputedStyle(pane).maxWidth);\r\n    } else {\r\n      size = pane.getBoundingClientRect().height;\r\n      minSize = parseFloat(getComputedStyle(pane).minHeight);\r\n      maxSize = parseFloat(getComputedStyle(pane).maxHeight);\r\n    }\r\n\r\n    if (position === 'previous') {\r\n      return offset < 0 ? ((size + offset) >= minSize || isNaN(minSize) || minSize === 0) : ((size + offset) <= maxSize || isNaN(maxSize))\r\n    }\r\n\r\n    return offset > 0 ? ((size - offset) >= minSize || isNaN(minSize)) : ((size - offset) <= maxSize || isNaN(maxSize));\r\n  }\r\n\r\n  private handleFlyoutSplitterResizeEnd(pane: IgcContentPane, orientation: IgcSplitPaneOrientation, event: CustomEvent<number>) {\r\n    const splitter = event.target as HTMLElement;\r\n    const previousPane = splitter.previousElementSibling as HTMLElement;\r\n    const minSize = orientation === IgcSplitPaneOrientation.horizontal\r\n      ? parseFloat(getComputedStyle(previousPane).minWidth)\r\n      : parseFloat(getComputedStyle(previousPane).minHeight);\r\n\r\n    if (!isNaN(minSize) && (minSize > pane.unpinnedSize || minSize > IGC_DEFAULT_UNPIN_PANE_SIZE)) {\r\n      pane.unpinnedSize = minSize;\r\n    }\r\n\r\n    // If new pane size does not meet the size constraints, do not resize\r\n    let offset = this.isPaneSizeWithinConstraints(previousPane, event.detail, orientation, 'previous') ? this.splitterOffset * event.detail : 0;\r\n\r\n    this.service.resizeFlyoutPane(offset);\r\n\r\n    let rect: DOMRect;    \r\n    rect = splitter.previousElementSibling.getBoundingClientRect();\r\n    const paneWidth = orientation === IgcSplitPaneOrientation.horizontal ? rect.width + offset : rect.width;\r\n    const paneHeight = orientation === IgcSplitPaneOrientation.vertical ? rect.height + offset : rect.height;\r\n    this.splitterResizeEnd.emit({ pane, orientation, paneWidth, paneHeight });\r\n  }\r\n\r\n  private handleSplitterResizeStart(pane: IgcDockManagerPane, event: { target: IgcSplitterComponent }) {\r\n    const splitter = event.target;\r\n    const orientation = splitter.splitPaneOrientation;\r\n    let rect: DOMRect;\r\n    const splitterEl = event.target as unknown as HTMLElement;\r\n    rect = pane === this.flyoutPane ? splitterEl.previousElementSibling.getBoundingClientRect() : splitterEl.nextElementSibling.getBoundingClientRect();\r\n    const paneWidth = rect.width;\r\n    const paneHeight = rect.height;\r\n    const resizeStartEvent = this.splitterResizeStart.emit({ pane, orientation, paneWidth, paneHeight });\r\n\r\n    if (resizeStartEvent.defaultPrevented) {\r\n      this.splitterOffset = 0;\r\n      splitter.showDragGhost = false;\r\n    } else {\r\n      this.splitterOffset = 1;\r\n      splitter.showDragGhost = true;\r\n    }\r\n  }\r\n\r\n  private handleSplitterResizeEnd(parentPane: IgcSplitPane, pane: IgcDockManagerPane, event: CustomEvent<number>) {\r\n    const splitter = event.target as HTMLElement;\r\n    const previousPane = splitter.previousElementSibling as HTMLElement;\r\n    const nextPane = splitter.nextElementSibling as HTMLElement;\r\n    const splitPane = splitter.parentElement;\r\n    const splitPaneChildren = Array.from(splitPane.children);\r\n    const paneComponents = splitPaneChildren.filter(c => c.tagName.toLowerCase() !== 'igc-splitter-component');\r\n\r\n    const sizeProperty = parentPane.orientation === IgcSplitPaneOrientation.horizontal ? 'offsetWidth' : 'offsetHeight';\r\n    const sizeSum = paneComponents.reduce((s, p: HTMLElement) => p[sizeProperty] + s, 0);\r\n\r\n    // If the new size is smaller or bigger that the size constraints, do not resize\r\n    const offset = this.isPaneSizeWithinConstraints(previousPane, event.detail, parentPane.orientation, 'previous') && this.isPaneSizeWithinConstraints(nextPane, event.detail, parentPane.orientation) ? event.detail : 0;\r\n    let offsetPercentage = this.splitterOffset * offset / sizeSum;\r\n\r\n    let rtl = false;\r\n    if (this.element.dir !== '') {\r\n      rtl = this.element.dir === 'rtl';\r\n    } else {\r\n      let parent = this.element.parentElement;\r\n      while (parent) {\r\n        if (parent.dir !== '') {\r\n          rtl = parent.dir === 'rtl';\r\n          break;\r\n        }\r\n\r\n        parent = parent.parentElement;\r\n      }\r\n    }\r\n\r\n    if (rtl && parentPane.orientation === IgcSplitPaneOrientation.horizontal) {\r\n      offsetPercentage *= -1;\r\n    }\r\n\r\n    this.service.resizePane(pane, offsetPercentage);\r\n    const orientation = parentPane.orientation;\r\n    let rect: DOMRect;\r\n    rect = splitter.nextElementSibling.getBoundingClientRect();\r\n    const paneWidth = orientation === IgcSplitPaneOrientation.horizontal ? rect.width - offsetPercentage*sizeSum : rect.width;\r\n    const paneHeight = orientation === IgcSplitPaneOrientation.vertical ? rect.height - offsetPercentage*sizeSum : rect.height;\r\n    this.splitterResizeEnd.emit({ pane, orientation, paneWidth, paneHeight });\r\n  }\r\n\r\n  private clearActivePane() {\r\n    if (this.activePane && this.shouldClearActivePane && this.reason !== ActionReason.drop) {\r\n      this.setActivePane(null);\r\n    }\r\n  }\r\n\r\n  private handlePinToggle(pane: IgcContentPane) {\r\n    const isPinned = this.service.getActualIsPinned(pane);\r\n    const pinBehavior = !isPinned ? IgcPinBehavior.selectedPane : IgcPinBehavior.allPanes;\r\n\r\n    this.shouldClearActivePane = false;\r\n    this.service.togglePin(pane, pinBehavior);\r\n    this.scheduleAfterRender(() => {\r\n      this.shouldClearActivePane = true;\r\n      this.setFocus(pane);\r\n    });\r\n  }\r\n\r\n  private handlePaneClose(pane: IgcContentPane) {\r\n    this.focusElement();\r\n    this.service.closePane(pane);\r\n  }\r\n\r\n  private handleFloatingPaneClose(pane: IgcSplitPane) {\r\n    this.focusElement();\r\n    this.service.closeFloatingPane(pane);\r\n  }\r\n\r\n  private handleMaximize(pane: any) {\r\n    this.service.maximizePane(pane);\r\n    this.scheduleAfterRender(() => {\r\n      const paneToFocus = this.findFocusablePane([pane]);\r\n      this.setFocus(paneToFocus);\r\n    });\r\n  }\r\n\r\n  private handleUnpinnedTabMouseDown(pane: IgcContentPane, event: MouseEvent) {\r\n    const target = event.currentTarget as HTMLElement;\r\n    const rootNode = this.getRootNode();\r\n    this.contentPaneId = pane.id;\r\n    requestAnimationFrame(() => {\r\n      if (this.element === rootNode.activeElement || !this.element.contains(rootNode.activeElement)) {\r\n        target.focus();\r\n      }\r\n\r\n      this.handlePaneFlyout(pane);\r\n    });\r\n  }\r\n\r\n  private handlePaneFlyout(pane: IgcContentPane) {\r\n    this.service.flyoutPane(pane);\r\n  }\r\n\r\n  private handleUnpinnedTabKeyDown(pane: IgcContentPane, event: KeyboardEvent) {\r\n    if (event.key === 'Enter' || event.key === ' ') {\r\n      this.handlePaneFlyout(pane);\r\n    }\r\n  }\r\n\r\n  private handlePaneDragStart(pane: IgcSplitPane | IgcContentPane, event: CustomEvent<IgcDragStartEventArguments>) {\r\n    let rect: DOMRect;\r\n\r\n    if (pane.type === IgcDockManagerPaneType.contentPane) {\r\n      const header = event.target as HTMLElement;\r\n      const parent = this.service.getParent(pane);\r\n\r\n      rect = (pane !== this.flyoutPane && parent.type === IgcDockManagerPaneType.tabGroupPane) ?\r\n        header.closest('igc-tabs-component').getBoundingClientRect() :\r\n        header.parentElement.getBoundingClientRect();\r\n      this.contentPaneId = pane.contentId;\r\n    }\r\n\r\n    this.shouldClearActivePane = false;\r\n    this.focusElement();\r\n    const dragStarted = this.service.dragPaneStart(pane, rect, event.detail.clientX, event.detail.clientY);\r\n    this.isDragging = true;\r\n    this.scheduleAfterRender(() => {\r\n      this.shouldClearActivePane = true;\r\n      if (pane.type === IgcDockManagerPaneType.contentPane) {\r\n        this.contentPaneId = pane.contentId;\r\n        return;\r\n      }\r\n      if (pane.type === IgcDockManagerPaneType.splitPane) {\r\n        const targetPane = this.findFocusablePane(pane.panes);\r\n        if (targetPane) {\r\n          this.contentPaneId = targetPane.contentId;\r\n          this.setActivePane(targetPane);\r\n        }\r\n      }\r\n    });\r\n\r\n    if (!dragStarted) {\r\n      this.isDragging = false;\r\n      event.detail.cancel = true;\r\n    } else {\r\n      this.service.dockManagerRect = this.element.getBoundingClientRect();\r\n    }\r\n  }\r\n\r\n  private handlePaneDragMove(event: CustomEvent<IgcDragMoveEventArguments>) {\r\n    this.paneDragMoved(event.detail.clientX, event.detail.clientY, event);\r\n  }\r\n\r\n  private paneDragMoved(clientX: number, clientY: number, event?: CustomEvent<IgcDragMoveEventArguments>) {\r\n    this.handleDropPositionChange(clientX, clientY, event?.target);\r\n\r\n    const x = event?.detail.clientX;\r\n    const y = event?.detail.clientY;\r\n\r\n    this.cursorLocation = { x, y };\r\n\r\n    if (this.proximityDock) {\r\n      this.service.proximityDockPosition = this.getProximityDockPosition();\r\n      this.service.dropTargetParentRect = this.getInnerDropTargetParentRect();\r\n    }\r\n\r\n    const dragMoved = this.service.dragPaneMove(x, y);\r\n\r\n    if (event && !dragMoved) {\r\n      event.detail.cancel = true;\r\n    }\r\n  }\r\n\r\n  private getInnerDropTargetParentRect() {\r\n    if (this.dropTargetPaneInfo && this.service.proximityDockPosition) {\r\n      const targetDocHostParent = this.service.getParent(this.dropTargetPaneInfo.docHost) as IgcSplitPane;\r\n\r\n      // In proximityDock, targetDocHostParent can be undefined when elementsFromPoint returns an empty splitPane meaning the dragged pane is over it.\r\n      const isIndicatorVertical = targetDocHostParent && Utils.isDockingIndicatorVertical(this.service.proximityDockPosition as IgcDockingIndicatorPosition);\r\n      const isSplitPaneVertical = targetDocHostParent && Utils.isSplitPaneVertical(targetDocHostParent);\r\n      const isSameSplitPane = ((isIndicatorVertical && isSplitPaneVertical) || (!isIndicatorVertical && !isSplitPaneVertical));\r\n\r\n      // If its over splitter or if docHost without splitter -> outer dock\r\n      // For top/bottom outer dock we need the docHost's parent rect\r\n      // For left/right outer dock we need the docHost's rootPane rect\r\n      // If its not over splitter -> innerDock\r\n      const targetPaneParent = this.allowOuterProximityDock && Utils.isDockingIndicatorOuter(this.service.proximityDockPosition as IgcDockingIndicatorPosition)\r\n        ? isSameSplitPane\r\n          ? targetDocHostParent\r\n          : this.dropTargetPaneInfo.docHost.rootPane\r\n        : this.service.getParent(this.dropTargetPaneInfo.pane);\r\n\r\n      const targetPaneParentRect = this.panesElementMap.has(targetPaneParent) ? this.panesElementMap.get(targetPaneParent).getBoundingClientRect() : null;\r\n      return targetPaneParentRect;\r\n    }\r\n  }\r\n\r\n  private getProximityDockPosition() {\r\n    const dropTarget = this.dropTargetPaneInfo;\r\n\r\n    if (!dropTarget) {\r\n      return null;\r\n    }\r\n\r\n    const pane = dropTarget.pane;\r\n    const targetPaneRect = dropTarget.targetRect;\r\n    const centerX = (targetPaneRect.left + targetPaneRect.right) / 2;\r\n    const centerY = (targetPaneRect.top + targetPaneRect.bottom) / 2;\r\n    const isRTL = this.direction === 'rtl';\r\n\r\n    const targetPane = pane.type === IgcDockManagerPaneType.tabGroupPane && pane.selectedIndex > -1\r\n      ? pane.panes[pane.selectedIndex]\r\n      : pane;\r\n\r\n    const acceptsInnerDock = targetPane.type === IgcDockManagerPaneType.contentPane && targetPane.acceptsInnerDock !== undefined && this.allowInnerDock\r\n      ? targetPane.acceptsInnerDock\r\n      : this.allowInnerDock;\r\n\r\n    const isOverSplitter = this.splitterRect\r\n      ? this.cursorLocation.x >= this.splitterRect.left\r\n        && this.cursorLocation.x <= this.splitterRect.right\r\n        && this.cursorLocation.y >= this.splitterRect.top\r\n        && this.cursorLocation.y <= this.splitterRect.bottom\r\n      : false;\r\n\r\n    // If outer proximity dock is enabled, check if there is splitter and if mouse is within splitter boundaries.\r\n    if (this.allowOuterProximityDock && this.splitterRect) {\r\n      if (this.cursorLocation.x >= this.splitterRect.left - this.proximityOuterDockThreshold\r\n        && this.cursorLocation.x <= this.splitterRect.left) {\r\n          return IgcDockingIndicatorPosition.outerLeft;\r\n      } else if (this.cursorLocation.x <= this.splitterRect.right + this.proximityOuterDockThreshold\r\n        && this.cursorLocation.x >= this.splitterRect.right) {\r\n          return IgcDockingIndicatorPosition.outerRight;\r\n      }\r\n    }\r\n\r\n    const allowOuterTopDock = this.allowOuterProximityDock && this.cursorLocation.y < targetPaneRect.top + this.proximityOuterDockThreshold;\r\n    const allowOuterBottomDock = this.allowOuterProximityDock && this.cursorLocation.y > targetPaneRect.bottom - this.proximityOuterDockThreshold;\r\n    const allowOuterLeftDock = this.allowOuterProximityDock && this.cursorLocation.x < targetPaneRect.left + this.proximityOuterDockThreshold;\r\n    const allowOuterRightDock = this.allowOuterProximityDock && this.cursorLocation.x > targetPaneRect.right - this.proximityOuterDockThreshold;\r\n\r\n    if (this.cursorLocation.y > targetPaneRect.bottom - this.proximityDockThreshold\r\n      && this.cursorLocation.x - targetPaneRect.left > targetPaneRect.bottom - this.cursorLocation.y\r\n      && targetPaneRect.right - this.cursorLocation.x > targetPaneRect.bottom - this.cursorLocation.y\r\n      && !isOverSplitter ) {\r\n        return allowOuterBottomDock ? IgcDockingIndicatorPosition.outerBottom : IgcDockingIndicatorPosition.bottom;\r\n    } else if (this.cursorLocation.y < targetPaneRect.top + this.proximityDockThreshold\r\n      && this.cursorLocation.x - targetPaneRect.left > this.cursorLocation.y - targetPaneRect.top\r\n      && targetPaneRect.right - this.cursorLocation.x > this.cursorLocation.y - targetPaneRect.top\r\n      && !isOverSplitter) {\r\n        return allowOuterTopDock ? IgcDockingIndicatorPosition.outerTop : IgcDockingIndicatorPosition.top;\r\n    } else if (acceptsInnerDock\r\n      && this.cursorLocation.x > centerX - this.proximityDockThreshold\r\n      && this.cursorLocation.x < centerX + this.proximityDockThreshold\r\n      && this.cursorLocation.y > centerY - this.proximityDockThreshold\r\n      && this.cursorLocation.y < centerY + this.proximityDockThreshold\r\n      && !isOverSplitter ) {\r\n        return IgcDockingIndicatorPosition.center;\r\n    } else if (!isRTL && this.cursorLocation.x < targetPaneRect.left + this.proximityDockThreshold\r\n      && this.cursorLocation.y - targetPaneRect.top > this.cursorLocation.x - targetPaneRect.left\r\n      && targetPaneRect.bottom - this.cursorLocation.y > this.cursorLocation.x - targetPaneRect.left) {\r\n        return allowOuterLeftDock ? IgcDockingIndicatorPosition.outerLeft : IgcDockingIndicatorPosition.left;\r\n    } else if (!isRTL && this.cursorLocation.x > targetPaneRect.right - this.proximityDockThreshold\r\n      && this.cursorLocation.y - targetPaneRect.top > targetPaneRect.right - this.cursorLocation.x\r\n      && targetPaneRect.bottom - this.cursorLocation.y > targetPaneRect.right - this.cursorLocation.x) {\r\n        return allowOuterRightDock ? IgcDockingIndicatorPosition.outerRight : IgcDockingIndicatorPosition.right;\r\n    } else if (isRTL && this.cursorLocation.x > targetPaneRect.right - this.proximityDockThreshold\r\n      && targetPaneRect.bottom - this.cursorLocation.y > this.cursorLocation.x - targetPaneRect.right\r\n      && this.cursorLocation.y - targetPaneRect.top > this.cursorLocation.x - targetPaneRect.right) {\r\n        return allowOuterRightDock ? IgcDockingIndicatorPosition.outerRight : IgcDockingIndicatorPosition.right;\r\n    } else if (isRTL && this.cursorLocation.x < targetPaneRect.left + this.proximityDockThreshold\r\n      && targetPaneRect.bottom - this.cursorLocation.y > targetPaneRect.left - this.cursorLocation.x\r\n      && this.cursorLocation.y - targetPaneRect.top > targetPaneRect.left - this.cursorLocation.x) {\r\n        return allowOuterLeftDock ? IgcDockingIndicatorPosition.outerLeft : IgcDockingIndicatorPosition.left;\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  private handlePaneDragEnd(): boolean {\r\n    const docked = this.service.dragPaneEnd();\r\n    this.isDragging = false;\r\n\r\n    if (docked) {\r\n      const activePane = this.activePane;\r\n      this.shouldClearActivePane = false;\r\n      this.reason = ActionReason.drop;\r\n      this.focusElement();\r\n      if (activePane) {\r\n        this.scheduleAfterRender(() => {\r\n          this.setActivePane(activePane);\r\n        });\r\n      }\r\n\r\n      this.scheduleAfterRender(() => {\r\n        this.shouldClearActivePane = true;\r\n      });\r\n    }\r\n\r\n    if (this.activePane) {\r\n      this.setFocus(this.activePane);\r\n    }\r\n\r\n    return docked;\r\n  }\r\n\r\n  private handleTabHeaderDragStart(pane: IgcContentPane, event: CustomEvent<IgcDragStartEventArguments>) {\r\n    this.shouldMovePane = false;\r\n\r\n    const path = this.service.getPanePath(pane);\r\n    const rootParent = path[0] as IgcSplitPane;\r\n    if (rootParent !== this.layout.rootPane &&\r\n      path.some(p => p.type === IgcDockManagerPaneType.documentHost)) {\r\n      const childPanes = this.service.getChildContentPanes(rootParent);\r\n      if (childPanes.length === 1) {\r\n        // pane is a single document host tab in a floating pane\r\n        this.shouldMovePane = true;\r\n\r\n        return this.handlePaneDragStart(rootParent, event);\r\n      }\r\n    }\r\n\r\n    this.shouldClearActivePane = false;\r\n    this.focusElement();\r\n    const dragStarted = this.service.dragTabStart(pane);\r\n    this.isDragging = true;\r\n    this.scheduleAfterRender(() => {\r\n      this.shouldClearActivePane = true;\r\n    });\r\n\r\n    if (!dragStarted) {\r\n      this.isDragging = false;\r\n      event.detail.cancel = true;\r\n    }\r\n  }\r\n\r\n  private handleTabHeaderDragMove(pane: IgcContentPane, event: CustomEvent<IgcDragMoveEventArguments>) {\r\n    if (this.shouldMovePane) {\r\n      return this.handlePaneDragMove(event);\r\n    }\r\n\r\n    const header = event.target as HTMLIgcTabHeaderComponentElement;\r\n    const headerRect = header.getBoundingClientRect();\r\n    const tabs = header.closest('igc-tabs-component');\r\n    const tabsRect = tabs.getBoundingClientRect();\r\n    const tabHeaders = Array.from(tabs.querySelectorAll('igc-tab-header-component'));\r\n    const headerIndex = tabHeaders.indexOf(header);\r\n\r\n    const prevHeaderRect = headerIndex > 0 ? tabHeaders[headerIndex - 1].getBoundingClientRect() : null;\r\n    const nextHeaderRect = headerIndex < tabHeaders.length - 1 ? tabHeaders[headerIndex + 1].getBoundingClientRect() : null;\r\n    const lastVisibleHeaderRect = tabHeaders.filter(th => th.getBoundingClientRect().top === headerRect.top).slice(-1)[0].getBoundingClientRect();\r\n\r\n    const tabRectsInfo = {\r\n      headerRect,\r\n      prevHeaderRect,\r\n      nextHeaderRect,\r\n      lastVisibleHeaderRect,\r\n      tabsRect\r\n    };\r\n\r\n    this.handleDropPositionChange(event.detail.clientX, event.detail.clientY, event?.target);\r\n    const tabMoved = this.service.dragTabMove(pane, event.detail, tabRectsInfo);\r\n\r\n    if (event && !tabMoved) {\r\n      event.detail.cancel = true;\r\n    }\r\n  }\r\n\r\n  private handleTabHeaderDragEnd(pane: IgcContentPane) {\r\n    const docked = this.handlePaneDragEnd();\r\n\r\n    if (!docked) {\r\n      this.activePane = pane;\r\n    }\r\n  }\r\n\r\n  private handleFloatingPaneResizeStart(pane: IgcSplitPane, event: CustomEvent<IgcDragResizeEventArguments>) {\r\n    const args = event.detail;\r\n\r\n    this.isDragging = true;\r\n\r\n    const resizeStarted = this.service.resizeFloatingPaneStart(pane, args.resizerLocation);\r\n    if (!resizeStarted) {\r\n      this.isDragging = false;\r\n      args.dragMoveArgs.cancel = true;\r\n    }\r\n  }\r\n\r\n  private handleFloatingPaneResizeMove(pane: IgcSplitPane, event: CustomEvent<IgcDragResizeEventArguments>) {\r\n    this.service.resizeFloatingPane(pane, event.detail);\r\n  }\r\n\r\n  private handleFloatingPaneResizeEnd(pane: IgcSplitPane, event: CustomEvent<IgcDragResizeEventArguments>) {\r\n    this.isDragging = false;\r\n    this.service.resizeFloatingPaneEnd(pane, event.detail.resizerLocation);\r\n  }\r\n\r\n  private handleDropPositionChange(clientX: number, clientY: number, target?: EventTarget) {\r\n    const elements = clientX && clientY ?\r\n      this.element.shadowRoot.elementsFromPoint(clientX, clientY) :\r\n      null;\r\n\r\n    let isOverSplitter = false;\r\n    this.splitterRect = null;\r\n\r\n    const splitter = elements ? elements.filter(e => e.tagName.toLowerCase() === 'igc-splitter-component') : [];\r\n\r\n    if (splitter.length > 0) {\r\n      const splitterIndex = elements.indexOf(splitter[0]);\r\n      const adjacentElement = elements[splitterIndex - 1];\r\n      isOverSplitter = adjacentElement &&\r\n        adjacentElement.tagName.toLowerCase() === 'igc-floating-pane-component' &&\r\n        (adjacentElement as any).floatingId === this.draggedPane?.id; // if not equal - splitter is below another element, not directly over\r\n    }\r\n\r\n    if (this.proximityDock) {\r\n      const docHost = elements ? elements.filter(e => e.tagName.toLowerCase() === 'igc-document-host-component') : [];\r\n\r\n      if (docHost.length > 0) {\r\n        const splitter = docHost[0].querySelector('igc-splitter-component');\r\n\r\n        if (splitter) {\r\n          const splitterRect = splitter.getBoundingClientRect();\r\n          this.splitterRect = splitterRect;\r\n        }\r\n\r\n        this.allowOuterProximityDock = true;\r\n      } else {\r\n        this.allowOuterProximityDock = false;\r\n      }\r\n    }\r\n\r\n    if (!elements || !elements.length || (isOverSplitter && this.splitterRect === null)) {\r\n      this.service.dockingIndicator = null;\r\n      this.dropTargetPaneInfo = null;\r\n      return;\r\n    }\r\n\r\n    const topElement = elements[0];\r\n    let indicatorTarget = null;\r\n    let dockingIndicatorElement: HTMLElement = topElement.closest('igc-root-docking-indicator-component');\r\n\r\n    if (dockingIndicatorElement) {\r\n      this.service.dockingIndicator = {\r\n        position: (dockingIndicatorElement as HTMLIgcRootDockingIndicatorComponentElement).position,\r\n        isRoot: true,\r\n        direction: this.direction\r\n      };\r\n    }\r\n\r\n    if (!dockingIndicatorElement) {\r\n      const joystickIcon = topElement.closest('igc-joystick-icon-component');\r\n\r\n      if (joystickIcon && !joystickIcon.empty) {\r\n        dockingIndicatorElement = joystickIcon;\r\n        this.service.dockingIndicator = {\r\n          position: joystickIcon.position,\r\n          isRoot: false,\r\n          direction: this.direction\r\n        };\r\n        const joystickIndicator = joystickIcon.closest('igc-joystick-indicator-component');\r\n        indicatorTarget = joystickIndicator.dropTargetPaneInfo;\r\n      }\r\n    }\r\n\r\n    if (dockingIndicatorElement &&\r\n      (this.service.dockingIndicator.isRoot || this.dropTargetPaneInfo === indicatorTarget)) {\r\n\r\n      this.service.dropTargetParentRect = this.getDropTargetParentRect();\r\n      return;\r\n    }\r\n\r\n    this.service.dockingIndicator = null;\r\n\r\n    if (target) {\r\n      const draggedHeader = target as HTMLElement;\r\n      const draggedFloatingPane = draggedHeader.closest('igc-floating-pane-component');\r\n      const topFloatingPane = elements.find(e => e.tagName.toLowerCase() === 'igc-floating-pane-component');\r\n\r\n      if (topFloatingPane === draggedFloatingPane) {\r\n        const index = elements.lastIndexOf(draggedFloatingPane);\r\n        elements.splice(0, index + 1);\r\n      }\r\n    }\r\n\r\n    let paneElement: HTMLElement;\r\n\r\n    for (const element of elements) {\r\n      const tagName = element.tagName.toLowerCase();\r\n\r\n      if (tagName === 'igc-content-pane-component' || tagName === 'igc-split-pane-component') {\r\n        if (paneElement) {\r\n          break;\r\n        }\r\n        paneElement = element as HTMLElement;\r\n        // Not sure why we dont break after finding split-pane first. This works with proximityDock so its temporarily here.\r\n        // When we are over splitter and proximityDock is true, break after finding the first suitable splitPane.\r\n        if (this.allowOuterProximityDock) {\r\n          break;\r\n        }\r\n\r\n      } else if (tagName === 'igc-tabs-component' || tagName === 'igc-document-host-component') {\r\n        paneElement = element as HTMLElement;\r\n        break;\r\n      } else if (tagName === 'igc-floating-pane-component') {\r\n        break;\r\n      }\r\n    }\r\n\r\n    if (paneElement) {\r\n      const dropPane = this.panesElementMap.getByValue(paneElement);\r\n\r\n      if ((!this.dropTargetPaneInfo || this.dropTargetPaneInfo.pane !== dropPane) && dropPane !== this.draggedPane) {\r\n        const docHost = this.service.getDocHostParent(dropPane);\r\n        const dropPaneRoot = this.service.getRootParent(dropPane);\r\n        const floatingPaneWithoutDocHost = this.layout.floatingPanes\r\n          ? this.layout.floatingPanes.indexOf(dropPaneRoot) !== -1 &&\r\n            !this.service.getChildDocHostRecursive(dropPaneRoot)\r\n          : false;\r\n\r\n        if (!this.documentOnlyDrag\r\n          || docHost\r\n          || floatingPaneWithoutDocHost\r\n          || dropPane.type === IgcDockManagerPaneType.documentHost) {\r\n          this.dropTargetPaneInfo = {\r\n            pane: dropPane,\r\n            targetRect: paneElement.getBoundingClientRect(),\r\n            docHost,\r\n            floatingPaneWithoutDocHost\r\n          };\r\n        } else {\r\n          this.dropTargetPaneInfo = null;\r\n        }\r\n      }\r\n    } else {\r\n      this.dropTargetPaneInfo = null;\r\n    }\r\n  }\r\n\r\n  private getDropTargetParentRect() {\r\n    const position = this.service.dockingIndicator.position;\r\n    let rect;\r\n    if (this.service.dockingIndicator.isRoot) {\r\n      rect = this.dockedPanesContainer.getBoundingClientRect();\r\n    } else {\r\n      if (Utils.isDockingIndicatorOuter(position as IgcDockingIndicatorPosition)) {\r\n        const targetDocHostParent = this.service.getParent(this.dropTargetPaneInfo.docHost) as IgcSplitPane;\r\n        const isIndicatorVertical = Utils.isDockingIndicatorVertical(position as IgcDockingIndicatorPosition);\r\n        const isSplitPaneVertical = Utils.isSplitPaneVertical(targetDocHostParent);\r\n        const isSameSplitPane = ((isIndicatorVertical && isSplitPaneVertical) || (!isIndicatorVertical && !isSplitPaneVertical));\r\n        const outerParent = isSameSplitPane ? targetDocHostParent : this.dropTargetPaneInfo.docHost.rootPane;\r\n        const outerParentRect = this.panesElementMap.has(outerParent) ? this.panesElementMap.get(outerParent).getBoundingClientRect() : null;\r\n        rect = outerParentRect;\r\n      } else {\r\n        const targetPaneParent = this.service.getParent(this.dropTargetPaneInfo.pane);\r\n        const targetPaneParentRect = this.panesElementMap.has(targetPaneParent) ? this.panesElementMap.get(targetPaneParent).getBoundingClientRect() : null;\r\n        rect = targetPaneParentRect;\r\n      }\r\n    }\r\n\r\n    return rect;\r\n  }\r\n\r\n  private handlePaneContentMouseDown(pane: IgcContentPane) {\r\n    requestAnimationFrame(() => {\r\n      const rootNode = this.getRootNode();\r\n      if (this.element === rootNode.activeElement || !this.element.contains(rootNode.activeElement)) {\r\n        this.setFocus(pane);\r\n        this.contentPaneId = pane.contentId;\r\n      }\r\n    });\r\n  }\r\n\r\n  private handlePaneContentScroll(pane: IgcContentPane, event: CustomEvent<IgcPaneScrollEventArgs>) {\r\n    const contentElement = event.target as HTMLElement;\r\n    const args: IgcPaneScrollEventArgs = {pane, contentElement: contentElement}\r\n\r\n    this.paneScroll.emit(args);\r\n  }\r\n\r\n  private handlePaneHeaderMouseDown(pane: IgcContentPane) {\r\n    const rootNode = this.getRootNode();\r\n    requestAnimationFrame(() => {\r\n      this.contentPaneId = pane.contentId;\r\n      if (this.element === rootNode.activeElement || !this.element.contains(rootNode.activeElement)) {\r\n        const paneElement = this.contentPanesElementMap.get(pane);\r\n        paneElement.focus();\r\n      } else {\r\n        this.setActivePane(pane);\r\n      }\r\n    });\r\n  }\r\n\r\n  private handleTabHeaderMouseDown(pane: IgcContentPane, event: MouseEvent) {\r\n    const target = event.currentTarget as HTMLElement;\r\n    const rootNode = this.getRootNode();\r\n\r\n    const pathHTMLElements = event.composedPath().filter(et => et instanceof HTMLElement).map(et => et as HTMLElement);\r\n    this._tabHeaderIconClicked = this.showHeaderIconOnHover &&\r\n      pathHTMLElements.filter(el => el.attributes.getNamedItem('part') && el.attributes.getNamedItem('part').value === 'tab-header-more-options floating').length > 0;\r\n\r\n    requestAnimationFrame(() => {\r\n      this.contentPaneId = pane.contentId;\r\n      this.reason = ActionReason.click;\r\n      if (this.element === rootNode.activeElement || !this.element.contains(rootNode.activeElement)) {\r\n        target.focus();\r\n      } else {\r\n        this.setActivePane(pane);\r\n      }\r\n    });\r\n  }\r\n\r\n  private handleFloatingPaneMouseDown(pane: IgcSplitPane, event: MouseEvent) {\r\n    const pathHTMLElements = event.composedPath().filter(e => e instanceof HTMLElement).map(e => e as HTMLElement);\r\n    const isContextMenu = pathHTMLElements.filter(e => e.attributes.getNamedItem('part') && e.attributes.getNamedItem('part').value === 'context-menu').length > 0;\r\n    if (isContextMenu) {\r\n      return;\r\n    }\r\n\r\n    this.service.bringFloatingPaneOnTop(pane);\r\n\r\n    const isTabs = pathHTMLElements.filter(e => e.attributes.getNamedItem('part') && e.attributes.getNamedItem('part').value === 'tabs-container').length > 0;\r\n    if (isTabs) {\r\n      return;\r\n    }\r\n\r\n    const isFloatingPaneHeader = pathHTMLElements.filter(e => e.attributes.getNamedItem('part') && e.attributes.getNamedItem('part').value === 'pane-header floating window').length > 0;\r\n    if (isFloatingPaneHeader) {\r\n      let targetPane: IgcContentPane;\r\n      let parent = this.service.getParent(this.activePane);\r\n      while (parent) {\r\n        if (parent === pane) {\r\n          targetPane = this.activePane;\r\n          break;\r\n        }\r\n\r\n        parent = this.service.getParent(parent);\r\n      }\r\n\r\n      requestAnimationFrame(() => {\r\n        if (!targetPane) {\r\n          targetPane = this.findFocusablePane(pane.panes);\r\n        }\r\n\r\n        if (!targetPane) {\r\n          targetPane = pane.panes[0] as IgcContentPane;\r\n        }\r\n        const nodeName = (event.target as HTMLElement).nodeName.toLowerCase();\r\n        if (nodeName === 'igc-dockmanager') {\r\n          this.setActivePane(targetPane);\r\n          this.setFocus(targetPane);\r\n        }\r\n\r\n        this.contentPaneId = targetPane.contentId;\r\n      });\r\n    }\r\n  }\r\n\r\n  private handleTabIconClick(p: IgcContentPane, position: IgcTabHeadersPosition, isFloating: boolean, event: CustomEvent<MouseEvent>) {\r\n    if (!this.showHeaderIconOnHover) {\r\n      this.focusElement();\r\n    }\r\n\r\n    if (!isFloating && position === IgcTabHeadersPosition.bottom) {\r\n      const elem = event.detail.target as HTMLElement;\r\n\r\n      const tabHeader = elem.closest('igc-tab-header-component');\r\n      const moreOptionsContainer: HTMLElement = tabHeader ?\r\n        tabHeader.shadowRoot.querySelector('div[part*=\"tab-header-more-options\"]') :\r\n        elem.closest('div[part*=\"tab-header-more-options\"]');\r\n\r\n      this.contextMenuMeta = { target: moreOptionsContainer, menuItems: this.service.createContextMenuItems(p), position: this.contextMenuPosition };\r\n    } else {\r\n      this.contextMenuMeta = null;\r\n      this.service.closeTabPane(p);\r\n    }\r\n  }\r\n\r\n  private handleContextMenuClosed() {\r\n    this.contextMenuMeta = null;\r\n  }\r\n\r\n  private handleTabSelectedIndexChanged(pane: IgcTabGroupPane, event: CustomEvent<number>) {\r\n    pane.selectedIndex = event.detail;\r\n  }\r\n\r\n  private handleHiddenTabSelected(pane: IgcTabGroupPane, event: CustomEvent<number>) {\r\n    this.activePane = this.service.getVisibleContentPanes(pane)[event.detail];\r\n  }\r\n\r\n  private handleSelectedTabOutOfView(pane: IgcTabGroupPane, event: CustomEvent<number>) {\r\n    const cp = this.service.getVisibleContentPanes(pane)[event.detail];\r\n    this.service.selectHiddenTab(pane, cp);\r\n  }\r\n\r\n  private handleTabIconKeyDown(iconName: string, p: IgcContentPane, ev: CustomEvent<KeyboardEvent>) {\r\n    if (iconName === 'arrow_drop_down' && ev.detail.key === 'ArrowDown') {\r\n      const targetElem = ev.detail.target as HTMLElement;\r\n      const tabHeader = targetElem.closest('igc-tab-header-component');\r\n      const moreOptionsContainer: HTMLElement = tabHeader ?\r\n        tabHeader.shadowRoot.querySelector('div[part=\"tab-header-more-options\"]') :\r\n        targetElem.closest('div[part=\"tab-header-more-options\"]');\r\n\r\n      this.contextMenuMeta = { target: moreOptionsContainer, menuItems: this.service.createContextMenuItems(p), position: this.contextMenuPosition };\r\n    }\r\n  }\r\n\r\n  private handleTabSelectedChanged(pane: IgcContentPane, ev: CustomEvent<boolean>) {\r\n    if (ev.detail && pane === this.paneToFocus) {\r\n      this.setFocus(pane);\r\n    }\r\n  }\r\n\r\n  private emitPaneHeaderConnected(pane: IgcContentPane, event: CustomEvent<IgcPaneHeaderElement>) {\r\n    this.paneHeaderConnected.emit({\r\n      pane,\r\n      element: event.detail\r\n    });\r\n  }\r\n\r\n  private emitPaneHeaderDisconnected(pane: IgcContentPane, event: CustomEvent<IgcPaneHeaderElement>) {\r\n    this.paneHeaderDisconnected.emit({\r\n      pane,\r\n      element: event.detail\r\n    });\r\n  }\r\n\r\n  private emitTabHeaderConnected(pane: IgcContentPane, event: CustomEvent<IgcTabHeaderElement>) {\r\n    this.tabHeaderConnected.emit({\r\n      pane,\r\n      element: event.detail\r\n    });\r\n  }\r\n\r\n  private emitTabHeaderDisconnected(pane: IgcContentPane, event: CustomEvent<IgcTabHeaderElement>) {\r\n    this.tabHeaderDisconnected.emit({\r\n      pane,\r\n      element: event.detail\r\n    });\r\n  }\r\n\r\n  private resolveAllowMaximize(pane: IgcDockManagerPane): boolean {\r\n    return this.service.resolveAllowMaximize(pane);\r\n  }\r\n\r\n  private removeHoveredPane() {\r\n    this.hoveredPane = null;\r\n  }\r\n\r\n  private togglePaneHeaderVisibility(pane: IgcContentPane, event: MouseEvent) {\r\n    const paneRect = this.contentPanesElementMap.get(pane).getBoundingClientRect();\r\n    const withinPane = event.clientY >= paneRect.top && event.clientY < paneRect.top + PANE_HEADER_HEIGHT;\r\n\r\n    if (withinPane) {\r\n      this.hoveredPane = pane;\r\n    } else {\r\n      this.removeHoveredPane();\r\n    }\r\n  }\r\n\r\n  private renderButtonsTemplates() {\r\n    return (\r\n      <template>\r\n        <slot name=\"paneHeaderCloseButton\" onSlotchange={this.updateTemplates}></slot>\r\n        <slot name=\"tabHeaderCloseButton\" onSlotchange={this.updateTemplates}></slot>\r\n        <slot name=\"closeButton\" onSlotchange={this.updateTemplates}></slot>\r\n        <slot name=\"moreTabsButton\" onSlotchange={this.updateTemplates}></slot>\r\n        <slot name=\"maximizeButton\" onSlotchange={this.updateTemplates}></slot>\r\n        <slot name=\"minimizeButton\" onSlotchange={this.updateTemplates}></slot>\r\n        <slot name=\"pinButton\" onSlotchange={this.updateTemplates}></slot>\r\n        <slot name=\"unpinButton\" onSlotchange={this.updateTemplates}></slot>\r\n        <slot name=\"moreOptionsButton\" onSlotchange={this.updateTemplates}></slot>\r\n        <slot name=\"splitterHandle\" onSlotchange={this.updateTemplates}></slot>\r\n      </template>\r\n      );\r\n  }\r\n\r\n  private renderContentPane(pane: IgcContentPane, isFloating: boolean, isFlyout: boolean) {\r\n    const parentPane = this.service.getParent(pane);\r\n\r\n    let forceDrag = false;\r\n    let isSingleFloatingContentPane = false;\r\n    let floatingPane: IgcSplitPane;\r\n\r\n    if (isFloating) {\r\n      floatingPane = this.service.getRootParent(pane);\r\n      const hasHeader = this.service.hasFloatingPaneHeader(floatingPane);\r\n\r\n      if (!hasHeader) {\r\n        isSingleFloatingContentPane = true;\r\n\r\n        if (this.service.forceDragPane === floatingPane) {\r\n          this.service.forceDragPane = null;\r\n          forceDrag = true;\r\n        }\r\n      }\r\n    }\r\n\r\n    const maximized = this.maximizedPane === pane ||\r\n      (parentPane.type === IgcDockManagerPaneType.tabGroupPane && this.maximizedPane === parentPane) ||\r\n      isFloating && isSingleFloatingContentPane && floatingPane === this.maximizedPane;\r\n\r\n    return (\r\n      <igc-content-pane-component\r\n        key={pane.id}\r\n        contentId={pane.contentId}\r\n        size={pane.size}\r\n        isFlyout={isFlyout}\r\n        unpinnedSize={pane.unpinnedSize}\r\n        disabled={pane.disabled}\r\n        isSingleFloating={isSingleFloatingContentPane}\r\n        onMouseMove={this.togglePaneHeaderVisibility.bind(this, pane)}\r\n        onMouseLeave={this.removeHoveredPane.bind(this)}\r\n        ref={el => {\r\n          if (el) {\r\n            this.panesElementMap.set(pane, el);\r\n            this.contentPanesElementMap.set(pane, el);\r\n          }\r\n        }}\r\n        class={{\r\n          'maximized': this.maximizedPane === pane\r\n        }}\r\n        header={pane.header}\r\n        onFocusin={this.handleContentPaneFocus.bind(this, pane)}\r\n      >\r\n        <igc-pane-header-component\r\n          slot=\"header\"\r\n          pane={pane}\r\n          isActive={pane === this.activePane}\r\n          disabled={pane.disabled && !isSingleFloatingContentPane}\r\n          pinned={this.service.getActualIsPinned(pane)}\r\n          allowMaximize={this.resolveAllowMaximize(pane)}\r\n          maximized={maximized}\r\n          allowClose={this.service.getActualAllowClose(pane)}\r\n          allowPinning={pane.allowPinning !== false}\r\n          isFloating={isFloating}\r\n          forcedDrag={forceDrag}\r\n          resourceStrings={this.resourceStrings}\r\n          onPinToggle={this.handlePinToggle.bind(this, pane)}\r\n          onMaximize={this.handleMaximize.bind(this, pane)}\r\n          onDragMoved={this.handlePaneDragMove.bind(this)}\r\n          onDragStarted={this.handlePaneDragStart.bind(this, isSingleFloatingContentPane ? floatingPane : pane)}\r\n          onDragEnded={this.handlePaneDragEnd.bind(this)}\r\n          onClose={this.handlePaneClose.bind(this, pane)}\r\n          onElementConnected={this.emitPaneHeaderConnected.bind(this, pane)}\r\n          onElementDisconnected={this.emitPaneHeaderDisconnected.bind(this, pane)}\r\n          onMouseDown={this.handlePaneHeaderMouseDown.bind(this, pane)}\r\n          class={{\r\n            'hidden': this.showPaneHeaders === 'onHoverOnly' && this.hoveredPane !== pane,\r\n            'transitioned': this.showPaneHeaders === 'onHoverOnly' && this.hoveredPane === pane\r\n          }}\r\n        >\r\n          {(isFloating && pane.floatingHeaderId) ? <slot name={pane.floatingHeaderId}></slot> :\r\n            pane.headerId ? <slot name={pane.headerId}></slot> :\r\n              pane.header}\r\n        </igc-pane-header-component>\r\n        <div\r\n          class=\"content\"\r\n          onMouseDown={this.handlePaneContentMouseDown.bind(this, pane)}\r\n          onScroll={this.handlePaneContentScroll.bind(this, pane)}\r\n        >\r\n          <slot name={pane.contentId}></slot>\r\n        </div>\r\n      </igc-content-pane-component>\r\n    );\r\n  }\r\n\r\n  private renderSplitter(parentPane: IgcSplitPane, pane: IgcDockManagerPane) {\r\n    return (\r\n      <igc-splitter-component\r\n        splitPaneOrientation={parentPane.orientation}\r\n        onResizeStart={this.handleSplitterResizeStart.bind(this, pane)}\r\n        onResizeEnd={this.handleSplitterResizeEnd.bind(this, parentPane, pane)}\r\n        onFocusin={this.clearActivePane.bind(this)}\r\n      >\r\n      </igc-splitter-component >\r\n    );\r\n  }\r\n\r\n  private renderDocumentHost(docHost: IgcDocumentHost) {\r\n    return (\r\n      <igc-document-host-component\r\n        key={docHost.id}\r\n        size={docHost.size}\r\n        ref={el => {\r\n          if (el) {\r\n            this.panesElementMap.set(docHost, el);\r\n          }\r\n        }}\r\n      >\r\n        {this.renderSplitPane(docHost.rootPane, false, true)}\r\n      </igc-document-host-component>\r\n    );\r\n  }\r\n\r\n  private renderTabGroup(pane: IgcTabGroupPane | IgcContentPane, isFloating: boolean, isInDocumentHost: boolean) {\r\n    let tabs = pane.type === IgcDockManagerPaneType.tabGroupPane ? pane.panes : [pane];\r\n    tabs = tabs.filter(t => this.service.isContentPaneVisible(t));\r\n    const selectedIndex = pane.type === IgcDockManagerPaneType.tabGroupPane && pane.selectedIndex ?\r\n      pane.selectedIndex : 0;\r\n    const position = isInDocumentHost ? IgcTabHeadersPosition.top : IgcTabHeadersPosition.bottom;\r\n    const isSingleTab = tabs.length === 1 && position === IgcTabHeadersPosition.bottom;\r\n    const allowEmpty = pane.type === IgcDockManagerPaneType.tabGroupPane ? pane.allowEmpty : false;\r\n    const allowMaximize = this.resolveAllowMaximize(pane);\r\n\r\n    let contentIds = [];\r\n    if (pane.type === IgcDockManagerPaneType.tabGroupPane) {\r\n      pane.panes.forEach(element => {\r\n        contentIds.push(element.contentId);\r\n      });\r\n    } else {\r\n      contentIds.push(pane.contentId);\r\n    }\r\n\r\n    return (allowEmpty || tabs.length > 0) && (\r\n      <igc-tabs-component\r\n        key={pane.id}\r\n        contentIds={contentIds}\r\n        size={pane.size}\r\n        selectedIndex={selectedIndex}\r\n        hasHeaders={!isSingleTab}\r\n        maximized={this.maximizedPane === pane}\r\n        allowMaximize={position === IgcTabHeadersPosition.top && allowMaximize}\r\n        onMaximizeMinimizeFocus={this.clearActivePane.bind(this)}\r\n        onMaximize={this.handleMaximize.bind(this, pane)}\r\n        onSelectedIndexChanged={this.handleTabSelectedIndexChanged.bind(this, pane)}\r\n        onHiddenTabSelected={this.handleHiddenTabSelected.bind(this, pane)}\r\n        onSelectedTabOutOfView={this.handleSelectedTabOutOfView.bind(this, pane)}\r\n        onRendered={this.handleTabsRendered.bind(this, pane)}\r\n        tabHeadersPosition={position}\r\n        resourceStrings={this.resourceStrings}\r\n        ref={el => {\r\n          if (el) {\r\n            this.panesElementMap.set(pane, el);\r\n          }\r\n        }}\r\n        class={{\r\n          'maximized': this.maximizedPane === pane,\r\n        }}\r\n      >\r\n        {isSingleTab ?\r\n          this.renderTabPanel(tabs[0], false, isFloating) :\r\n          tabs.map(p => {\r\n            return [\r\n              this.renderTabHeader(p, position, isFloating),\r\n              this.renderTabPanel(p, isInDocumentHost, isFloating)\r\n            ];\r\n          })}\r\n      </igc-tabs-component>\r\n    );\r\n  }\r\n\r\n  private renderTabPanel(pane: IgcContentPane, isInDocumentHost: boolean, isFloating: boolean) {\r\n    return (\r\n      <igc-tab-panel-component\r\n        key={pane.id}\r\n        disabled={pane.disabled}\r\n        onMouseDown={isInDocumentHost ? this.handlePaneContentMouseDown.bind(this, pane) : null}\r\n        onSelectedChanged={this.handleTabSelectedChanged.bind(this, pane)}\r\n        onScroll={isInDocumentHost ? this.handlePaneContentScroll.bind(this, pane) : null}\r\n      >\r\n        {isInDocumentHost ?\r\n          <slot name={pane.contentId}></slot> :\r\n          this.renderContentPane(pane, isFloating, false)}\r\n      </igc-tab-panel-component>);\r\n  }\r\n\r\n  private renderTabHeader(pane: IgcContentPane, position: IgcTabHeadersPosition, isFloating: boolean) {\r\n    let forceDrag = false;\r\n    const allowClose = this.service.getActualAllowClose(pane);\r\n    const allowPinning = pane.allowPinning !== false;\r\n    const iconName = isFloating ?\r\n      allowClose ? 'close' : null :\r\n      position === IgcTabHeadersPosition.bottom ?\r\n        allowClose || allowPinning ? 'arrow_drop_down' : null :\r\n        allowClose ? 'close' : null;\r\n\r\n    if (this.service.forceDragTabHeader === pane) {\r\n      this.service.forceDragTabHeader = null;\r\n      forceDrag = true;\r\n    }\r\n\r\n    return (\r\n      <igc-tab-header-component\r\n        key={pane.id}\r\n        slot=\"tabHeader\"\r\n        isActive={pane === this.activePane}\r\n        disabled={pane.disabled}\r\n        showHeaderIconOnHover={this.showHeaderIconOnHover}\r\n        header={pane.header}\r\n        resourceStrings={this.resourceStrings}\r\n        onDragStarted={this.handleTabHeaderDragStart.bind(this, pane)}\r\n        onDragMoved={this.handleTabHeaderDragMove.bind(this, pane)}\r\n        onDragEnded={this.handleTabHeaderDragEnd.bind(this, pane)}\r\n        onMouseDown={this.handleTabHeaderMouseDown.bind(this, pane)}\r\n        onIconKeyDown={this.handleTabIconKeyDown.bind(this, iconName, pane)}\r\n        position={position}\r\n        onIconClicked={this.handleTabIconClick.bind(this, pane, position, isFloating)}\r\n        iconName={iconName}\r\n        forcedDrag={forceDrag}\r\n        onElementConnected={this.emitTabHeaderConnected.bind(this, pane)}\r\n        onElementDisconnected={this.emitTabHeaderDisconnected.bind(this, pane)}\r\n        ref={el => {\r\n          if (el) {\r\n            this.tabHeadersMap.set(pane, el);\r\n          }\r\n        }}\r\n        onFocusin={this.handleTabHeaderFocus.bind(this, pane)}\r\n      >\r\n        {\r\n          pane.tabHeaderId ?\r\n            <slot name={pane.tabHeaderId}></slot> :\r\n            <span part=\"header-title\" title={pane.header}>{pane.header}</span>\r\n        }\r\n      </igc-tab-header-component>);\r\n  }\r\n\r\n  private renderSplitPane(splitPane: IgcSplitPane, isFloating: boolean, isInDocumentHost: boolean) {\r\n    const panes = this.service.getSplitPaneVisibleChildren(splitPane);\r\n\r\n    return (splitPane.allowEmpty || panes.length > 0) && (\r\n      <igc-split-pane-component\r\n        key={splitPane.id}\r\n        orientation={splitPane.orientation}\r\n        size={splitPane.size}\r\n        onRendered={this.handleSplitPaneRendered.bind(this, panes)}\r\n        ref={el => {\r\n          if (el) {\r\n            this.panesElementMap.set(splitPane, el);\r\n          }\r\n        }}\r\n      >\r\n        {panes.map((p, i) => {\r\n          let paneComponent;\r\n\r\n          if (p.type === IgcDockManagerPaneType.splitPane) {\r\n            paneComponent = this.renderSplitPane(p, isFloating, isInDocumentHost);\r\n          } else if (p.type === IgcDockManagerPaneType.contentPane) {\r\n            paneComponent = isInDocumentHost ?\r\n              this.renderTabGroup(p, isFloating, true) :\r\n              this.renderContentPane(p, isFloating, false);\r\n          } else if (p.type === IgcDockManagerPaneType.documentHost) {\r\n            paneComponent = this.renderDocumentHost(p);\r\n          } else if (p.type === IgcDockManagerPaneType.tabGroupPane) {\r\n            paneComponent = this.renderTabGroup(p, isFloating, isInDocumentHost);\r\n          }\r\n\r\n          return i > 0 ?\r\n            [this.renderSplitter(splitPane, p), paneComponent] :\r\n            paneComponent;\r\n        })}\r\n      </igc-split-pane-component>\r\n    );\r\n  }\r\n\r\n  private renderUnpinnedTabArea(location: IgcUnpinnedLocation) {\r\n    const panes: IgcContentPane[] = [];\r\n    const isHorizontal = location === IgcUnpinnedLocation.top || location === IgcUnpinnedLocation.bottom;\r\n    const isLeft = location === IgcUnpinnedLocation.left;\r\n    const isRight = location === IgcUnpinnedLocation.right;\r\n    const isBottom = location === IgcUnpinnedLocation.bottom;\r\n\r\n    this.service.unpinnedLocationMap.forEach((l, p) => {\r\n      if (l === location && p.hidden !== true) {\r\n        panes.push(p);\r\n      }\r\n    });\r\n\r\n    const tabAreaClasses = {\r\n      'unpinned-tab-area': true,\r\n      'unpinned-tab-area--left': isLeft,\r\n      'unpinned-tab-area--right': isRight,\r\n      'unpinned-tab-area--bottom': isBottom,\r\n      'unpinned-tab-area--horizontal': isHorizontal,\r\n      'unpinned-tab-area--hidden': panes.length === 0\r\n    };\r\n\r\n    return (\r\n      <div\r\n        class={tabAreaClasses}\r\n        part={Utils.partNameMap(tabAreaClasses)}\r\n        role=\"tablist\"\r\n        aria-orientation={isHorizontal ? 'horizontal' : 'vertical'}\r\n      >\r\n        {panes.map(p => (\r\n          <igc-unpinned-pane-header-component\r\n            location={location}\r\n            isActive={p === this.activePane}\r\n            disabled={p.disabled}\r\n            onMouseDown={this.handleUnpinnedTabMouseDown.bind(this, p)}\r\n            onKeyDown={this.handleUnpinnedTabKeyDown.bind(this, p)}\r\n            onFocus={this.handleUnpinnedHeaderFocus.bind(this, p)}\r\n            ref={el => {\r\n              if (el) {\r\n                const slot = el.querySelector('slot');\r\n                if (slot && p.unpinnedHeaderId) {\r\n                  slot.name = p.unpinnedHeaderId;\r\n                }\r\n                this.unpinnedHeadersMap.set(p, el);\r\n              }\r\n            }}\r\n          >\r\n            {p.unpinnedHeaderId ? <slot name={p.unpinnedHeaderId} /> : p.header}\r\n          </igc-unpinned-pane-header-component>\r\n        ))}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  private renderFlyoutPane() {\r\n    const location = this.service.unpinnedLocationMap.get(this.flyoutPane);\r\n    const flyoutClasses = {\r\n      'flyout-pane': true,\r\n      'flyout-pane--right': location === IgcUnpinnedLocation.right,\r\n      'flyout-pane--bottom': location === IgcUnpinnedLocation.bottom,\r\n      'flyout-pane--left': location === IgcUnpinnedLocation.left,\r\n    };\r\n\r\n    let splitPaneOrientation = IgcSplitPaneOrientation.vertical;\r\n\r\n    if (location === IgcUnpinnedLocation.left || location === IgcUnpinnedLocation.right) {\r\n      splitPaneOrientation = IgcSplitPaneOrientation.horizontal;\r\n    }\r\n\r\n    const maximized = this.maximizedPane === this.flyoutPane;\r\n\r\n    return this.flyoutPane && (\r\n      <div class={flyoutClasses} style={{ 'z-index': maximized ? '10002' : '2' }}>\r\n        {this.renderContentPane(this.flyoutPane, false, true)}\r\n        <igc-splitter-component\r\n          flyoutLocation={location}\r\n          splitPaneOrientation={splitPaneOrientation}\r\n          onResizeStart={this.handleSplitterResizeStart.bind(this, this.flyoutPane, )}\r\n          onResizeEnd={this.handleFlyoutSplitterResizeEnd.bind(this, this.flyoutPane, splitPaneOrientation)}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  private renderFloatingPanes() {\r\n    return (\r\n      <div class=\"floating-panes\" style={{ position: this.maximizedPane ? 'absolute' : 'fixed' }}>\r\n        {this.layout?.floatingPanes?.map(p => {\r\n          const panes = this.service.getSplitPaneVisibleChildren(p);\r\n\r\n          if (panes.length === 0) {\r\n            return null;\r\n          }\r\n\r\n          const hasHeader = this.service.hasFloatingPaneHeader(p);\r\n          let forceDrag = false;\r\n          if (p === this.service.forceDragPane && hasHeader) {\r\n            this.service.forceDragPane = null;\r\n            forceDrag = true;\r\n          }\r\n\r\n          const containsMaximizedPane = this.maximizedPane && this.service.getRootParent(this.maximizedPane) === p;\r\n\r\n          return (\r\n            <igc-floating-pane-component\r\n              key={p.id}\r\n              floatingId={p.id}\r\n              style={{ zIndex: this.floatingPaneZIndicesMap.get(p).toString() }}\r\n              floatingLocation={p.floatingLocation ? p.floatingLocation : { x: 0, y: 0 }}\r\n              floatingWidth={p.floatingWidth ? p.floatingWidth : IGC_DEFAULT_PANE_SIZE}\r\n              floatingHeight={p.floatingHeight ? p.floatingHeight : IGC_DEFAULT_PANE_SIZE}\r\n              hasHeader={hasHeader}\r\n              onWndResizeStart={this.handleFloatingPaneResizeStart.bind(this, p)}\r\n              onWndResizeMove={this.handleFloatingPaneResizeMove.bind(this, p)}\r\n              onWndResizeEnd={this.handleFloatingPaneResizeEnd.bind(this, p)}\r\n              onMouseDown={this.handleFloatingPaneMouseDown.bind(this, p)}\r\n              class={{\r\n                'maximized': this.maximizedPane === p\r\n              }}\r\n              maximized={this.maximizedPane === p || containsMaximizedPane}\r\n              allowResize={p.floatingResizable ?? this.allowFloatingPanesResize}\r\n            >\r\n              {hasHeader ?\r\n                <igc-pane-header-component\r\n                  slot=\"header\"\r\n                  isFloating\r\n                  isFloatingPaneHeader\r\n                  forcedDrag={forceDrag}\r\n                  allowMaximize={this.resolveAllowMaximize(p)}\r\n                  maximized={this.maximizedPane === p}\r\n                  resourceStrings={this.resourceStrings}\r\n                  onDragStarted={this.handlePaneDragStart.bind(this, p)}\r\n                  onDragMoved={this.handlePaneDragMove.bind(this)}\r\n                  onDragEnded={this.handlePaneDragEnd.bind(this)}\r\n                  onClose={this.handleFloatingPaneClose.bind(this, p)}\r\n                  onMaximize={this.handleMaximize.bind(this, p)}\r\n                  onFocusin={(this.clearActivePane.bind(this))}\r\n                >\r\n                </igc-pane-header-component> : null\r\n              }\r\n              {this.renderSplitPane(p, true, false)}\r\n            </igc-floating-pane-component>\r\n          );\r\n        })\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n\r\n  private renderRootDockingIndicator(position: IgcDockingIndicatorPosition) {\r\n    return (\r\n      <igc-root-docking-indicator-component\r\n        position={position}\r\n      >\r\n      </igc-root-docking-indicator-component>\r\n    );\r\n  }\r\n\r\n  private renderDockingIndicators() {\r\n    const startPosition = this.direction !== 'rtl' ? IgcDockingIndicatorPosition.left : IgcDockingIndicatorPosition.right;\r\n    const endPosition = this.direction !== 'rtl' ? IgcDockingIndicatorPosition.right : IgcDockingIndicatorPosition.left;\r\n\r\n    return (\r\n      <div\r\n        class=\"docking-indicators-container\"\r\n        style={{\r\n          display: this.showDockingIndicators ? 'flex' : 'none'\r\n        }}\r\n      >\r\n        {!this.documentOnlyDrag && !this.proximityDock && this.renderRootDockingIndicator(IgcDockingIndicatorPosition.top)}\r\n        <div\r\n          style={{\r\n            flexGrow: '1',\r\n            display: 'flex',\r\n            flexDirection: 'row',\r\n            justifyContent: 'space-between'\r\n          }}\r\n        >\r\n          {!this.documentOnlyDrag && !this.proximityDock && this.renderRootDockingIndicator(startPosition)}\r\n          {!this.documentOnlyDrag && !this.proximityDock && this.renderRootDockingIndicator(endPosition)}\r\n        </div>\r\n        {!this.documentOnlyDrag && !this.proximityDock && this.renderRootDockingIndicator(IgcDockingIndicatorPosition.bottom)}\r\n\r\n        {this.dropTargetPaneInfo && !this.proximityDock &&\r\n          <igc-joystick-indicator-component\r\n            dropTargetPaneInfo={this.dropTargetPaneInfo}\r\n            documentOnlyDrag={this.documentOnlyDrag}\r\n            allowCenterDock={this.allowInnerDock}\r\n          />}\r\n      </div>);\r\n  }\r\n\r\n  private renderContextMenu() {\r\n    return this.contextMenuMeta && (\r\n      <igc-context-menu-component\r\n        onMenuClosed={this.handleContextMenuClosed.bind(this)}\r\n        orientation={IgcContextMenuOrientation.bottom}\r\n        items={this.contextMenuMeta.menuItems}\r\n        target={this.contextMenuMeta.target}\r\n        position={this.contextMenuMeta.position}\r\n      >\r\n      </igc-context-menu-component>);\r\n  }\r\n\r\n  private renderDropShadow() {\r\n    return this.dropShadowRect && (\r\n      <div\r\n        part=\"docking-preview\"\r\n        class=\"drop-shadow\"\r\n        style={{\r\n          top: `${this.dropShadowRect?.y}px`,\r\n          left: `${this.dropShadowRect?.x}px`,\r\n          width: `${this.dropShadowRect?.width}px`,\r\n          height: `${this.dropShadowRect?.height}px`,\r\n        }}\r\n      />\r\n    );\r\n  }\r\n\r\n  handlePaneNavigatorClosed(ev: CustomEvent<IgcContentPane>) {\r\n    this.service.normalizeMaximizedPane(ev.detail);\r\n\r\n    const parent = this.service.getRootParent(ev.detail);\r\n    const isParentFloating = this.service.isFloatingPane(parent);\r\n\r\n    if (isParentFloating) {\r\n      this.service.bringFloatingPaneOnTop(parent);\r\n    }\r\n\r\n    if (ev.detail && this.activePane !== ev.detail) {\r\n      this.activePane = ev.detail;\r\n    }\r\n    this.navigationPaneMeta = null;\r\n  }\r\n\r\n  renderPaneNavigator() {\r\n    return this.navigationPaneMeta &&\r\n      <igc-pane-navigator-component\r\n        onClosed={this.handlePaneNavigatorClosed.bind(this)}\r\n        activePanes={this.navigationPaneMeta.activePanes}\r\n        activeDocuments={this.navigationPaneMeta.activeDocuments}\r\n        selectedIndex={this.navigationPaneMeta.initialIndex}\r\n        previousActivePaneIndex={this.navigationPaneMeta.previousActivePaneIndex}\r\n        resourceStrings={this.resourceStrings}\r\n      >\r\n      </igc-pane-navigator-component>;\r\n  }\r\n\r\n  render() {\r\n    this.panesElementMap = new TwoWayMap<IgcDockManagerPane, HTMLElement>();\r\n    this.tabHeadersMap = new Map<IgcContentPane, HTMLElement>();\r\n    this.unpinnedHeadersMap = new Map<IgcContentPane, HTMLElement>();\r\n    this.contentPanesElementMap = new Map<IgcContentPane, HTMLElement>();\r\n\r\n    return (\r\n      <Host\r\n        tabindex=\"0\"\r\n        role=\"group\"\r\n      >\r\n        {this.renderButtonsTemplates()}\r\n        {this.renderUnpinnedTabArea(IgcUnpinnedLocation.left)}\r\n        <div class=\"pane-container--vertical\" style={{ position: this.maximizedPane ? 'absolute' : 'relative' }}>\r\n          {this.renderUnpinnedTabArea(IgcUnpinnedLocation.top)}\r\n          <div\r\n            ref={el => this.dockedPanesContainer = el}\r\n            class=\"pane-container--horizontal\"\r\n            style={{ position: this.maximizedPane ? 'absolute' : 'relative' }}\r\n          >\r\n            {this.layout?.rootPane && this.renderSplitPane(this.layout.rootPane, false, false)}\r\n            {this.renderFlyoutPane()}\r\n            {this.renderDockingIndicators()}\r\n          </div>\r\n          {this.renderUnpinnedTabArea(IgcUnpinnedLocation.bottom)}\r\n        </div>\r\n        {this.renderUnpinnedTabArea(IgcUnpinnedLocation.right)}\r\n        {this.renderFloatingPanes()}\r\n        {this.renderContextMenu()}\r\n        {this.renderPaneNavigator()}\r\n        <igc-trial-watermark text=\"Trial version of Ignite UI\" style={{ 'z-index': '10005' }}></igc-trial-watermark>\r\n        {this.renderDropShadow()}\r\n      </Host>\r\n    );\r\n  }\r\n}\r\n",":host {\r\n  display: flex;\r\n  box-sizing: border-box;\r\n  min-width: 0px;\r\n  min-height: 0px;\r\n}\r\n","import { Component, Host, Prop, h } from '@stencil/core';\r\n\r\nimport { IGC_DEFAULT_PANE_SIZE } from '../dockmanager.interfaces';\r\n\r\n/**\r\n * @hidden\r\n */\r\n@Component({\r\n  tag: 'igc-document-host-component',\r\n  styleUrl: 'document-host-component.css',\r\n  shadow: false,\r\n  scoped: true\r\n})\r\nexport class IgcDocumentHostComponent {\r\n  @Prop() size: number;\r\n\r\n  render() {\r\n    const size = this.size || this.size === 0 ? this.size : IGC_DEFAULT_PANE_SIZE;\r\n\r\n    return (\r\n      <Host\r\n        role=\"group\"\r\n        style={{\r\n          flex: `${size} 1 ${size}px`\r\n        }}\r\n      >\r\n      </Host>\r\n    );\r\n  }\r\n\r\n}\r\n",":host {\r\n  --min-pane-size: 30px;\r\n\r\n  display: flex;\r\n  flex-direction: column;\r\n  overflow: visible;\r\n  min-width: var(--min-pane-size);\r\n  min-height: var(--min-pane-size);\r\n  box-sizing: border-box;\r\n  color: $dock-text;\r\n  background: $dock-background;\r\n  pointer-events: all;\r\n  border: 1px solid $floating-pane-border-color;\r\n  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.24);\r\n  z-index: 0;\r\n}\r\n","import { Component, Element, Event, EventEmitter, Fragment, Host, Prop, h } from '@stencil/core';\r\n\r\nimport { IgcDragEventArguments, IgcDragMoveEventArguments, IgcDragResizeEventArguments, IgcDragStartEventArguments } from '../../drag-drop/drag.service';\r\nimport { IGC_DEFAULT_PANE_SIZE } from '../dockmanager.interfaces';\r\nimport { IgcDockManagerPoint, IgcResizerLocation } from '../dockmanager.public-interfaces';\r\n\r\n/**\r\n * @hidden\r\n */\r\n@Component({\r\n  tag: 'igc-floating-pane-component',\r\n  styleUrl: 'floating-pane-component.scss',\r\n  shadow: true\r\n})\r\nexport class IgcFloatingPaneComponent {\r\n  @Prop() allowResize = true;\r\n  @Prop() floatingLocation: IgcDockManagerPoint;\r\n  @Prop() floatingWidth: number;\r\n  @Prop() floatingHeight: number;\r\n  @Prop() hasHeader: boolean;\r\n  @Prop() maximized: boolean;\r\n  @Prop() floatingMinHeight = IGC_DEFAULT_PANE_SIZE;\r\n  @Prop() floatingMinWidth = IGC_DEFAULT_PANE_SIZE;\r\n  @Prop() floatingId: string;\r\n\r\n  @Event() wndResizeStart: EventEmitter<IgcDragResizeEventArguments>;\r\n  @Event() wndResizeMove: EventEmitter<IgcDragResizeEventArguments>;\r\n  @Event() wndResizeEnd: EventEmitter<IgcDragResizeEventArguments>;\r\n  @Element() elem: HTMLElement;\r\n\r\n  private handleResizerMove(event: CustomEvent<IgcDragMoveEventArguments>) {\r\n    const el = event.target as HTMLIgcResizerComponentElement;\r\n    this.wndResizeMove.emit({\r\n      dragMoveArgs: event.detail,\r\n      resizerLocation: el.orientation\r\n    });\r\n\r\n  }\r\n  private handleResizeStart(event: CustomEvent<IgcDragStartEventArguments>) {\r\n    const el = event.target as HTMLIgcResizerComponentElement;\r\n    const args = {\r\n      dragMoveArgs: { ...event.detail, offsetX: 0, offsetY: 0 },\r\n      resizerLocation: el.orientation\r\n    };\r\n    this.wndResizeStart.emit(args);\r\n\r\n    if (args.dragMoveArgs.cancel) {\r\n      event.detail.cancel = true;\r\n    }\r\n  }\r\n  private handleResizeEnd(event: CustomEvent<IgcDragEventArguments>) {\r\n    const el = event.target as HTMLIgcResizerComponentElement;\r\n    this.wndResizeEnd.emit({\r\n      dragMoveArgs: event.detail,\r\n      resizerLocation: el.orientation\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const styles = {\r\n      position: 'absolute',\r\n      left: this.floatingLocation.x + 'px',\r\n      top: this.floatingLocation.y + 'px',\r\n      minWidth: this.floatingMinWidth + 'px',\r\n      minHeight: this.floatingMinHeight + 'px',\r\n      width: this.floatingWidth + 'px',\r\n      height: this.floatingHeight + 'px'\r\n    };\r\n\r\n    return (\r\n      <Host\r\n        style={this.maximized ? {} : styles}\r\n        role=\"dialog\"\r\n        aria-label=\"dialog\"\r\n        part=\"floating-window\"\r\n      >\r\n        {this.allowResize &&\r\n        <Fragment>\r\n          <igc-resizer-component orientation={IgcResizerLocation.left} onResizerDragStart={this.handleResizeStart.bind(this)} onResizerMoved={this.handleResizerMove.bind(this)} onResizerDragEnd={this.handleResizeEnd.bind(this)}/>\r\n          <igc-resizer-component orientation={IgcResizerLocation.top} onResizerDragStart={this.handleResizeStart.bind(this)} onResizerMoved={this.handleResizerMove.bind(this)} onResizerDragEnd={this.handleResizeEnd.bind(this)}/>\r\n          <igc-resizer-component orientation={IgcResizerLocation.right} onResizerDragStart={this.handleResizeStart.bind(this)} onResizerMoved={this.handleResizerMove.bind(this)} onResizerDragEnd={this.handleResizeEnd.bind(this)}/>\r\n          <igc-resizer-component orientation={IgcResizerLocation.bottom} onResizerDragStart={this.handleResizeStart.bind(this)} onResizerMoved={this.handleResizerMove.bind(this)} onResizerDragEnd={this.handleResizeEnd.bind(this)}/>\r\n        </Fragment>}\r\n        <slot name=\"header\">\r\n        </slot>\r\n          <slot></slot>\r\n        {this.allowResize &&\r\n        <Fragment>\r\n          <igc-resizer-component orientation={IgcResizerLocation.topRight} onResizerDragStart={this.handleResizeStart.bind(this)} onResizerMoved={this.handleResizerMove.bind(this)} onResizerDragEnd={this.handleResizeEnd.bind(this)}/>\r\n          <igc-resizer-component orientation={IgcResizerLocation.topLeft} onResizerDragStart={this.handleResizeStart.bind(this)} onResizerMoved={this.handleResizerMove.bind(this)} onResizerDragEnd={this.handleResizeEnd.bind(this)}/>\r\n          <igc-resizer-component orientation={IgcResizerLocation.bottomRight} onResizerDragStart={this.handleResizeStart.bind(this)} onResizerMoved={this.handleResizerMove.bind(this)} onResizerDragEnd={this.handleResizeEnd.bind(this)}/>\r\n          <igc-resizer-component orientation={IgcResizerLocation.bottomLeft} onResizerDragStart={this.handleResizeStart.bind(this)} onResizerMoved={this.handleResizerMove.bind(this)} onResizerDragEnd={this.handleResizeEnd.bind(this)}/>\r\n        </Fragment>}\r\n      </Host>\r\n    );\r\n  }\r\n}\r\n","/**\r\n * @hidden\r\n */\r\nexport const icons: any = {\r\n  close:\r\n    `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n      <path d=\"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"/>\r\n      <path d=\"M0 0h24v24H0z\" fill=\"none\"/>\r\n    </svg>`,\r\n  pin:\r\n    `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n      <path d=\"M15.18 2.25l7.07 7.07-2.83-.01-3.54 3.55.01 4.24-3.53-3.54-5.66 5.66H5.28V17.8l5.66-5.66L7.4 8.61l4.24.01 3.55-3.54-.01-2.83z\"/>\r\n    </svg>`,\r\n  unpin:\r\n    `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n      <path fill=\"none\" d=\"M0 0h24v25H0V0z\"/>\r\n      <path d=\"M11.84 14.08L6.7 19.22H5.28V17.8l5.14-5.14L2 4.26 3.29 3l18 18L20 22.21zm4-.49l-5-5h.73l3.55-3.54v-2.8l7.07 7.07h-2.77l-3.54 3.54z\" />\r\n    </svg>`,\r\n  first_page:\r\n    `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n      <path d=\"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z\"/>\r\n      <path fill=\"none\" d=\"M24 24H0V0h24v24z\"/>\r\n    </svg>`,\r\n  chevron_left:\r\n    `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n      <path d=\"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z\"/>\r\n      <path d=\"M0 0h24v24H0z\" fill=\"none\"/>\r\n    </svg>`,\r\n  flip:\r\n    `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n      <path d=\"M0 0h24v24H0z\" fill=\"none\"/>\r\n      <path d=\"M15 21h2v-2h-2v2zm4-12h2V7h-2v2zM3 5v14c0 1.1.9 2 2 2h4v-2H5V5h4V3H5c-1.1 0-2 .9-2 2zm16-2v2h2c0-1.1-.9-2-2-2zm-8 20h2V1h-2v22zm8-6h2v-2h-2v2zM15 5h2V3h-2v2zm4 8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2z\"/>\r\n    </svg>`,\r\n  crop_square:\r\n    `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n      <path d=\"M0 0h24v24H0z\" fill=\"none\"/>\r\n      <path d=\"M18 4H6c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 14H6V6h12v12z\"/>\r\n    </svg>\r\n    `,\r\n  arrow_drop_down:\r\n    `<svg class=\"icon icon-arrow_drop_down\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n      <path d=\"M7 10l5 5 5-5z\"></path>\r\n    </svg>`,\r\n  maximize:\r\n    `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n        <path d=\"M0 0h24v24H0z\" fill=\"none\"/>\r\n        <path d=\"M18 4H6c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 14H6V6h12v12z\"/>\r\n    </svg>`,\r\n  minimize:\r\n    `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n      <path d=\"M0 0h24v24H0V0z\" fill=\"none\"/>\r\n      <path d=\"M6 19h12v2H6z\"/>\r\n    </svg>`,\r\n  more:\r\n    `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n      <path d=\"M0 0h24v24H0z\" fill=\"none\"/>\r\n      <path d=\"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z\"/>\r\n    </svg>`\r\n};\r\n",":host {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  width: 17px;\r\n  height: 17px;\r\n  fill: currentColor;\r\n}\r\n","import { Component, Host, Prop, h } from '@stencil/core';\r\n\r\nimport { icons } from './icons';\r\n\r\n/**\r\n * @hidden\r\n */\r\n@Component({\r\n  tag: 'igc-icon-component',\r\n  styleUrl: 'icon-component.scss',\r\n  shadow: false,\r\n  scoped: true\r\n})\r\nexport class IgcIconComponent {\r\n\r\n  @Prop() name: string;\r\n\r\n  render() {\r\n    return (\r\n      <Host innerHTML={icons[this.name]}>\r\n      </Host>\r\n    );\r\n  }\r\n}\r\n",":host {\r\n  display: flex;\r\n  width: 30px;\r\n  height: 30px;\r\n  align-items: center;\r\n  justify-content: center;\r\n  color: $joystick-icon-color;\r\n  background: $joystick-background;\r\n  // TODO try fixing the animation to not apply initially\r\n  // transition: color .25s ease-out, background .25s ease-out;\r\n  border: 1px solid $joystick-border-color;\r\n\r\n  &.inner-top {\r\n    border-bottom: none;\r\n  }\r\n\r\n  &.inner-start {\r\n    border-right: none;\r\n  }\r\n\r\n  &.inner-end {\r\n    border-left: none;\r\n  }\r\n\r\n  &.inner-bottom {\r\n    border-top: none;\r\n  }\r\n\r\n  &.inner-center {\r\n    border: 1px solid $joystick-background;\r\n  }\r\n\r\n  &:hover {\r\n    background: $joystick-background-active;\r\n    color: $joystick-icon-color-active;\r\n  }\r\n}\r\n","import { Component, Host, Prop, h } from '@stencil/core';\r\n\r\nimport { IgcDockingIndicatorPosition } from '../dockmanager.public-interfaces';\r\n\r\n/**\r\n * @hidden\r\n */\r\n@Component({\r\n  tag: 'igc-joystick-icon-component',\r\n  styleUrl: 'joystick-icon-component.scss',\r\n  shadow: false,\r\n  scoped: true\r\n})\r\nexport class IgcJoystickIconComponent {\r\n  @Prop() isDocHost: boolean;\r\n  @Prop() position: IgcDockingIndicatorPosition;\r\n  @Prop() direction: string;\r\n  @Prop() empty: boolean;\r\n\r\n  private resolveIconDivClass(): any {\r\n    let positionClass: string;\r\n\r\n    switch (this.position) {\r\n      case IgcDockingIndicatorPosition.outerTop:\r\n        positionClass = 'outer-top';\r\n        break;\r\n      case IgcDockingIndicatorPosition.outerBottom:\r\n        positionClass = 'outer-bottom';\r\n        break;\r\n      case IgcDockingIndicatorPosition.outerLeft:\r\n        positionClass = 'outer-start';\r\n        break;\r\n      case IgcDockingIndicatorPosition.outerRight:\r\n        positionClass = 'outer-end';\r\n        break;\r\n      case IgcDockingIndicatorPosition.top:\r\n        positionClass = 'inner-top';\r\n        break;\r\n      case IgcDockingIndicatorPosition.bottom:\r\n        positionClass = 'inner-bottom';\r\n        break;\r\n      case IgcDockingIndicatorPosition.left:\r\n        positionClass = 'inner-start';\r\n        break;\r\n      case IgcDockingIndicatorPosition.right:\r\n        positionClass = 'inner-end';\r\n        break;\r\n      case IgcDockingIndicatorPosition.center:\r\n        positionClass = 'inner-center';\r\n        break;\r\n    }\r\n\r\n    const classes: any = {};\r\n    if (positionClass) {\r\n      classes[positionClass] = true;\r\n    }\r\n\r\n    return classes;\r\n  }\r\n\r\n  private resolveMargin(): string {\r\n    switch (this.position) {\r\n      case IgcDockingIndicatorPosition.outerTop:\r\n        return '0px 0px 10px 0px';\r\n      case IgcDockingIndicatorPosition.outerRight:\r\n        return '0px 0px 0px 10px';\r\n      case IgcDockingIndicatorPosition.outerLeft:\r\n        return '0px 10px 0px 0px';\r\n      case IgcDockingIndicatorPosition.outerBottom:\r\n        return '10px 0px 0px 0px';\r\n      default:\r\n        return '0px';\r\n    }\r\n  }\r\n\r\n  private resolveGridRow(): string {\r\n    switch (this.position) {\r\n      case IgcDockingIndicatorPosition.outerTop:\r\n        return '1';\r\n      case IgcDockingIndicatorPosition.top:\r\n        return this.isDocHost ? '2' : '1';\r\n      case IgcDockingIndicatorPosition.center:\r\n        return this.isDocHost ? '3' : '2';\r\n      case IgcDockingIndicatorPosition.outerRight:\r\n      case IgcDockingIndicatorPosition.outerLeft:\r\n        return '3';\r\n      case IgcDockingIndicatorPosition.right:\r\n      case IgcDockingIndicatorPosition.left:\r\n        return this.isDocHost ? '3' : '2';\r\n      case IgcDockingIndicatorPosition.outerBottom:\r\n        return '5';\r\n      case IgcDockingIndicatorPosition.bottom:\r\n        return this.isDocHost ? '4' : '3';\r\n    }\r\n  }\r\n\r\n  private resolveGridColumn(): string {\r\n    switch (this.position) {\r\n      case IgcDockingIndicatorPosition.outerLeft:\r\n        return this.direction !== 'rtl' ? '1' : '5';\r\n      case IgcDockingIndicatorPosition.left:\r\n        if (this.direction !== 'rtl') {\r\n          return this.isDocHost ? '2' : '1';\r\n        } else {\r\n          return this.isDocHost ? '4' : '3';\r\n        }\r\n      case IgcDockingIndicatorPosition.center:\r\n        return this.isDocHost ? '3' : '2';\r\n      case IgcDockingIndicatorPosition.outerTop:\r\n      case IgcDockingIndicatorPosition.outerBottom:\r\n        return '3';\r\n      case IgcDockingIndicatorPosition.top:\r\n      case IgcDockingIndicatorPosition.bottom:\r\n        return this.isDocHost ? '3' : '2';\r\n      case IgcDockingIndicatorPosition.outerRight:\r\n        return this.direction !== 'rtl' ? '5' : '1';\r\n      case IgcDockingIndicatorPosition.right:\r\n        if (this.direction !== 'rtl') {\r\n          return this.isDocHost ? '4' : '3';\r\n        } else {\r\n          return this.isDocHost ? '2' : '1';\r\n        }\r\n    }\r\n  }\r\n\r\n  private renderIcon() {\r\n    const position = this.position;\r\n    if (position === IgcDockingIndicatorPosition.outerLeft ||\r\n      (position === IgcDockingIndicatorPosition.left && !this.isDocHost)) {\r\n      return <igc-icon-component name=\"chevron_left\"/>;\r\n    } else if (position === IgcDockingIndicatorPosition.left) {\r\n      return (\r\n        <igc-icon-component\r\n          name=\"flip\"\r\n          style={{ transform: 'rotate(180deg)' }}\r\n        />);\r\n    } else if (position === IgcDockingIndicatorPosition.outerTop ||\r\n      (position === IgcDockingIndicatorPosition.top && !this.isDocHost)) {\r\n      return (\r\n        <igc-icon-component\r\n          name=\"chevron_left\"\r\n          style={{ transform: 'rotate(90deg)' }}\r\n        />);\r\n    } else if (position === IgcDockingIndicatorPosition.top) {\r\n      return (\r\n        <igc-icon-component\r\n          name=\"flip\"\r\n          style={{ transform: 'rotate(270deg)' }}\r\n        />);\r\n    } else if (position === IgcDockingIndicatorPosition.center) {\r\n      return <igc-icon-component name=\"crop_square\"/>;\r\n    } else if (position === IgcDockingIndicatorPosition.outerRight ||\r\n      (position === IgcDockingIndicatorPosition.right && !this.isDocHost)) {\r\n      return (\r\n        <igc-icon-component\r\n          name=\"chevron_left\"\r\n          style={{ transform: 'rotate(180deg)' }}\r\n        />);\r\n    } else if (position === IgcDockingIndicatorPosition.right) {\r\n      return <igc-icon-component name=\"flip\"/>;\r\n    } else if (position === IgcDockingIndicatorPosition.outerBottom ||\r\n      (position === IgcDockingIndicatorPosition.bottom && !this.isDocHost)) {\r\n      return (\r\n        <igc-icon-component\r\n          name=\"chevron_left\"\r\n          style={{ transform: 'rotate(270deg)' }}\r\n        />);\r\n    } else if (position === IgcDockingIndicatorPosition.bottom) {\r\n      return (\r\n        <igc-icon-component\r\n          name=\"flip\"\r\n          style={{ transform: 'rotate(90deg)' }}\r\n        />);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Host\r\n        part=\"docking-indicator\"\r\n        class={this.resolveIconDivClass()}\r\n        style={{\r\n          gridRow: this.resolveGridRow(),\r\n          gridColumn: this.resolveGridColumn(),\r\n          margin: this.resolveMargin()\r\n        }}\r\n      >\r\n        {!this.empty && this.renderIcon()}\r\n      </Host>);\r\n  }\r\n}\r\n",":host {\r\n  position: fixed;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n\r\n.indicators-container {\r\n  display: grid;\r\n  grid-template-columns: repeat(3, auto);\r\n  grid-template-rows: repeat(3, auto);\r\n  box-sizing: border-box;\r\n  pointer-events: all;\r\n\r\n  &--doc-host {\r\n    grid-template-columns: repeat(5, auto);\r\n    grid-template-rows: repeat(5, auto);\r\n  }\r\n}\r\n","import { Component, Element, Host, Prop, h } from '@stencil/core';\r\nimport { Utils } from '../../../utils/utils';\r\n\r\nimport { IgcDropTargetPaneInfo } from '../dockmanager.interfaces';\r\nimport { IgcDockManagerPaneType, IgcDockingIndicatorPosition } from '../dockmanager.public-interfaces';\r\n\r\n/**\r\n * @hidden\r\n */\r\n@Component({\r\n  tag: 'igc-joystick-indicator-component',\r\n  styleUrl: 'joystick-indicator-component.scss',\r\n  shadow: false,\r\n  scoped: true\r\n})\r\nexport class IgcJoystickIndicatorComponent {\r\n  private isDocHost: boolean;\r\n\r\n  @Element() element: HTMLElement;\r\n\r\n  @Prop() dropTargetPaneInfo: IgcDropTargetPaneInfo;\r\n\r\n  @Prop() documentOnlyDrag: boolean;\r\n\r\n  @Prop() allowCenterDock: boolean;\r\n\r\n  private isEmptyCenter(position: IgcDockingIndicatorPosition) {\r\n    return this.documentOnlyDrag\r\n      && position === IgcDockingIndicatorPosition.center\r\n      && this.dropTargetPaneInfo.floatingPaneWithoutDocHost;\r\n  }\r\n\r\n  private isEmptyEdge(position: IgcDockingIndicatorPosition) {\r\n    return this.documentOnlyDrag\r\n      && position !== IgcDockingIndicatorPosition.center\r\n      && this.dropTargetPaneInfo.pane.type === IgcDockManagerPaneType.documentHost;\r\n  }\r\n\r\n  private closestElement(selector: string, el: any): HTMLElement {\r\n    return (\r\n      (el && el.closest(selector)) ||\r\n        this.closestElement(selector, el.getRootNode().host)\r\n    );\r\n  }\r\n \r\n  private shouldAllowCenterDock() {\r\n    let targetPane = this.dropTargetPaneInfo.pane;\r\n    targetPane = targetPane.type === IgcDockManagerPaneType.tabGroupPane && targetPane.selectedIndex > -1 ? targetPane.panes[targetPane.selectedIndex] : targetPane;\r\n    return targetPane.type === IgcDockManagerPaneType.contentPane && targetPane.acceptsInnerDock !== undefined && this.allowCenterDock\r\n            ? targetPane.acceptsInnerDock\r\n            : this.allowCenterDock;\r\n  }\r\n\r\n\r\n  private renderBlankIndicator(position: IgcDockingIndicatorPosition) {\r\n    return (\r\n      <igc-joystick-icon-component\r\n        isDocHost={this.isDocHost}\r\n        position={position}\r\n        direction={Utils.getDirection(this.closestElement('igc-dockmanager', this.element))}\r\n        empty\r\n      />);\r\n  }\r\n\r\n  private renderIndicator(position: IgcDockingIndicatorPosition) {\r\n    return (\r\n      <igc-joystick-icon-component\r\n        isDocHost={this.isDocHost}\r\n        position={position}\r\n        direction={Utils.getDirection(this.closestElement('igc-dockmanager', this.element))}\r\n        empty={this.isEmptyCenter(position) || this.isEmptyEdge(position)}\r\n      />);\r\n  }\r\n\r\n  render() {\r\n    this.isDocHost = !!this.dropTargetPaneInfo.docHost;\r\n\r\n    return (\r\n      <Host\r\n        style={{\r\n          top: `${this.dropTargetPaneInfo.targetRect.y}px`,\r\n          left: `${this.dropTargetPaneInfo.targetRect.x}px`,\r\n          width: `${this.dropTargetPaneInfo.targetRect.width}px`,\r\n          height: `${this.dropTargetPaneInfo.targetRect.height}px`,\r\n        }}\r\n      >\r\n        <div\r\n          class={{\r\n            'indicators-container': true,\r\n            'indicators-container--doc-host': this.isDocHost\r\n          }}\r\n        >\r\n          {this.isDocHost && !this.documentOnlyDrag && this.renderIndicator(IgcDockingIndicatorPosition.outerLeft)}\r\n\r\n          {this.renderIndicator(IgcDockingIndicatorPosition.left)}\r\n\r\n          {this.isDocHost && !this.documentOnlyDrag && this.renderIndicator(IgcDockingIndicatorPosition.outerTop)}\r\n\r\n          {this.renderIndicator(IgcDockingIndicatorPosition.top)}\r\n\r\n          {!this.shouldAllowCenterDock() && this.renderBlankIndicator(IgcDockingIndicatorPosition.center)}\r\n\r\n          {this.shouldAllowCenterDock() && this.renderIndicator(IgcDockingIndicatorPosition.center)}\r\n\r\n          {this.renderIndicator(IgcDockingIndicatorPosition.right)}\r\n\r\n          {this.isDocHost && !this.documentOnlyDrag && this.renderIndicator(IgcDockingIndicatorPosition.outerRight)}\r\n\r\n          {this.renderIndicator(IgcDockingIndicatorPosition.bottom)}\r\n\r\n          {this.isDocHost && !this.documentOnlyDrag && this.renderIndicator(IgcDockingIndicatorPosition.outerBottom)}\r\n        </div>\r\n      </Host>\r\n    );\r\n  }\r\n}\r\n","import { IgcResizerLocation } from '../dockmanager/dockmanager.public-interfaces';\r\n\r\n/**\r\n * @hidden\r\n */\r\nexport interface IgcDragStartEventArguments {\r\n  cancel?: boolean;\r\n  clientX: number;\r\n  clientY: number;\r\n}\r\n\r\n/**\r\n * @hidden\r\n */\r\nexport interface IgcDragEventArguments {\r\n  offsetX: number;\r\n  offsetY: number;\r\n  clientX: number;\r\n  clientY: number;\r\n}\r\n\r\n/**\r\n * @hidden\r\n */\r\nexport interface IgcDragResizeEventArguments {\r\n  dragMoveArgs: IgcDragMoveEventArguments;\r\n  resizerLocation: IgcResizerLocation;\r\n}\r\n\r\n/**\r\n * @hidden\r\n */\r\nexport interface IgcDragMoveEventArguments extends IgcDragEventArguments {\r\n  totalOffsetX?: number;\r\n  totalOffsetY?: number;\r\n  cancel?: boolean;\r\n}\r\n\r\nexport const IGNORE_DRAG = 'data-ignore-drag';\r\n\r\n/**\r\n * @hidden\r\n */\r\nexport class IgcDragService {\r\n  private startX: number;\r\n  private startY: number;\r\n  private lastX: number;\r\n  private lastY: number;\r\n  private currentX: number;\r\n  private currentY: number;\r\n  private dragStarted: boolean;\r\n  private forcedDrag: boolean;\r\n  private _capturedElement: HTMLElement;\r\n\r\n  private get captureTarget(): HTMLElement {\r\n    return this._capturedElement || this.element;\r\n  }\r\n  private set captureTarget(val: HTMLElement) {\r\n    this._capturedElement = val;\r\n  }\r\n\r\n  dragTolerance = 5;\r\n  dragEdgeTolerance = 0;\r\n  dragStart: (eventArgs: IgcDragStartEventArguments) => void;\r\n  dragEnd: (eventArgs: IgcDragEventArguments) => void;\r\n  dragMove: (eventArgs: IgcDragMoveEventArguments) => void;\r\n\r\n  constructor(private element: HTMLElement) {\r\n    this.element.addEventListener('pointerdown', this.handlePointerDown, false);\r\n  }\r\n\r\n  private triggerDragStart() {\r\n    if (this.dragStart) {\r\n      const args: IgcDragStartEventArguments = {\r\n        clientX: this.startX,\r\n        clientY: this.startY\r\n      };\r\n\r\n      this.dragStart(args);\r\n\r\n      if (args.cancel) {\r\n        this.unsubscribeDragEvents();\r\n        return;\r\n      }\r\n    }\r\n\r\n    this.dragStarted = true;\r\n  }\r\n\r\n  private subscribeDragEvents() {\r\n    this.dragStarted = false;\r\n    document.addEventListener('pointermove', this.handlePointerMove, false);\r\n    document.addEventListener('pointerup', this.handlePointerUp, false);\r\n    document.addEventListener('wheel', this.handleWheel, { passive: false });\r\n  }\r\n\r\n  private unsubscribeDragEvents() {\r\n    document.removeEventListener('pointermove', this.handlePointerMove);\r\n    document.removeEventListener('pointerup', this.handlePointerUp);\r\n    document.removeEventListener('wheel', this.handleWheel);\r\n  }\r\n\r\n  private handleWheel = (event: WheelEvent) => {\r\n    event.preventDefault();\r\n  }\r\n\r\n  private handlePointerDown = (event: PointerEvent) => {\r\n    let targets = event.composedPath();\r\n    targets = targets.slice(0, targets.indexOf(event.currentTarget));\r\n    for (const target of targets) {\r\n      if (target instanceof Element\r\n        && target.hasAttribute(IGNORE_DRAG)) {\r\n        return;\r\n      }\r\n    }\r\n    // TODO Not sure if we need this\r\n    // this.element.focus();\r\n    // event.preventDefault();\r\n    this.startX = event.clientX;\r\n    this.startY = event.clientY;\r\n    this.lastX = this.startX;\r\n    this.lastY = this.startY;\r\n\r\n    this.captureTarget = event.target as HTMLElement;\r\n    this.captureTarget.setPointerCapture(event.pointerId);\r\n    this.subscribeDragEvents();\r\n  }\r\n\r\n  private handlePointerMove = (event: PointerEvent) => {\r\n    event.preventDefault();\r\n\r\n    const maxHeight = document.documentElement.clientHeight;\r\n    const maxWidth = document.documentElement.clientWidth;\r\n\r\n    if (event.clientX < this.dragEdgeTolerance) {\r\n      this.currentX = this.dragEdgeTolerance;\r\n    } else if (event.clientX > maxWidth - this.dragEdgeTolerance) {\r\n      this.currentX = maxWidth - this.dragEdgeTolerance;\r\n    } else {\r\n      this.currentX = event.clientX;\r\n    }\r\n\r\n    if (event.clientY < this.dragEdgeTolerance) {\r\n      this.currentY = this.dragEdgeTolerance;\r\n    } else if (event.clientY > maxHeight - this.dragEdgeTolerance) {\r\n      this.currentY = maxHeight - this.dragEdgeTolerance;\r\n    } else {\r\n      this.currentY = event.clientY;\r\n    }\r\n\r\n    if (!this.dragStarted) {\r\n      if (this.forcedDrag) {\r\n        this.forcedDrag = false;\r\n        this.startX = this.currentX;\r\n        this.startY = this.currentY;\r\n        this.lastX = this.startX;\r\n        this.lastY = this.startY;\r\n        this.captureTarget.setPointerCapture(event.pointerId);\r\n        this.triggerDragStart();\r\n      } else {\r\n        const offsetX = this.currentX - this.lastX;\r\n        const offsetY = this.currentY - this.lastY;\r\n\r\n        if (Math.abs(offsetX) > this.dragTolerance || Math.abs(offsetY) > this.dragTolerance) {\r\n          this.triggerDragStart();\r\n        }\r\n      }\r\n    }\r\n\r\n    if (!this.dragStarted) {\r\n      return;\r\n    }\r\n\r\n    if (this.dragMove) {\r\n      const args: IgcDragMoveEventArguments = {\r\n        offsetX: this.currentX - this.lastX,\r\n        offsetY: this.currentY - this.lastY,\r\n        totalOffsetX: this.currentX - this.startX,\r\n        totalOffsetY: this.currentY - this.startY,\r\n        clientX: this.currentX,\r\n        clientY: this.currentY\r\n      };\r\n      this.dragMove(args);\r\n\r\n      if (args.cancel) {\r\n        this.unsubscribeDragEvents();\r\n      }\r\n    }\r\n\r\n    this.lastX = this.currentX;\r\n    this.lastY = this.currentY;\r\n  }\r\n\r\n  private handlePointerUp = (event: PointerEvent) => {\r\n    this.unsubscribeDragEvents();\r\n    this.captureTarget.releasePointerCapture(event.pointerId);\r\n    if (this.dragStarted && this.dragEnd) {\r\n      this.dragEnd({\r\n        offsetX: this.currentX - this.startX,\r\n        offsetY: this.currentY - this.startY,\r\n        clientX: event.clientX,\r\n        clientY: event.clientY\r\n      });\r\n    }\r\n  }\r\n\r\n  destroy() {\r\n    this.element.removeEventListener('pointerdown', this.handlePointerDown);\r\n    this.unsubscribeDragEvents();\r\n    this.element = null;\r\n    this.dragStart = null;\r\n    this.dragEnd = null;\r\n    this.dragMove = null;\r\n  }\r\n\r\n  forceDragging() {\r\n    this.forcedDrag = true;\r\n    this.subscribeDragEvents();\r\n  }\r\n}\r\n",":host {\r\n  display: flex;\r\n  align-items: center;\r\n  box-sizing: border-box;\r\n  user-select: none;\r\n  padding: 4px 8px;\r\n  font-size: 14px;\r\n  font-weight: 400;\r\n  color: $pane-header-text;\r\n  background: $pane-header-background;\r\n  min-height: $pane-header-height;\r\n\r\n  igc-icon-component svg {\r\n    width: 17px;\r\n    height: 17px;\r\n  }\r\n}\r\n\r\n:host([part~='window']) {\r\n  border-bottom: 1px solid $border-color;\r\n  min-height: auto;\r\n}\r\n\r\n.header-text {\r\n  @include ellipsis();\r\n  flex: 1 1 100%;\r\n  line-height: 2.3;\r\n}\r\n\r\n.header-actions {\r\n  display: flex;\r\n\r\n  igc-button-component + igc-button-component {\r\n    margin-left: 4px;\r\n  }\r\n}\r\n\r\n:host([part~='active']) {\r\n  box-shadow: inset 0 -2px 0 0 $active-color;\r\n  color: $active-color;\r\n}\r\n\r\n:host([part~='disabled']) {\r\n\tpointer-events: none;\r\n\tcolor: $disabled-color;\r\n}\r\n\r\n","import { Component, Element, Event, EventEmitter, Fragment, Host, Prop, Watch, h } from '@stencil/core';\r\n\r\nimport { Utils } from '../../../utils/utils';\r\nimport { IGNORE_DRAG, IgcDragEventArguments, IgcDragMoveEventArguments, IgcDragService, IgcDragStartEventArguments } from '../../drag-drop/drag.service';\r\nimport { IgcContentPane, IgcDockManagerResourceStrings } from '../dockmanager.public-interfaces';\r\n\r\n/**\r\n * @hidden\r\n */\r\n@Component({\r\n  tag: 'igc-pane-header-component',\r\n  styleUrl: 'pane-header-component.scss',\r\n  shadow: true,\r\n  scoped: false\r\n})\r\nexport class IgcPaneHeaderComponent {\r\n  @Prop({ mutable: true }) dragService: IgcDragService;\r\n\r\n  @Element() element: HTMLIgcPaneHeaderComponentElement;\r\n\r\n  @Prop() pinned: boolean;\r\n  @Prop() maximized: boolean;\r\n  @Prop() isFloating: boolean;\r\n  @Prop() forcedDrag: boolean;\r\n  @Prop() isFloatingPaneHeader: boolean;\r\n  @Prop() allowClose = true;\r\n  @Prop() allowMaximize = true;\r\n  @Prop() allowPinning = true;\r\n  @Prop() pane: IgcContentPane;\r\n  @Prop() isActive: boolean;\r\n  @Prop() disabled = false;\r\n  @Prop() resourceStrings: IgcDockManagerResourceStrings;\r\n\r\n  @Event() pinToggle: EventEmitter;\r\n  @Event({ bubbles: false }) maximize: EventEmitter;\r\n  @Event() close: EventEmitter;\r\n  @Event() dragStarted: EventEmitter<IgcDragStartEventArguments>;\r\n  @Event() dragEnded: EventEmitter<IgcDragEventArguments>;\r\n  @Event() dragMoved: EventEmitter<IgcDragMoveEventArguments>;\r\n  @Event() elementConnected: EventEmitter<HTMLIgcPaneHeaderComponentElement>;\r\n  @Event() elementDisconnected: EventEmitter<HTMLIgcPaneHeaderComponentElement>;\r\n\r\n  connectedCallback() {\r\n    this.dragService = new IgcDragService(this.element);\r\n    this.dragService.dragEdgeTolerance = 3;\r\n    this.dragService.dragStart = args => {\r\n      this.dragStarted.emit(args);\r\n    };\r\n\r\n    this.dragService.dragEnd = args => {\r\n      this.dragEnded.emit(args);\r\n    };\r\n\r\n    this.dragService.dragMove = args => {\r\n      this.dragMoved.emit(args);\r\n    };\r\n\r\n    this.forceDragging();\r\n    this.elementConnected.emit(this.element);\r\n  }\r\n\r\n  disconnectedCallback() {\r\n    if (this.dragService) {\r\n      this.dragService.destroy();\r\n    }\r\n    this.elementDisconnected.emit(this.element);\r\n  }\r\n\r\n  @Watch('forcedDrag')\r\n  forcedDragChanged() {\r\n    this.forceDragging();\r\n  }\r\n\r\n  private forceDragging() {\r\n    if (this.forcedDrag) {\r\n      this.dragService.forceDragging();\r\n    }\r\n  }\r\n\r\n  private pinButtonClick = () => {\r\n    this.pinToggle.emit();\r\n  }\r\n\r\n  private maximizeButtonClick = () => {\r\n    this.maximize.emit();\r\n  }\r\n\r\n  private closeButtonClick = () => {\r\n    this.close.emit();\r\n  }\r\n\r\n  private renderCloseButton() {\r\n    return (\r\n      <slot name=\"paneHeaderCloseButton\">\r\n        <igc-button-component part=\"pane-header-close-button\">\r\n          <igc-icon-component name=\"close\" aria-label={this.resourceStrings.close} title={this.resourceStrings.close} />\r\n        </igc-button-component>\r\n      </slot>\r\n    );\r\n  }\r\n\r\n  private renderMaximizeButton() {\r\n    return (\r\n      <slot name=\"paneHeaderMaximizeButton\">\r\n        <igc-button-component part=\"pane-header-maximize-button\">\r\n          <igc-icon-component\r\n            name=\"maximize\"\r\n            aria-label={this.resourceStrings.maximize}\r\n            title={this.resourceStrings.maximize}\r\n          />\r\n        </igc-button-component>\r\n      </slot>\r\n    );\r\n  }\r\n\r\n  private renderMinimizeButton() {\r\n    return (\r\n      <div>\r\n        <slot name=\"paneHeaderMinimizeButton\">\r\n          <igc-button-component part=\"pane-header-minimize-button\">\r\n            <igc-icon-component\r\n              name=\"minimize\"\r\n              aria-label={this.resourceStrings.minimize}\r\n              title={this.resourceStrings.minimize}\r\n            />\r\n          </igc-button-component>\r\n        </slot>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  private renderPinButton() {\r\n    return (\r\n      <Fragment>\r\n        {!this.isFloating && <slot name=\"paneHeaderPinButton\">\r\n          <igc-button-component part=\"pane-header-pin-button\" style={{ display: this.isFloating ? 'none' : 'flex' }}>\r\n            <igc-icon-component\r\n              name=\"pin\"\r\n              aria-label={this.resourceStrings.pin}\r\n              title={this.resourceStrings.pin}\r\n            />\r\n          </igc-button-component> </slot>}\r\n      </Fragment>\r\n    );\r\n  }\r\n\r\n  private renderUnpinButton() {\r\n    return (\r\n      <Fragment>\r\n        {!this.isFloating && <slot name=\"paneHeaderUnpinButton\">\r\n          <igc-button-component part=\"pane-header-unpin-button\" style={{ display: this.isFloating ? 'none' : 'flex' }}>\r\n            <igc-icon-component\r\n              name=\"unpin\"\r\n              aria-label={this.resourceStrings.unpin}\r\n              title={this.resourceStrings.unpin}\r\n            />\r\n          </igc-button-component>\r\n        </slot>}\r\n      </Fragment>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const commonParts = {\r\n      active: this.isActive,\r\n      disabled: this.disabled,\r\n      floating: this.isFloating,\r\n      window: this.isFloatingPaneHeader,\r\n    };\r\n\r\n    const paneHeaderParts = Utils.partNameMap({ 'pane-header': true, ...commonParts });\r\n    const paneHeaderContentParts = Utils.partNameMap({ 'pane-header-content': true, ...commonParts });\r\n    const paneHeaderActionsParts = Utils.partNameMap({ 'pane-header-actions': true, ...commonParts });\r\n\r\n    const exportParts = Utils.partNameMap({\r\n      'pane-header': true,\r\n      'pane-header-actions': true,\r\n      'pane-header-content': true,\r\n      'pane-header-close-button': true,\r\n      'pane-header-maximize-button': true,\r\n      'pane-header-minimize-button': true,\r\n      'pane-header-pin-button': true,\r\n      'pane-header-unpin-button': true,\r\n      ...commonParts\r\n    }, ',');\r\n\r\n    return (\r\n      <Host\r\n        part={paneHeaderParts}\r\n        exportparts={exportParts}\r\n      >\r\n        <div part={paneHeaderContentParts} class=\"header-text\">\r\n          <slot></slot>\r\n        </div>\r\n        <div part={paneHeaderActionsParts} class=\"header-actions\" {...{ [IGNORE_DRAG]: true }}>\r\n          {this.allowPinning &&\r\n            <div onClick={this.pinButtonClick}>\r\n              {this.pinned ? this.renderUnpinButton() : this.renderPinButton()}\r\n            </div>\r\n          }\r\n          {this.allowMaximize &&\r\n            <div onClick={this.maximizeButtonClick}>\r\n              {this.maximized ? this.renderMinimizeButton() : this.renderMaximizeButton()}\r\n            </div>\r\n          }\r\n          {this.allowClose &&\r\n            <div onClick={this.closeButtonClick}>\r\n              {this.renderCloseButton()}\r\n            </div>\r\n          }\r\n        </div>\r\n      </Host>\r\n    );\r\n  }\r\n}\r\n",":host,\r\n:host * {\r\n  box-sizing: border-box;\r\n}\r\n\r\n:host {\r\n  position: absolute;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  width: 100%;\r\n  height: 100%;\r\n  z-index: 10002;\r\n}\r\n\r\n.pane-navigator {\r\n  display: flex;\r\n  flex-direction: column;\r\n  background: $pane-content-background;\r\n  width: 350px;\r\n  height: auto;\r\n  max-height: 336px;\r\n  overflow: hidden;\r\n  line-height: 24px;\r\n  z-index: 10002;\r\n  box-shadow: 0 9px 46px 8px rgba(0, 0, 0, 0.08),\r\n              0 24px 38px 3px rgba(0, 0, 0, 0.12),\r\n              0 11px 15px -7px rgba(0, 0, 0, 0.26);\r\n\r\n  &:focus {\r\n    outline-style: none;\r\n  }\r\n}\r\n\r\nheader {\r\n  background: $background-color;\r\n  min-height: 40px;\r\n  height: 40px;\r\n\r\n  h3 {\r\n    @include ellipsis();\r\n    margin: unset;\r\n    font-size: em(14px);\r\n    padding: 8px;\r\n  }\r\n}\r\n\r\n.body {\r\n  display: flex;\r\n  overflow: auto;\r\n}\r\n\r\n.group {\r\n  display: flex;\r\n  flex: 1 0 50%;\r\n  flex-direction: column;\r\n  overflow: hidden;\r\n  padding: 16px;\r\n}\r\n\r\n.title {\r\n  @include ellipsis();\r\n  position: sticky;\r\n  top: 0;\r\n  background: $pane-content-background;\r\n  font-size: em(14px);\r\n  margin: unset;\r\n  flex-shrink: 0;\r\n}\r\n\r\n.items {\r\n  overflow: auto;\r\n  scrollbar-width: none;\r\n\r\n  // This will not work in Firefox\r\n  &::-webkit-scrollbar {\r\n    display: none;\r\n  }\r\n}\r\n\r\n[part~='item'] {\r\n  @include ellipsis();\r\n  user-select: none;\r\n  cursor: pointer;\r\n  font-size: 16px;\r\n  padding: 8px 0;\r\n\r\n  &[part~='selected'] {\r\n    color: $active-color;\r\n  }\r\n\r\n  &[part~='disabled'] {\r\n    pointer-events: none;\r\n    color: $disabled-color;\r\n  }\r\n}\r\n","import { Component, Event, EventEmitter, Host, Listen, Prop, h } from '@stencil/core';\r\n\r\nimport { Utils } from '../../../utils/utils';\r\nimport { IgcContentPane, IgcDockManagerResourceStrings } from '../dockmanager.public-interfaces';\r\n\r\n/**\r\n * @hidden\r\n */\r\n@Component({\r\n  tag: 'igc-pane-navigator-component',\r\n  styleUrl: 'pane-navigator-component.scss',\r\n  shadow: true\r\n})\r\nexport class IgcPaneNavigatorComponent {\r\n\r\n  @Prop() activeDocuments: IgcContentPane[];\r\n  @Prop() activePanes: IgcContentPane[];\r\n  @Prop({ mutable: true }) selectedIndex: number;\r\n  @Prop() previousActivePaneIndex: number;\r\n  @Prop() resourceStrings: IgcDockManagerResourceStrings;\r\n\r\n  @Event() closed: EventEmitter<IgcContentPane>;\r\n\r\n  private allItems: IgcContentPane[];\r\n  private allItemsElement: HTMLElement[];\r\n  private paneNav: HTMLElement;\r\n\r\n  scrollItemToView() {\r\n    const selectedItem = this.allItemsElement[this.selectedIndex];\r\n    const selectedItemRect = selectedItem.getBoundingClientRect();\r\n    const itemsContainerRect = selectedItem.parentElement.getBoundingClientRect();\r\n\r\n    if (selectedItemRect.top < itemsContainerRect.top) {\r\n      this.allItemsElement[this.selectedIndex].parentElement.scrollTop -= itemsContainerRect.top - selectedItemRect.top;\r\n    }\r\n    if (selectedItemRect.bottom > itemsContainerRect.bottom) {\r\n      this.allItemsElement[this.selectedIndex].parentElement.scrollTop += selectedItemRect.bottom - itemsContainerRect.bottom;\r\n    }\r\n  }\r\n\r\n  @Listen('keyup')\r\n  handleKeyUp(event: KeyboardEvent) {\r\n    if (event.code === 'AltLeft' || event.code === 'AltRight' || event.key === 'Control' || event.key === 'OS' || event.key === 'Meta') {\r\n      this.closed.emit(this.allItems[this.selectedIndex]);\r\n    }\r\n  }\r\n\r\n  @Listen('keydown')\r\n  handleKeydown(event: KeyboardEvent) {\r\n    event.stopPropagation();\r\n    const isShiftPressed = event.shiftKey;\r\n    let index;\r\n\r\n    if (Utils.isControlOrMetaPressed(event) && !event.altKey) {\r\n      switch (event.key) {\r\n        case 'ArrowUp':\r\n          this.decreaseSelectedIndex();\r\n          break;\r\n        case 'ArrowDown':\r\n          this.increaseSelectedIndex();\r\n          break;\r\n        case 'ArrowRight':\r\n        case 'ArrowLeft': {\r\n          if (this.activePanes.length === 0 || this.activeDocuments.length === 0) {\r\n            return;\r\n          }\r\n          if (this.selectedIndex >= 0 && this.selectedIndex < this.activePanes.length) {\r\n            index = this.selectedIndex + this.activePanes.length;\r\n            this.navigateToIndex(index >= this.allItems.length ? this.allItems.length - 1 : index, 'next');\r\n          } else if (this.selectedIndex >= this.activePanes.length && this.selectedIndex < this.allItems.length) {\r\n            index = this.selectedIndex - this.activePanes.length;\r\n            this.navigateToIndex(index > this.activePanes.length - 1 ? this.activePanes.length - 1 : index, 'previous');\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    if (event.key === 'F7' || event.key === 'F8') {\r\n      if (isShiftPressed) {\r\n        this.decreaseSelectedIndex();\r\n      } else {\r\n        this.increaseSelectedIndex();\r\n      }\r\n    }\r\n\r\n    this.scrollItemToView();\r\n  }\r\n\r\n  private navigateToIndex(index: number, direction: 'next' | 'previous') {\r\n    if (index === -1) {\r\n      index = this.allItems.length - 1;\r\n    } else if (index === this.allItems.length) {\r\n      index = 0;\r\n    }\r\n\r\n    let counter = 0;\r\n\r\n    while (this.allItems[index].disabled && counter <= this.allItems.length) {\r\n      counter++;\r\n      index = index + (direction === 'next' ? 1 : -1);\r\n\r\n      if (index === -1) {\r\n        index = this.allItems.length - 1;\r\n      } else if (index === this.allItems.length) {\r\n        index = 0;\r\n      }\r\n    }\r\n\r\n    this.selectedIndex = index;\r\n  }\r\n\r\n  private increaseSelectedIndex(amount = 1) {\r\n    const newValue = this.selectedIndex + amount;\r\n    this.navigateToIndex(newValue, 'next');\r\n  }\r\n\r\n  private decreaseSelectedIndex(amount = 1) {\r\n    const newValue = this.selectedIndex - amount;\r\n    this.navigateToIndex(newValue, 'previous');\r\n  }\r\n\r\n  connectedCallback() {\r\n    this.allItems = [...this.activePanes, ...this.activeDocuments];\r\n  }\r\n\r\n  componentDidLoad() {\r\n    this.paneNav.focus();\r\n    this.allItemsElement = Array.from<HTMLElement>(this.paneNav.querySelectorAll('[part~=item]'));\r\n    this.navigateToIndex(this.selectedIndex, 'next');\r\n    this.scrollItemToView();\r\n  }\r\n\r\n  resolveItemPart(item: IgcContentPane, index: number, isDocHost: boolean) {\r\n    const part = Utils.partNameMap({\r\n      item: true,\r\n      selected: isDocHost ? index === this.selectedIndex - this.activePanes.length : index === this.selectedIndex,\r\n      disabled: item.disabled\r\n    });\r\n\r\n    return part;\r\n  }\r\n\r\n  selectItem(index: number, isDocHost: boolean): void {\r\n    this.selectedIndex = !isDocHost ? index : this.activePanes.length + index;\r\n  }\r\n\r\n  renderItems(title: string, items: IgcContentPane[], isDocHost: boolean) {\r\n    return (\r\n      <article part=\"group\" class=\"group\">\r\n        <h4 part=\"title\" class=\"title\">{title}</h4>\r\n        <section class=\"items\">\r\n          {items?.map((item: any, index) => {\r\n            return (\r\n              <div\r\n                part={this.resolveItemPart(item, index, isDocHost)}\r\n                onMouseDown={() => this.selectItem(index, isDocHost)}\r\n                onMouseUp={() => this.closed.emit(this.allItems[this.selectedIndex])}\r\n              >\r\n                {item.header}\r\n              </div>\r\n            );\r\n          })}\r\n        </section>\r\n      </article>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Host\r\n        onClick={() => this.closed.emit(this.allItems[this.previousActivePaneIndex])}\r\n        exportparts=\"base: pane-navigator, header: pane-navigator-header, body: pane-navigator-body,\r\n                     group: pane-navigator-items-group, title: pane-navigator-items-group-title, item: pane-navigator-item, selected, disabled\"\r\n      >\r\n        <article\r\n          part=\"base\"\r\n          class=\"pane-navigator\"\r\n          ref={el => this.paneNav = el}\r\n          tabIndex={0}\r\n          onClick={ev => ev.stopPropagation()}\r\n        >\r\n          <header part=\"header\">\r\n              <h3>{this.allItems[this.selectedIndex]?.header}</h3>\r\n          </header>\r\n          <section part=\"body\" class=\"body\">\r\n              {this.renderItems(this.resourceStrings.panes, this.activePanes, false)}\r\n              {this.renderItems(this.resourceStrings.documents, this.activeDocuments, true)}\r\n          </section>\r\n        </article>\r\n      </Host >\r\n    );\r\n  }\r\n}\r\n","\r\n","import { Component, Element, Event, EventEmitter, Host, Prop, State, h } from '@stencil/core';\r\n\r\nimport { IgcDragEventArguments, IgcDragMoveEventArguments, IgcDragService, IgcDragStartEventArguments } from '../../drag-drop/drag.service';\r\nimport { IgcResizerLocation } from '../dockmanager.public-interfaces';\r\n\r\n/**\r\n * @hidden\r\n */\r\n@Component({\r\n  tag: 'igc-resizer-component',\r\n  styleUrl: 'resizer-component.scss',\r\n  scoped: true\r\n})\r\nexport class IgcResizerComponent {\r\n  private dragService: IgcDragService;\r\n\r\n  @Element() element: HTMLElement;\r\n\r\n  @State() dragOffsetX: number;\r\n  @State() dragOffsetY: number;\r\n\r\n  @Prop() orientation: IgcResizerLocation;\r\n\r\n  @Event() resizerMoved: EventEmitter<IgcDragMoveEventArguments>;\r\n  @Event() resizerDragStart: EventEmitter<IgcDragStartEventArguments>;\r\n  @Event() resizerDragEnd: EventEmitter<IgcDragEventArguments>;\r\n\r\n  private get isCornerResizer(): boolean {\r\n    return this.orientation === IgcResizerLocation.bottomLeft || this.orientation === IgcResizerLocation.bottomRight ||\r\n      this.orientation === IgcResizerLocation.topLeft || this.orientation === IgcResizerLocation.topRight;\r\n  }\r\n\r\n  connectedCallback() {\r\n    this.dragService = new IgcDragService(this.element);\r\n    this.dragService.dragStart = this.dragStart;\r\n    this.dragService.dragEnd = this.dragEnd;\r\n    this.dragService.dragMove = this.dragMove;\r\n  }\r\n\r\n  disconnectedCallback() {\r\n    this.dragService.destroy();\r\n  }\r\n\r\n  private dragStart = (args: IgcDragStartEventArguments) => {\r\n    this.resizerDragStart.emit(args);\r\n  }\r\n\r\n  private dragEnd = (args: IgcDragEventArguments) => {\r\n    this.resizerDragEnd.emit(args);\r\n  }\r\n\r\n  private dragMove = (args: IgcDragMoveEventArguments) => {\r\n    this.resizerMoved.emit(args);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Host\r\n        style={{\r\n          position: 'absolute',\r\n          pointerEvents: 'all',\r\n          height: (this.orientation === IgcResizerLocation.left || this.orientation === IgcResizerLocation.right) ?\r\n            '100%' : this.isCornerResizer ? '10px' : '5px',\r\n          width: (this.orientation === IgcResizerLocation.left || this.orientation === IgcResizerLocation.right) ? '5px' :\r\n            this.isCornerResizer ? '10px' : '100%',\r\n          cursor: this.orientation === IgcResizerLocation.left || this.orientation === IgcResizerLocation.right ?\r\n            'ew-resize' : (this.orientation === IgcResizerLocation.bottomLeft || this.orientation === IgcResizerLocation.topRight) ?\r\n              'ne-resize' : (this.orientation === IgcResizerLocation.bottomRight || this.orientation === IgcResizerLocation.topLeft) ?\r\n                'nw-resize' : 'ns-resize',\r\n          left: this.orientation === IgcResizerLocation.left || this.orientation === IgcResizerLocation.topLeft ||\r\n            this.orientation === IgcResizerLocation.bottomLeft ? '-3px' : null,\r\n          top: this.orientation === IgcResizerLocation.top || this.orientation === IgcResizerLocation.topLeft ||\r\n            this.orientation === IgcResizerLocation.topRight ? '0px' : null,\r\n          right: this.orientation === IgcResizerLocation.right || this.orientation === IgcResizerLocation.bottomRight ||\r\n            this.orientation === IgcResizerLocation.topRight ? '-3px' : null,\r\n          bottom: this.orientation === IgcResizerLocation.bottom || this.orientation === IgcResizerLocation.bottomRight ||\r\n            this.orientation === IgcResizerLocation.bottomLeft ? '-3px' : null,\r\n          zIndex: '10002'\r\n        }}\r\n      >\r\n      </Host>\r\n    );\r\n  }\r\n}\r\n",":host {\r\n  display: flex;\r\n  box-sizing: border-box;\r\n  align-self: center;\r\n  pointer-events: all;\r\n  justify-content: center;\r\n  align-items: center;\r\n  margin: 10px;\r\n  width: 30px;\r\n  height: 30px;\r\n  color: $joystick-icon-color;\r\n  background: $joystick-background;\r\n  transition: color .25s ease-out, background .25s ease-out;\r\n  border: 1px solid $joystick-border-color;\r\n\r\n  &:hover {\r\n    color: $joystick-icon-color-active;\r\n    background: $joystick-background-active;\r\n  }\r\n}\r\n","import { Component, Host, Prop, h } from '@stencil/core';\r\n\r\nimport { IgcDockingIndicatorPosition } from '../dockmanager.public-interfaces';\r\n\r\n/**\r\n * @hidden\r\n */\r\n@Component({\r\n  tag: 'igc-root-docking-indicator-component',\r\n  styleUrl: 'root-docking-indicator-component.scss',\r\n  shadow: false,\r\n  scoped: true\r\n})\r\nexport class IgcRootDockingIndicatorComponent {\r\n  @Prop() position: IgcDockingIndicatorPosition;\r\n\r\n  render() {\r\n    return (\r\n      <Host part=\"root-docking-indicator\">\r\n        <igc-icon-component\r\n          name=\"first_page\"\r\n          style={{\r\n            transform: this.position === IgcDockingIndicatorPosition.top ? 'rotate(90deg)' :\r\n              this.position === IgcDockingIndicatorPosition.right ? 'rotate(180deg)' :\r\n                this.position === IgcDockingIndicatorPosition.bottom ? 'rotate(270deg)' : 'rotate(0deg)'\r\n          }}\r\n        />\r\n      </Host>\r\n    );\r\n  }\r\n}\r\n",":host {\r\n  height: 100%;\r\n  display: flex;\r\n  align-items: stretch;\r\n  box-sizing: border-box;\r\n  min-width: 0;\r\n  min-height: 0;\r\n  border: none;\r\n  overflow: auto;\r\n}\r\n\r\n","import { Component, Event, EventEmitter, Host, Prop, h } from '@stencil/core';\r\n\r\nimport { IGC_DEFAULT_PANE_SIZE } from '../dockmanager.interfaces';\r\nimport { IgcSplitPaneOrientation } from '../dockmanager.public-interfaces';\r\n\r\n/**\r\n * @hidden\r\n */\r\n@Component({\r\n  tag: 'igc-split-pane-component',\r\n  styleUrl: 'split-pane-component.scss',\r\n  shadow: false,\r\n  scoped: true\r\n})\r\nexport class IgcSplitPaneComponent {\r\n  @Prop() orientation: IgcSplitPaneOrientation;\r\n  @Prop() size: number;\r\n  @Event() rendered: EventEmitter<HTMLIgcSplitPaneComponentElement>;\r\n\r\n  componentDidRender() {\r\n    this.rendered.emit();\r\n  }\r\n\r\n  render() {\r\n    const size = this.size || this.size === 0 ? this.size : IGC_DEFAULT_PANE_SIZE;\r\n\r\n    return (\r\n      <Host\r\n        role=\"group\"\r\n        style={{\r\n          flexDirection: this.orientation === IgcSplitPaneOrientation.horizontal ? 'row' : 'column',\r\n          flex: `${size} 1 ${size}px`\r\n        }}\r\n        part=\"split-pane\"\r\n      />\r\n    );\r\n  }\r\n\r\n}\r\n",":host {\r\n  position: relative;\r\n  display: flex;\r\n  flex: 0 0 4px;\r\n  box-sizing: border-box;\r\n  pointer-events: all;\r\n}\r\n\r\n.splitter {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  width: 100%;\r\n  height: 100%;\r\n  cursor: ew-resize;\r\n  background: $splitter-background;\r\n  --resize-handle-width: 2px;\r\n  --resize-handle-height: 80px;\r\n  outline-style: none;\r\n\r\n  &:not(.splitter--custom-handle)::after {\r\n    position: absolute;\r\n    content: '';\r\n    background: $splitter-handle;\r\n    top: 50%;\r\n    left: 50%;\r\n    width: var(--resize-handle-width);\r\n    height: var(--resize-handle-height);\r\n    max-height: 100%;\r\n    max-width: 100%;\r\n    border-radius: 1px;\r\n    transform: translateX(-50%) translateY(-50%);\r\n  }\r\n\r\n  &:focus-within {\r\n    background-color: $active-color;\r\n  }\r\n\r\n  &--vertical {\r\n    cursor: ns-resize;\r\n\r\n    &:not(.splitter--custom-handle)::after {\r\n      width: var(--resize-handle-height);\r\n      height: var(--resize-handle-width);\r\n    }\r\n  }\r\n}\r\n\r\n.splitter-ghost {\r\n  position: absolute;\r\n  cursor: ew-resize;\r\n  opacity: 0.3;\r\n  background: black;\r\n  width: 100%;\r\n  height: 100%;\r\n  z-index: 5;\r\n\r\n  &--vertical {\r\n    cursor: ns-resize;\r\n  }\r\n}\r\n","import { Component, Element, Event, EventEmitter, Host, Listen, Prop, State, h } from '@stencil/core';\r\n\r\nimport { Utils } from '../../../utils/utils';\r\nimport { IgcDragMoveEventArguments, IgcDragService } from '../../drag-drop/drag.service';\r\nimport { IGC_DEFAULT_RESIZE, IGC_RESIZING_MIN_SIZE } from '../dockmanager.interfaces';\r\nimport { IgcSplitPaneOrientation, IgcUnpinnedLocation } from '../dockmanager.public-interfaces';\r\n\r\n/**\r\n * @hidden\r\n */\r\n@Component({\r\n  tag: 'igc-splitter-component',\r\n  styleUrl: 'splitter-component.scss',\r\n  shadow: true,\r\n  scoped: false\r\n})\r\nexport class IgcSplitterComponent {\r\n  private dragService: IgcDragService;\r\n  private paneSizes: number[];\r\n  private ghostElement: HTMLElement;\r\n  private flyoutMaxSize: number;\r\n\r\n  @Element() element: HTMLElement;\r\n\r\n  @State() dragOffset: number;\r\n  @State() hasCustomSplitterHandle: boolean;\r\n\r\n  @Prop() showDragGhost: boolean;\r\n  @Prop() splitPaneOrientation: IgcSplitPaneOrientation;\r\n  @Prop() flyoutLocation: IgcUnpinnedLocation;\r\n\r\n  @Event() resizeStart: EventEmitter;\r\n  @Event() resizeEnd: EventEmitter<number>;\r\n\r\n  connectedCallback() {\r\n    this.dragService = new IgcDragService(this.element);\r\n    this.dragService.dragStart = this.dragStart;\r\n    this.dragService.dragEnd = this.dragEnd;\r\n    this.dragService.dragMove = this.dragMove;\r\n  }\r\n\r\n  disconnectedCallback() {\r\n    this.dragService.destroy();\r\n    document.documentElement.removeEventListener('mouseup', this.handleMouseUp, false);\r\n  }\r\n\r\n  calculateOffset(event: KeyboardEvent): number {\r\n    if (this.isArrowUp(event) || this.isArrowLeft(event)) {\r\n      return -IGC_DEFAULT_RESIZE;\r\n    } else if (this.isArrowDown(event) || this.isArrowRight(event)) {\r\n      return IGC_DEFAULT_RESIZE;\r\n    }\r\n  }\r\n\r\n  isArrowUp(event: KeyboardEvent): boolean {\r\n    return event.key === 'ArrowUp';\r\n  }\r\n\r\n  isArrowDown(event: KeyboardEvent): boolean {\r\n    return event.key === 'ArrowDown';\r\n  }\r\n\r\n  isArrowLeft(event: KeyboardEvent): boolean {\r\n    return event.key === 'ArrowLeft';\r\n  }\r\n\r\n  isArrowRight(event: KeyboardEvent): boolean {\r\n    return event.key === 'ArrowRight';\r\n  }\r\n\r\n  @Listen('keydown')\r\n  handleKeydownEvent(event: KeyboardEvent) {\r\n    if (this.splitPaneOrientation === IgcSplitPaneOrientation.horizontal &&\r\n      (!this.isArrowLeft(event) && !this.isArrowRight(event))) {\r\n      return;\r\n    }\r\n    if (this.splitPaneOrientation === IgcSplitPaneOrientation.vertical &&\r\n      (!this.isArrowUp(event) && !this.isArrowDown(event))) {\r\n      return;\r\n    }\r\n\r\n    this.showDragGhost = false;\r\n    this.dragStartHelper(this.calculateOffset(event));\r\n\r\n    if (this.flyoutLocation) {\r\n      this.constrainFlyoutResize();\r\n    } else {\r\n      this.constrainSplitPaneResize();\r\n    }\r\n\r\n    this.dragEndHelper();\r\n  }\r\n\r\n  @Listen('mousedown')\r\n  handleMouseDown() {\r\n    this.showDragGhost = true;\r\n    document.documentElement.addEventListener('mouseup', this.handleMouseUp, false);\r\n    this.resizeStart.emit();\r\n  }\r\n\r\n  private handleMouseUp = () => {\r\n    document.documentElement.removeEventListener('mouseup', this.handleMouseUp, false);\r\n    this.showDragGhost = false;\r\n  }\r\n\r\n  private dragStartHelper(dragOffset: number) {\r\n    this.dragOffset = dragOffset;\r\n\r\n    const parent = this.element.parentElement;\r\n    const children = Array.from(parent.children) as HTMLElement[];\r\n\r\n    if (this.flyoutLocation) {\r\n      const pane = children[0];\r\n      this.paneSizes = [this.splitPaneOrientation === IgcSplitPaneOrientation.horizontal ?\r\n        pane.offsetWidth : pane.offsetHeight];\r\n      this.flyoutMaxSize = this.splitPaneOrientation === IgcSplitPaneOrientation.horizontal ?\r\n        parent.offsetWidth - IGC_RESIZING_MIN_SIZE :\r\n        parent.offsetHeight - IGC_RESIZING_MIN_SIZE;\r\n    } else {\r\n      const index = children.indexOf(this.element);\r\n      const panes = [children[index - 1], children[index + 1]];\r\n      this.paneSizes = panes.map(p => this.splitPaneOrientation === IgcSplitPaneOrientation.horizontal ?\r\n        p.offsetWidth : p.offsetHeight);\r\n    }\r\n  }\r\n\r\n  private dragStart = () => {\r\n    this.dragStartHelper(0);\r\n  }\r\n\r\n  private dragEndHelper() {\r\n    const dragOffset = this.dragOffset;\r\n    this.showDragGhost = false;\r\n    this.dragOffset = 0;\r\n    this.paneSizes = null;\r\n    this.resizeEnd.emit(dragOffset);\r\n  }\r\n\r\n  private dragEnd = () => {\r\n    this.dragEndHelper();\r\n  }\r\n\r\n  private dragMove = (args: IgcDragMoveEventArguments) => {\r\n    if (!this.ghostElement) {\r\n      return;\r\n    }\r\n\r\n    const rect = this.ghostElement.getBoundingClientRect();\r\n    const isHorizontal = this.splitPaneOrientation === IgcSplitPaneOrientation.horizontal;\r\n    const clientCoordinate = isHorizontal ? args.clientX : args.clientY;\r\n    const offset = isHorizontal ? args.offsetX : args.offsetY;\r\n    const startCoordinate = isHorizontal ? rect.left : rect.top;\r\n    const endCoordinate = isHorizontal ? rect.right : rect.bottom;\r\n\r\n    if (offset <= 0 && startCoordinate < clientCoordinate) {\r\n      return;\r\n    }\r\n\r\n    if (offset >= 0 && endCoordinate > clientCoordinate) {\r\n      return;\r\n    }\r\n\r\n    this.dragOffset += offset;\r\n\r\n    if (this.flyoutLocation) {\r\n      this.constrainFlyoutResize();\r\n    } else {\r\n      this.constrainSplitPaneResize();\r\n    }\r\n  }\r\n\r\n  private constrainFlyoutResize() {\r\n    const paneSize = this.paneSizes[0];\r\n    const isStartLocation = this.flyoutLocation === IgcUnpinnedLocation.left || this.flyoutLocation === IgcUnpinnedLocation.top;\r\n    const offset = isStartLocation ?\r\n      this.dragOffset :\r\n      -this.dragOffset;\r\n\r\n    if (paneSize + offset < IGC_RESIZING_MIN_SIZE) {\r\n      const minOffset = paneSize - IGC_RESIZING_MIN_SIZE;\r\n      this.dragOffset = isStartLocation ? -minOffset : minOffset;\r\n    } else if (paneSize + offset > this.flyoutMaxSize) {\r\n      const maxOffset = this.flyoutMaxSize - paneSize;\r\n      this.dragOffset = isStartLocation ? maxOffset : -maxOffset;\r\n    }\r\n  }\r\n\r\n  private constrainSplitPaneResize() {\r\n    let rtl = false;\r\n    const dockmanager = this.closestElement('igc-dockmanager', this.element);\r\n    if (dockmanager.dir !== '') {\r\n      rtl = dockmanager.dir === 'rtl';\r\n    } else {\r\n      let parent = dockmanager.parentElement;\r\n      while (parent) {\r\n        if (parent.dir !== '') {\r\n          rtl = parent.dir === 'rtl';\r\n          break;\r\n        }\r\n\r\n        parent = parent.parentElement;\r\n      }\r\n    }\r\n\r\n    const isVertical = this.splitPaneOrientation === IgcSplitPaneOrientation.vertical;\r\n    if (this.dragOffset < 0) {\r\n      const referencePaneSize = !rtl || isVertical ? this.paneSizes[0] : this.paneSizes[1];\r\n      if (referencePaneSize > IGC_RESIZING_MIN_SIZE) {\r\n        if (referencePaneSize + this.dragOffset < IGC_RESIZING_MIN_SIZE) {\r\n          this.dragOffset = -(referencePaneSize - IGC_RESIZING_MIN_SIZE);\r\n        }\r\n      } else {\r\n        this.dragOffset = 0;\r\n      }\r\n    } else {\r\n      const referencePaneSize = !rtl || isVertical ? this.paneSizes[1] : this.paneSizes[0];\r\n      if (referencePaneSize > IGC_RESIZING_MIN_SIZE) {\r\n        if (referencePaneSize - this.dragOffset < IGC_RESIZING_MIN_SIZE) {\r\n          this.dragOffset = referencePaneSize - IGC_RESIZING_MIN_SIZE;\r\n        }\r\n      } else {\r\n        this.dragOffset = 0;\r\n      }\r\n    }\r\n  }\r\n\r\n  private closestElement(selector: string, el: any): HTMLIgcDockmanagerElement {\r\n    return (\r\n      (el && el.closest(selector)) ||\r\n        this.closestElement(selector, el.getRootNode().host)\r\n    );\r\n  }\r\n\r\n  handleSlotChange() {\r\n    const handleSlot = this.element.shadowRoot.querySelector('slot[name=\"splitterHandle\"]') as HTMLSlotElement;\r\n    const isVertical = this.splitPaneOrientation === IgcSplitPaneOrientation.vertical;\r\n    this.hasCustomSplitterHandle = handleSlot.assignedElements().length > 0;\r\n\r\n    if (this.hasCustomSplitterHandle) {\r\n      const handle = this.element.querySelector('[part=\"splitter-handle\"]');\r\n      const parts = Utils.partNameMap({\r\n        'splitter-handle': true,\r\n        'vertical': isVertical,\r\n        'horizontal': !isVertical\r\n      });\r\n      handle.setAttribute('part', parts);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const isVertical = this.splitPaneOrientation === IgcSplitPaneOrientation.vertical;\r\n    const splitterClasses = {\r\n      'splitter': true,\r\n      'splitter--vertical': isVertical,\r\n      'splitter--custom-handle': this.hasCustomSplitterHandle\r\n    };\r\n\r\n    const ghostClasses = {\r\n      'splitter-ghost': true,\r\n      'splitter-ghost--vertical': isVertical\r\n    };\r\n\r\n    return (\r\n      <Host\r\n        part=\"splitter\"\r\n        exportparts=\"splitter,\r\n        splitter-base,\r\n        splitter-ghost\"\r\n      >\r\n        <div part=\"splitter-base\" class={splitterClasses} tabIndex={0} role=\"separator\" aria-orientation={this.splitPaneOrientation.toString()}>\r\n            <slot name=\"splitterHandle\" onSlotchange={this.handleSlotChange.bind(this)}></slot>\r\n        </div>\r\n        {this.showDragGhost &&\r\n          <div\r\n            part=\"splitter-ghost\"\r\n            class={ghostClasses}\r\n            style={{\r\n              left: `${isVertical ? 0 : this.dragOffset}px`,\r\n              top: `${isVertical ? this.dragOffset : 0}px`\r\n            }}\r\n            ref={el => this.ghostElement = el}\r\n          />}\r\n      </Host>);\r\n  }\r\n}\r\n","%truncate-text {\r\n  ::slotted(span) {\r\n    max-width: calc(100% - 18px);\r\n    @include ellipsis();\r\n  }\r\n}\r\n\r\n:host {\r\n  @include ellipsis();\r\n  position: relative;\r\n  display: flex;\r\n  align-items: center;\r\n  box-sizing: border-box;\r\n  height: 100%;\r\n  padding: em(8px);\r\n  user-select: none;\r\n  color: $tab-text;\r\n  background: $tab-background;\r\n  border: {\r\n    style: solid;\r\n    color: $tab-border-color;\r\n    top-width: 1px;\r\n    left-width: 1px;\r\n    bottom-width: 0;\r\n    right-width: 1px;\r\n  };\r\n  font-size: em(12px);\r\n  line-height: 2;\r\n  outline-style: none;\r\n\r\n  igc-icon-component svg {\r\n    width: 17px;\r\n    height: 17px;\r\n  }\r\n\r\n  * + igc-button-component {\r\n    margin-left: em(8px);\r\n  }\r\n}\r\n\r\n:host([part~='selected']) {\r\n  color: $tab-text-active;\r\n  background: $tab-background-active;\r\n  border-color: $tab-border-color-active;\r\n}\r\n\r\n:host([part~='bottom']) {\r\n  border: {\r\n    top-width: 0;\r\n    bottom-width: 1px;\r\n  }\r\n\r\n  &:first-of-type {\r\n    border-left: none;\r\n  }\r\n}\r\n\r\n:host([part~='active']) {\r\n  box-shadow: inset 0 -2px 0 0 $active-color;\r\n  color: $active-color;\r\n\r\n  igc-icon-component {\r\n    color: var(--igc-icon-active-color, $active-color);\r\n  }\r\n}\r\n\r\n:host([part~='hover-preview-close']:hover) {\r\n  @extend %truncate-text;\r\n}\r\n\r\n:host([part~='hover-preview-close'][part~='selected']) {\r\n  @extend %truncate-text;\r\n}\r\n\r\n:host([part~='disabled']) {\r\n  pointer-events: none;\r\n  color: $disabled-color;\r\n}\r\n\r\n:host(:hover) {\r\n  [part*='floating'] {\r\n    opacity: 1;\r\n  }\r\n}\r\n\r\n[part*='floating'] {\r\n  position: absolute;\r\n  inset-inline-end: 0;\r\n  background: inherit;\r\n  opacity: 0;\r\n  transition: opacity .1s ease-out;\r\n}\r\n\r\n[part*='selected'] {\r\n  opacity: 1;\r\n}\r\n","import { Component, Element, Event, EventEmitter, Host, Listen, Prop, Watch, h } from '@stencil/core';\r\n\r\nimport { Utils } from '../../utils/utils';\r\nimport { IgcTabHeadersPosition } from '../dockmanager/dockmanager.interfaces';\r\nimport { IgcDockManagerResourceStrings } from '../dockmanager/dockmanager.public-interfaces';\r\nimport { IGNORE_DRAG, IgcDragEventArguments, IgcDragMoveEventArguments, IgcDragService, IgcDragStartEventArguments } from '../drag-drop/drag.service';\r\n\r\n/**\r\n * @hidden\r\n */\r\n@Component({\r\n  tag: 'igc-tab-header-component',\r\n  styleUrl: 'tab-header-component.scss',\r\n  shadow: true,\r\n  scoped: false\r\n})\r\nexport class IgcTabHeaderComponent {\r\n  @Prop({ mutable: true }) dragService: IgcDragService;\r\n\r\n  @Element() element: HTMLIgcTabHeaderComponentElement;\r\n\r\n  @Prop() selected = false;\r\n  @Prop() hovered = false;\r\n  @Prop() position = IgcTabHeadersPosition.top;\r\n  @Prop() iconName: string;\r\n  @Prop() header: string;\r\n  @Prop() isActive: boolean;\r\n  @Prop() resourceStrings: IgcDockManagerResourceStrings;\r\n  @Prop() forcedDrag: boolean;\r\n  @Prop() disabled = false;\r\n  @Prop() showHeaderIconOnHover: 'closeOnly' | 'moreOptionsOnly' | 'all';\r\n\r\n  @Event() dragStarted: EventEmitter<IgcDragStartEventArguments>;\r\n  @Event() dragMoved: EventEmitter<IgcDragMoveEventArguments>;\r\n  @Event() dragEnded: EventEmitter<IgcDragEventArguments>;\r\n  @Event() tabMouseDown: EventEmitter;\r\n  @Event() iconClicked: EventEmitter<any>;\r\n  @Event() iconKeyDown: EventEmitter<KeyboardEvent>;\r\n  @Event() elementConnected: EventEmitter<HTMLIgcTabHeaderComponentElement>;\r\n  @Event() elementDisconnected: EventEmitter<HTMLIgcTabHeaderComponentElement>;\r\n\r\n  connectedCallback() {\r\n    this.dragService = new IgcDragService(this.element);\r\n\r\n    this.dragService.dragStart = args => {\r\n      this.dragStarted.emit(args);\r\n    };\r\n    this.dragService.dragMove = args => {\r\n      this.dragMoved.emit(args);\r\n    };\r\n    this.dragService.dragEnd = args => {\r\n      this.dragEnded.emit(args);\r\n    };\r\n\r\n    this.forceDragging();\r\n    this.elementConnected.emit(this.element);\r\n  }\r\n\r\n  disconnectedCallback() {\r\n    if (this.dragService) {\r\n      this.dragService.destroy();\r\n    }\r\n    this.elementDisconnected.emit(this.element);\r\n  }\r\n\r\n  @Listen('mousedown')\r\n  handleMouseDown(ev: MouseEvent) {\r\n    const iconSlot = this.element.shadowRoot.querySelector('div[part*=\"tab-header-more-options\"]');\r\n    const isIconClicked = ev.composedPath().filter(p => p === iconSlot).length > 0;\r\n    this.tabMouseDown.emit({ showHeaderIconOnHover: this.showHeaderIconOnHover, isIconClicked });\r\n  }\r\n\r\n  @Listen('mouseenter')\r\n  handleMouseEnter() {\r\n    this.hovered = true;\r\n  }\r\n\r\n  @Listen('mouseleave')\r\n  handleMouseLeave() {\r\n    this.hovered = false;\r\n  }\r\n\r\n  @Watch('forcedDrag')\r\n  forcedDragChanged() {\r\n    this.forceDragging();\r\n  }\r\n\r\n  private forceDragging() {\r\n    if (this.forcedDrag) {\r\n      this.dragService.forceDragging();\r\n    }\r\n  }\r\n\r\n  @Watch('isActive')\r\n  @Watch('selected')\r\n  @Watch('hovered')\r\n  activeChanged() {\r\n    const queryButton = 'tab-header-close-button';\r\n    const button = this.element.querySelector(`[part^=${queryButton}]`);\r\n    const parts = Utils.partNameMap({\r\n      [queryButton]: true,\r\n      active: this.isActive,\r\n      selected: this.selected,\r\n      hovered: this.hovered\r\n    });\r\n\r\n    button?.setAttribute('part', parts);\r\n  }\r\n\r\n  private iconClick = (ev: MouseEvent) => {\r\n    this.iconClicked.emit(ev);\r\n  }\r\n\r\n  private keyDown = (ev: KeyboardEvent) => {\r\n    this.iconKeyDown.emit(ev);\r\n  }\r\n\r\n  private renderCloseButton() {\r\n    const showHeaderIconOnHover = this.showHeaderIconOnHover && (this.showHeaderIconOnHover === 'closeOnly' || this.showHeaderIconOnHover === 'all');\r\n    const shouldShowButton = this.selected || showHeaderIconOnHover;\r\n    const pointerEvents = (this.selected && !this.disabled) || this.showHeaderIconOnHover ? 'all' : 'none';\r\n\r\n    return (\r\n      shouldShowButton && <slot name=\"tabHeaderCloseButton\" >\r\n        <igc-button-component\r\n          part=\"tab-header-close-button\"\r\n          style={{\r\n            pointerEvents\r\n          }}\r\n        >\r\n          <igc-icon-component\r\n            name={this.iconName}\r\n            aria-label={this.resourceStrings.close}\r\n            title={this.resourceStrings.close}\r\n          />\r\n        </igc-button-component>\r\n      </slot>\r\n    );\r\n  }\r\n\r\n  private renderMoreOptionsButton() {\r\n    const showHeaderIconOnHover = this.showHeaderIconOnHover && (this.showHeaderIconOnHover === 'moreOptionsOnly' || this.showHeaderIconOnHover === 'all');\r\n    const shouldShowButton = this.selected || showHeaderIconOnHover;\r\n    const pointerEvents = (this.selected && !this.disabled) || this.showHeaderIconOnHover ? 'all' : 'none';\r\n\r\n    return (\r\n      shouldShowButton && <slot name=\"tabHeaderMoreOptionsButton\">\r\n        <igc-button-component\r\n          part=\"tab-header-more-options-button\"\r\n          style={{\r\n            pointerEvents\r\n          }}\r\n        >\r\n          <igc-icon-component\r\n            name={this.iconName}\r\n            aria-label={this.resourceStrings.moreOptions}\r\n            title={this.resourceStrings.moreOptions}\r\n          />\r\n        </igc-button-component>\r\n      </slot>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const showCloseOnHover = this.iconName === 'close' && this.showHeaderIconOnHover && (this.showHeaderIconOnHover === 'closeOnly' || this.showHeaderIconOnHover === 'all');\r\n    const showMoreOptionsOnHover = this.iconName !== 'close' && this.showHeaderIconOnHover && (this.showHeaderIconOnHover === 'moreOptionsOnly' || this.showHeaderIconOnHover === 'all');\r\n\r\n    const parts = Utils.partNameMap({\r\n      'tab-header': true,\r\n      top: this.position === IgcTabHeadersPosition.top,\r\n      active: this.isActive,\r\n      selected: this.selected,\r\n      disabled: this.disabled,\r\n      'hover-preview-close': showCloseOnHover,\r\n      'hover-preview-options': showMoreOptionsOnHover,\r\n      bottom: this.position === IgcTabHeadersPosition.bottom,\r\n    });\r\n\r\n    const tabParts = Utils.partNameMap({\r\n      'tab-header-more-options': true,\r\n      'floating': !this.selected && (showCloseOnHover || showMoreOptionsOnHover),\r\n      'selected': this.selected\r\n    });\r\n\r\n    const exportparts = Utils.partNameMap({\r\n      'tab-header-close-button': true,\r\n      'tab-header-more-options': true,\r\n      'tab-header-more-options-button': true,\r\n      'floating': true,\r\n      'selected': true,\r\n      'active': true\r\n    }, ',');\r\n\r\n    return (\r\n      <Host\r\n        role=\"tab\"\r\n        part={parts}\r\n        exportparts={exportparts}\r\n        aria-label={this.header}\r\n        aria-selected={this.selected ? 'true' : 'false'}\r\n        aria-disabled={this.disabled ? 'true' : 'false'}\r\n        tabIndex={!this.selected || this.disabled ? -1 : 0}\r\n      >\r\n        <slot></slot>\r\n        {\r\n          this.iconName &&\r\n          <div part={tabParts} onClick={this.iconClick} onKeyDown={this.keyDown} {...{ [IGNORE_DRAG]: true }}>\r\n            {this.iconName === 'close' ? this.renderCloseButton() : this.renderMoreOptionsButton()}\r\n          </div>\r\n        }\r\n      </Host>);\r\n  }\r\n}\r\n",":host {\r\n  display: block;\r\n  box-sizing: border-box;\r\n  overflow: auto;\r\n  flex-grow: 1;\r\n  height: 100%;\r\n  color: $pane-content-text;\r\n  background-color: $pane-content-background;\r\n}\r\n\r\n:host([part~='disabled']) {\r\n  pointer-events: none;\r\n  color: $disabled-color;\r\n}\r\n","import { Component, Element, Event, EventEmitter, Host, Prop, Watch, h } from '@stencil/core';\r\n\r\nimport { Utils } from '../../utils/utils';\r\n\r\n/**\r\n * @hidden\r\n */\r\n@Component({\r\n  tag: 'igc-tab-panel-component',\r\n  styleUrl: 'tab-panel-component.scss',\r\n  shadow: true,\r\n  scoped: false\r\n})\r\nexport class IgcTabPanelComponent {\r\n  private emitSelectedChanged = false;\r\n\r\n  @Element() element: HTMLElement;\r\n\r\n  @Prop() selected = false;\r\n  @Prop() disabled = false;\r\n\r\n  @Watch('selected')\r\n  selectedPropChange() {\r\n    this.emitSelectedChanged = true;\r\n  }\r\n\r\n  @Event()\r\n  selectedChanged: EventEmitter<boolean>;\r\n\r\n  componentDidUpdate() {\r\n    if (this.emitSelectedChanged) {\r\n      this.emitSelectedChanged = false;\r\n      this.selectedChanged.emit(this.selected);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const parts = Utils.partNameMap({\r\n      'tab-panel': true,\r\n      selected: this.selected,\r\n      disabled: this.disabled\r\n    });\r\n\r\n    return (\r\n      <Host\r\n        role=\"tabpanel\"\r\n        part={parts}\r\n        style={{\r\n          display: this.selected ? 'block' : 'none'\r\n        }}\r\n      >\r\n        <slot></slot>\r\n      </Host>\r\n    );\r\n  }\r\n\r\n}\r\n",":host {\r\n  display: flex;\r\n  flex-direction: column;\r\n  box-sizing: border-box;\r\n  min-width: 0px;\r\n  min-height: 0px;\r\n}\r\n\r\n.tabs {\r\n  display: flex;\r\n  overflow: hidden;\r\n  min-height: $tab-header-height;\r\n  max-height: $tab-header-height;\r\n  background: $dock-background;\r\n\r\n  &--top {\r\n    padding-top: $tab-header-padding;\r\n\r\n    .tab-headers-container--wrapped {\r\n      flex-wrap: wrap;\r\n    }\r\n  }\r\n\r\n  &--bottom {\r\n    padding-bottom: $tab-header-padding;\r\n\r\n    .tab-headers-container--wrapped {\r\n      flex-wrap: wrap-reverse;\r\n    }\r\n  }\r\n}\r\n\r\n.content {\r\n  flex-grow: 1;\r\n  height: 100%;\r\n  overflow: auto;\r\n}\r\n\r\n.tab-headers-container {\r\n  width: 100%;\r\n  display: flex;\r\n  overflow: hidden;\r\n}\r\n\r\n\r\n.tab-header-icon-container {\r\n  display: flex;\r\n  flex-grow: 1;\r\n  justify-content: flex-end;\r\n  padding-left: 8px;\r\n  padding-right: 8px;\r\n}\r\n","import { Component, Element, Event, EventEmitter, Host, Listen, Prop, State, Watch, forceUpdate, h } from '@stencil/core';\r\n\r\nimport { Utils } from '../../utils/utils';\r\nimport { IGC_DEFAULT_PANE_SIZE, IgcContextMenuMetadata, IgcContextMenuOrientation, IgcTabHeadersPosition } from '../dockmanager/dockmanager.interfaces';\r\nimport { IgcDockManagerResourceStrings } from '../dockmanager/dockmanager.public-interfaces';\r\n\r\n/**\r\n * @hidden\r\n */\r\nlet NEXT_TAB_ID = 0;\r\n\r\n/**\r\n * @hidden\r\n */\r\n@Component({\r\n  tag: 'igc-tabs-component',\r\n  styleUrl: 'tabs-component.scss',\r\n  shadow: true,\r\n  scoped: false\r\n})\r\nexport class IgcTabsComponent {\r\n  private forcedUpdate = false;\r\n  private selectionOrder: string[] = [];\r\n\r\n  @Element() el!: HTMLIgcTabsComponentElement;\r\n\r\n  @State() hiddenTabsMenuMeta: IgcContextMenuMetadata;\r\n  @State() hasHiddenTabs = false;\r\n\r\n  @Prop() size: number;\r\n  @Prop() maximized: boolean;\r\n  @Prop() allowMaximize = true;\r\n  @Prop() tabHeadersPosition: IgcTabHeadersPosition = IgcTabHeadersPosition.top;\r\n  @Prop({ mutable: true }) selectedIndex: number;\r\n  @Prop() hasHeaders = true;\r\n  @Prop() showHiddenTabsMenu = true;\r\n  @Prop() resourceStrings: IgcDockManagerResourceStrings;\r\n  @Prop() contentIds: string[] = [];\r\n\r\n  @Event() maximize: EventEmitter;\r\n  @Event() maximizeMinimizeFocus: EventEmitter;\r\n\r\n  @Watch('selectedIndex')\r\n  selectedIndexPropertyChanged(newValue: number) {\r\n    this.handleSelectedIndexChanged(newValue);\r\n    this.selectedIndexChanged.emit(newValue);\r\n  }\r\n\r\n  @Event({ bubbles: false }) selectedIndexChanged: EventEmitter<number>;\r\n  @Event({ bubbles: false }) hiddenTabSelected: EventEmitter<number>;\r\n  @Event({ bubbles: false }) selectedTabOutOfView: EventEmitter<number>;\r\n  @Event() rendered: EventEmitter<HTMLIgcTabsComponentElement>;\r\n\r\n  componentWillLoad() {\r\n    this.hiddenTabsMenuMeta = null;\r\n    this.handleSelectedIndexChanged(this.selectedIndex);\r\n    this.checkForActivePane();\r\n  }\r\n\r\n  componentWillUpdate() {\r\n    this.updateSelection();\r\n  }\r\n\r\n  updateSelection() {\r\n    const headers = this.tabHeaders;\r\n\r\n    // if any header is removed - delete its id from selection order & update selected index\r\n    const missingMatchIndex = this.selectionOrder.findIndex(s => headers.findIndex(h => h.id === s) < 0);\r\n    if (missingMatchIndex > -1) {\r\n      this.selectionOrder.splice(missingMatchIndex, 1);\r\n      const newSelectedIndex = headers.findIndex(h => h.id === this.selectionOrder[this.selectionOrder.length - 1]);\r\n      this.selectedIndex = newSelectedIndex > -1 ? newSelectedIndex : 0;\r\n    }\r\n\r\n    const currentSelectionId = headers[this.selectedIndex]?.id;\r\n    const existingMatchIndex = this.selectionOrder.indexOf(currentSelectionId);\r\n    if (existingMatchIndex > -1) {\r\n      this.selectionOrder.splice(existingMatchIndex, 1);\r\n    }\r\n\r\n    if (currentSelectionId) {\r\n      this.selectionOrder.push(currentSelectionId);\r\n    }\r\n  }\r\n\r\n  componentDidRender() {\r\n    this.rendered.emit();\r\n  }\r\n\r\n  componentDidLoad() {\r\n    this.setTabsAttributes();\r\n\r\n    this.tabHeadersDiv = this.el.shadowRoot.querySelector('div.tabs');\r\n\r\n    if (this.tabHeadersDiv) {\r\n      this.resizeObserver.observe(this.tabHeadersDiv);\r\n    }\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    if (this.forcedUpdate) {\r\n      this.forcedUpdate = false;\r\n      this.checkForActivePane();\r\n    }\r\n\r\n    this.setHasHiddenTabs();\r\n  }\r\n\r\n  private setTabsAttributes() {\r\n    const tabHeaders = this.tabHeaders;\r\n    const tabPanels = this.tabPanels;\r\n\r\n    for (let i = 0; i < tabHeaders.length; i++) {\r\n      if (!tabHeaders[i].getAttribute('id')) {\r\n        const tabHeaderId = `tab-item-${NEXT_TAB_ID}`;\r\n        const tabPanelId = `tab-panel-${NEXT_TAB_ID++}`;\r\n\r\n        tabPanels[i].setAttribute('id', tabPanelId);\r\n        tabHeaders[i].setAttribute('id', tabHeaderId);\r\n\r\n        tabPanels[i].setAttribute('aria-labelledby', tabHeaderId);\r\n        tabHeaders[i].setAttribute('aria-controls', tabPanelId);\r\n      }\r\n    }\r\n  }\r\n\r\n  disconnectedCallback() {\r\n    this.resizeObserver.disconnect();\r\n  }\r\n\r\n  private tabHeadersDiv: HTMLElement;\r\n  private resizeObserver = new ResizeObserver(this.tabHeadersDivResized.bind(this));\r\n\r\n  private slotChanged = () => {\r\n    this.setTabsAttributes();\r\n    this.updateSelection();\r\n    this.handleSelectedIndexChanged(this.selectedIndex);\r\n    this.forceUpdate();\r\n  }\r\n\r\n  private forceUpdate() {\r\n    this.forcedUpdate = true;\r\n    forceUpdate(this);\r\n  }\r\n\r\n\r\n  private get tabPanels() {\r\n    return Array.from(this.el.querySelectorAll('igc-tab-panel-component'));\r\n  }\r\n\r\n  private get tabHeaders() {\r\n    return Array.from(this.el.querySelectorAll('igc-tab-header-component'));\r\n  }\r\n\r\n  private get hiddenTabHeaders() {\r\n    const containerTop = this.tabHeaders[0]?.offsetTop;\r\n    return this.tabHeaders.filter(t => t.offsetTop !== containerTop);\r\n  }\r\n\r\n  private handleSelectedIndexChanged(newValue: number) {\r\n    const tabHeaders = this.tabHeaders;\r\n    const tabPanels = this.tabPanels;\r\n\r\n    tabHeaders.forEach((t, i) => {\r\n      t.selected = i === newValue;\r\n    });\r\n\r\n    tabPanels.forEach((t, i) => {\r\n      t.selected = i === newValue;\r\n    });\r\n  }\r\n\r\n  @Listen('tabMouseDown')\r\n  handleTabMouseDown(ev: CustomEvent) {\r\n    const tabHeader = ev.target as HTMLIgcTabHeaderComponentElement;\r\n    const tabHeaders = this.tabHeaders;\r\n    const headerIndex = tabHeaders.indexOf(tabHeader);\r\n    if (headerIndex >= 0 && (!ev.detail.showHeaderIconOnHover || !ev.detail.isIconClicked)) {\r\n      this.selectedIndex = headerIndex;\r\n    }\r\n  }\r\n\r\n  private onTabKeyDown = (ev: KeyboardEvent) => {\r\n    const tabHeaders = this.tabHeaders;\r\n    if (Utils.isAltPressed(ev) || Utils.isControlOrMetaPressed(ev) || ev.shiftKey) {\r\n      return;\r\n    }\r\n\r\n    if (ev.key === 'ArrowRight') {\r\n      for (let i = this.selectedIndex; i < tabHeaders.length - this.hiddenTabHeaders.length - 1; i++) {\r\n        if (!tabHeaders[i + 1].disabled) {\r\n          this.selectedIndex = i + 1;\r\n          tabHeaders[i + 1].focus();\r\n          return;\r\n        }\r\n      }\r\n    } else if (ev.key === 'ArrowLeft') {\r\n      for (let i = this.selectedIndex; i > 0; i--) {\r\n        if (!tabHeaders[i - 1].disabled) {\r\n          this.selectedIndex = i - 1;\r\n          tabHeaders[i - 1].focus();\r\n          return;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  private tabHeadersDivResized() {\r\n    const containerTop = this.tabHeaders[0]?.offsetTop;\r\n    const selectedTabHeader = this.tabHeaders.filter(t => t.selected)[0];\r\n    if (selectedTabHeader?.offsetTop !== containerTop) {\r\n      const index = this.selectedIndex;\r\n      this.selectedTabOutOfView.emit(index);\r\n    }\r\n\r\n    this.setHasHiddenTabs();\r\n  }\r\n\r\n  private setHasHiddenTabs() {\r\n    this.hasHiddenTabs = this.hiddenTabHeaders.length > 0;\r\n  }\r\n\r\n  private checkForActivePane() {\r\n    const activeTabHeader = this.tabHeaders.filter(t => t.isActive);\r\n    if (activeTabHeader.length > 0) {\r\n      const hiddenActiveTabIndex = this.hiddenTabHeaders.indexOf(activeTabHeader[0]);\r\n      const activeTabIndex = this.tabHeaders.indexOf(activeTabHeader[0]);\r\n      if (hiddenActiveTabIndex >= 0) {\r\n        this.selectedTabOutOfView.emit(activeTabIndex);\r\n      } else if (activeTabIndex >= 0) {\r\n        this.selectedIndex = activeTabIndex;\r\n      }\r\n    }\r\n  }\r\n\r\n  private handleHiddenTabsMenuClick(ev: CustomEvent<KeyboardEvent>) {\r\n    const button = ev.currentTarget as HTMLElement;\r\n\r\n    const items = this.hiddenTabHeaders.map(header => ({\r\n      displayText: header.header,\r\n      disabled: header.disabled,\r\n      iconName: null,\r\n      clickHandler: () => {\r\n        const index = this.tabHeaders.indexOf(header);\r\n        this.hiddenTabSelected.emit(index);\r\n      }\r\n    }));\r\n\r\n    this.hiddenTabsMenuMeta = { target: button, menuItems: items, position: 'end' };\r\n  }\r\n\r\n  private handleContextMenuClosed() {\r\n    this.hiddenTabsMenuMeta = null;\r\n  }\r\n\r\n  private maximizeButtonClick = () => {\r\n    this.maximize.emit();\r\n  }\r\n\r\n  private handleMaximizeMinimizeFocus = () => {\r\n    this.maximizeMinimizeFocus.emit();\r\n  }\r\n\r\n  private renderHiddenTabsMenu() {\r\n    return this.hiddenTabsMenuMeta && (\r\n      <igc-context-menu-component\r\n        onMenuClosed={this.handleContextMenuClosed.bind(this)}\r\n        orientation={this.tabHeadersPosition === IgcTabHeadersPosition.top ? IgcContextMenuOrientation.bottom : IgcContextMenuOrientation.top}\r\n        items={this.hiddenTabsMenuMeta.menuItems}\r\n        target={this.hiddenTabsMenuMeta.target}\r\n        position={this.hiddenTabsMenuMeta.position}\r\n      >\r\n      </igc-context-menu-component>);\r\n  }\r\n\r\n  private renderTabHeaders(top: boolean) {\r\n    const classes = {\r\n      'tabs': true,\r\n      'tabs--top': top,\r\n      'tabs--bottom': !top\r\n    };\r\n\r\n    const commontParts = { top, bottom: !top };\r\n\r\n    const tabStripParts = Utils.partNameMap({ 'tab-strip-area': true, ...commontParts });\r\n    const tabStripActionsParts = Utils.partNameMap({\r\n      'tab-strip-actions': true,\r\n      ...commontParts\r\n    });\r\n\r\n    return (\r\n      <div\r\n        part={tabStripParts}\r\n        style={{\r\n          display: this.hasHeaders ? 'flex' : 'none'\r\n        }}\r\n        class={classes}\r\n        onKeyDown={this.onTabKeyDown}\r\n      >\r\n        <div\r\n          class={{\r\n            'tab-headers-container': true,\r\n            'tab-headers-container--wrapped': this.showHiddenTabsMenu\r\n          }}\r\n        >\r\n          <slot name=\"tabHeader\"></slot>\r\n        </div>\r\n        <div part={tabStripActionsParts} class=\"tab-header-icon-container\">\r\n          {this.showHiddenTabsMenu && this.hasHiddenTabs &&\r\n            <div onClick={this.handleHiddenTabsMenuClick.bind(this)}>\r\n              {this.renderMoreTabsButton()}\r\n            </div>}\r\n           { !(this.showHiddenTabsMenu && this.hasHiddenTabs) &&\r\n            <span style={{ width: '25px' }}></span>\r\n          }\r\n          {this.allowMaximize &&\r\n            <div onClick={this.maximizeButtonClick} onFocusin={this.handleMaximizeMinimizeFocus}>\r\n              {this.maximized ? this.renderMinimizeButton() : this.renderMaximizeButton()}\r\n            </div>\r\n          }\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  private renderMoreTabsButton() {\r\n    return (\r\n      <span>\r\n        <slot name=\"tabsMoreButton\">\r\n          <igc-button-component part=\"tabs-more-button\">\r\n            <igc-icon-component\r\n              name=\"more\"\r\n              aria-label={this.resourceStrings.moreTabs}\r\n              title={this.resourceStrings.moreTabs}\r\n              style={{\r\n                display: 'block'\r\n              }}\r\n            />\r\n          </igc-button-component>\r\n        </slot>\r\n      </span>\r\n    );\r\n  }\r\n\r\n  private renderMaximizeButton() {\r\n    return (\r\n      <div>\r\n        <slot name=\"tabsMaximizeButton\">\r\n          <igc-button-component part=\"tabs-maximize-button\">\r\n            <igc-icon-component\r\n              name=\"maximize\"\r\n              aria-label={this.resourceStrings.maximize}\r\n              title={this.resourceStrings.maximize}\r\n            />\r\n          </igc-button-component>\r\n        </slot>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  private renderMinimizeButton() {\r\n    return (\r\n      <slot name=\"tabsMinimizeButton\">\r\n        <igc-button-component part=\"tabs-minimize-button\">\r\n          <igc-icon-component\r\n            name=\"minimize\"\r\n            aria-label={this.resourceStrings.minimize}\r\n            title={this.resourceStrings.minimize}\r\n          />\r\n        </igc-button-component>\r\n      </slot>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const size = this.size || this.size === 0 ? this.size : IGC_DEFAULT_PANE_SIZE;\r\n    const top = this.tabHeadersPosition === IgcTabHeadersPosition.top;\r\n    const bottom = this.tabHeadersPosition === IgcTabHeadersPosition.bottom;\r\n    const contentIds = this.contentIds.join(' ');\r\n    const parts = \"tabs-container \" + contentIds;\r\n\r\n    const tabsContentParts = Utils.partNameMap({ 'tabs-content': true, document: top });\r\n    const exportParts = Utils.partNameMap({\r\n      'tab-strip-area': true,\r\n      'tab-strip-actions': true,\r\n      'tabs-content': true,\r\n      'tabs-more-button': true,\r\n      'tabs-maximize-button': true,\r\n      'tabs-minimize-button': true,\r\n      'context-menu-content: tabs-more-menu-content': true,\r\n      'context-menu-item: tabs-more-menu-item': true,\r\n      document: top,\r\n      top,\r\n      bottom\r\n    }, ',');\r\n\r\n    return (\r\n      <Host\r\n        role=\"tablist\"\r\n        style={{\r\n          flex: `${size} 1 ${size}px`\r\n        }}\r\n        exportparts={exportParts}\r\n        part={parts}\r\n      >\r\n        {top && this.renderTabHeaders(top)}\r\n        <div part={tabsContentParts} class=\"content\">\r\n          <slot onSlotchange={this.slotChanged.bind(this)}></slot>\r\n        </div>\r\n        {bottom && this.renderTabHeaders(top)}\r\n        {this.renderHiddenTabsMenu()}\r\n      </Host>\r\n    );\r\n  }\r\n}\r\n",":host {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  flex-direction: column;\r\n  box-sizing: border-box;\r\n  user-select: none;\r\n  font-size: 12px;\r\n  padding: 4px;\r\n  margin-right: 4px;\r\n  color: $pinned-header-text;\r\n  background: $pinned-header-background;\r\n  cursor: pointer;\r\n  outline-style: none;\r\n}\r\n\r\n:host([part~='vertical']) {\r\n  writing-mode: tb-rl;\r\n  margin-right: unset;\r\n  margin-bottom: 4px;\r\n}\r\n\r\n:host([part~='active']) {\r\n  color: $active-color;\r\n  box-shadow: inset 0 -2px 0 0 $active-color;\r\n}\r\n\r\n:host([part~='vertical'][part~='active']) {\r\n  box-shadow: inset 2px 0 0 0 $active-color;\r\n}\r\n\r\n:host([part~='disabled']) {\r\n  pointer-events: none;\r\n  color: $disabled-color;\r\n}\r\n","import { Component, Host, Prop, h } from '@stencil/core';\r\n\r\nimport { Utils } from '../../../utils/utils';\r\nimport { IgcUnpinnedLocation } from '../dockmanager.public-interfaces';\r\n\r\n/**\r\n * @hidden\r\n */\r\n@Component({\r\n  tag: 'igc-unpinned-pane-header-component',\r\n  styleUrl: 'unpinned-pane-header-component.scss',\r\n  shadow: true,\r\n  scoped: false\r\n})\r\nexport class IgcUnpinnedPaneHeaderComponent {\r\n  @Prop() location: IgcUnpinnedLocation;\r\n  @Prop() isActive: boolean;\r\n  @Prop() disabled = false;\r\n\r\n  render() {\r\n    const isHorizontal = this.location === IgcUnpinnedLocation.top || this.location === IgcUnpinnedLocation.bottom;\r\n    const isLeft = this.location === IgcUnpinnedLocation.left;\r\n    const isRight = this.location === IgcUnpinnedLocation.right;\r\n    const isTop = this.location === IgcUnpinnedLocation.top;\r\n    const isBottom = this.location === IgcUnpinnedLocation.bottom;\r\n\r\n    const parts = Utils.partNameMap({\r\n      'unpinned-pane-header': true,\r\n      horizontal: isHorizontal,\r\n      vertical: !isHorizontal,\r\n      start: isLeft || isTop,\r\n      end: isRight || isBottom,\r\n      active: this.isActive,\r\n      disabled: this.disabled,\r\n    });\r\n\r\n    return (\r\n      <Host\r\n        part={parts}\r\n        role=\"tab\"\r\n        aria-disabled={this.disabled ? 'true' : 'false'}\r\n        tabindex={this.disabled ? -1 : 0}\r\n      >\r\n        <slot></slot>\r\n      </Host>\r\n    );\r\n  }\r\n}\r\n",":host {\r\n  display: flex;\r\n  flex-direction: column;\r\n  height: 100%;\r\n}\r\n\r\n/* igc-dockmanager {\r\n  background-color: gray;\r\n}\r\n\r\nigc-dockmanager::part(pane-header) {\r\n  background-color: white;\r\n}\r\n\r\nigc-dockmanager::part(splitter) {\r\n  flex: 0 0 15px;\r\n  pointer-events: none;\r\n  visibility: hidden;\r\n}\r\n\r\nigc-dockmanager::part(splitter-base) {\r\n  background: transparent;\r\n  pointer-events: none;\r\n}\r\n\r\nigc-dockmanager::part(splitter-base)::after {\r\n  content: none;\r\n}\r\n\r\nigc-dockmanager::part(content-pane) {\r\n  border-radius: 10px;\r\n}\r\n\r\nigc-dockmanager::part(context-menu) {\r\n  background-color: wheat;\r\n}\r\n\r\nigc-dockmanager::part(floating-window) {\r\n  border-color: red;\r\n}\r\n\r\nigc-dockmanager::part(pane-header) {\r\n  display: none;\r\n}\r\n\r\nigc-dockmanager::part(document-tab-header) {\r\n  display: none;\r\n}\r\n\r\nigc-dockmanager::part(tab-strip-area) {\r\n  display: none;\r\n}\r\n\r\nigc-dockmanager::part(document-panel) {\r\n  padding: 10px;\r\n}\r\n\r\nigc-dockmanager::part(root-docking-indicator) {\r\n  background-color: red;\r\n}\r\n\r\nigc-dockmanager::part(docking-indicator) {\r\n  background-color: chocolate;\r\n}\r\n\r\nigc-dockmanager::part(docking-preview) {\r\n  background-color: chocolate;\r\n}\r\n\r\nigc-dockmanager::part(unpinned-pane-header) {\r\n  background-color: lightgreen;\r\n}\r\n\r\nigc-dockmanager::part(pane-header-actions) {\r\n  background-color: lightgreen;\r\n}\r\n\r\nigc-dockmanager::part(floating-pane-header-actions) {\r\n  background-color: lightpink;\r\n}\r\n\r\nigc-dockmanager::part(floating-window-header-actions) {\r\n  visibility: collapse;\r\n  pointer-events: none;\r\n}\r\n\r\nigc-dockmanager::part(tab-strip-actions) {\r\n  visibility: collapse;\r\n  pointer-events: none;\r\n} \r\n\r\nigc-dockmanager::part(tabs-more-button) {\r\n  color: red;\r\n}\r\n\r\nigc-dockmanager::part(context-menu-item) {\r\n  background-color: greenyellow;\r\n}\r\n\r\nigc-dockmanager::part(context-menu-content) {\r\n  background-color: coral;\r\n  padding: 5px;\r\n}\r\n\r\nigc-dockmanager::part(tabs-more-menu-content) {\r\n  background-color: plum;\r\n  padding: 5px;\r\n}\r\n\r\nigc-dockmanager::part(tabs-more-menu-item) {\r\n  background-color: cyan;\r\n} \r\n\r\nigc-dockmanager::part(content2) {\r\n  min-width: 350px;\r\n  max-height: 550px;\r\n} \r\n\r\nigc-dockmanager::part(content10) {\r\n  min-width: 350px;\r\n  max-width: 500px;\r\n  min-height: 350px;\r\n}\r\n\r\nigc-dockmanager::part(content11) {\r\n  min-width: 350px;\r\n  max-width: 500px;\r\n  min-height: 350px;\r\n}\r\n*/","import { Component, Host, Prop, h } from '@stencil/core';\r\n\r\nimport { addResourceStrings } from '../..';\r\nimport {\r\n  IgcActivePaneEventArgs, IgcContentPane, IgcDockManagerComponent, IgcDockManagerLayout, IgcDockManagerPane, IgcDockManagerPaneType, IgcDockManagerResourceStrings, IgcDockingIndicatorPosition, IgcFloatingPaneResizeEventArgs, IgcFloatingPaneResizeMoveEventArgs, IgcPaneCloseEventArgs, IgcPaneDragActionType,\r\n  IgcPaneDragOverEventArgs, IgcPanePinnedEventArgs, IgcPaneScrollEventArgs, IgcSplitPaneOrientation, IgcTabGroupPane, IgcUnpinnedLocation\r\n} from '../dockmanager/dockmanager.public-interfaces';\r\n\r\n/**\r\n * @hidden\r\n */\r\nconst customResourceStrings: IgcDockManagerResourceStrings = {\r\n  close: '[Custom]Close',\r\n  pin: '[Custom]Pin',\r\n  unpin: '[Custom]Unpin',\r\n  maximize: '[Custom]Maximize',\r\n  minimize: '[Custom]Minimize',\r\n  moreOptions: '[Custom]More options'\r\n};\r\naddResourceStrings('custom', customResourceStrings);\r\n\r\n/**\r\n * @hidden\r\n */\r\n@Component({\r\n  tag: 'sample-component',\r\n  styleUrl: 'sample-component.css',\r\n  shadow: false,\r\n  scoped: true\r\n})\r\nexport class SampleComponent {\r\n  @Prop({ mutable: true })\r\n  hiddenPanes: IgcContentPane[] = [];\r\n\r\n  dockManager: IgcDockManagerComponent;\r\n\r\n  private teamExplorerPane: IgcContentPane = {\r\n    type: IgcDockManagerPaneType.contentPane,\r\n    header: 'Team Explorer',\r\n    contentId: 'content7',\r\n    allowMaximize: true\r\n  };\r\n\r\n  private unpinnedToolboxPane: IgcContentPane = {\r\n    type: IgcDockManagerPaneType.contentPane,\r\n    header: 'Toolbox',\r\n    contentId: 'content1',\r\n    isPinned: false,\r\n    unpinnedHeaderId: \"toolboxHeader\"\r\n  };\r\n\r\n  private unpinnedTeamExplorerPane: IgcContentPane = {\r\n    type: IgcDockManagerPaneType.contentPane,\r\n    header: 'Team Explorer',\r\n    contentId: 'content14',\r\n    isPinned: false,\r\n    unpinnedHeaderId: \"teamExplorerHeader\"\r\n  };\r\n\r\n  layout1: IgcDockManagerLayout = {\r\n    rootPane: {\r\n      type: IgcDockManagerPaneType.splitPane,\r\n      orientation: IgcSplitPaneOrientation.horizontal,\r\n      panes: [\r\n        this.unpinnedToolboxPane,\r\n        this.unpinnedTeamExplorerPane,\r\n        {\r\n          type: IgcDockManagerPaneType.splitPane,\r\n          orientation: IgcSplitPaneOrientation.vertical,\r\n          size: 300,\r\n          panes: [\r\n            {\r\n              type: IgcDockManagerPaneType.documentHost,\r\n              size: 300,\r\n              rootPane: {\r\n                type: IgcDockManagerPaneType.splitPane,\r\n                orientation: IgcSplitPaneOrientation.horizontal,\r\n                allowEmpty: true,\r\n                panes: [\r\n                  {\r\n                    type: IgcDockManagerPaneType.tabGroupPane,\r\n                    panes: [\r\n                      {\r\n                        type: IgcDockManagerPaneType.contentPane,\r\n                        header: 'MainWindow.xaml',\r\n                        contentId: 'content2',\r\n                        documentOnly: true,\r\n                        // allowMaximize: false,\r\n                      },\r\n                      {\r\n                        type: IgcDockManagerPaneType.contentPane,\r\n                        header: 'MainWindow.xaml.cs',\r\n                        contentId: 'content6',\r\n                        documentOnly: true,\r\n                        allowFloating: false\r\n                      }\r\n                    ]\r\n                  },\r\n                  {\r\n                    type: IgcDockManagerPaneType.contentPane,\r\n                    header: 'App.xaml',\r\n                    contentId: 'content8',\r\n                    allowMaximize: true,\r\n                    acceptsInnerDock: false\r\n                  }\r\n                ]\r\n              }\r\n            },\r\n            {\r\n              type: IgcDockManagerPaneType.splitPane,\r\n              orientation: IgcSplitPaneOrientation.horizontal,\r\n              allowEmpty: true,\r\n              panes: []\r\n            },\r\n            {\r\n              type: IgcDockManagerPaneType.contentPane,\r\n              header: 'Error List',\r\n              contentId: 'content3',\r\n              allowDocking: false,\r\n              allowFloating: false,\r\n              allowMaximize: false\r\n            }]\r\n        },\r\n        {\r\n          type: IgcDockManagerPaneType.splitPane,\r\n          orientation: IgcSplitPaneOrientation.vertical,\r\n          panes: [\r\n            {\r\n              type: IgcDockManagerPaneType.tabGroupPane,\r\n              size: 200,\r\n              allowEmpty: true,\r\n              panes: [\r\n                {\r\n                  type: IgcDockManagerPaneType.contentPane,\r\n                  header: 'Solution Explorer',\r\n                  headerId: 'header1',\r\n                  tabHeaderId: 'tabHeader1',\r\n                  unpinnedHeaderId: 'unpinnedHeader1',\r\n                  contentId: 'content4',\r\n                  allowMaximize: false\r\n                },\r\n                this.teamExplorerPane\r\n              ]\r\n            },\r\n            {\r\n              type: IgcDockManagerPaneType.contentPane,\r\n              header: 'Properties',\r\n              contentId: 'content5',\r\n              unpinnedLocation: IgcUnpinnedLocation.top,\r\n              allowFloating: false,\r\n              allowMaximize: false\r\n            }\r\n          ]\r\n        }\r\n      ]\r\n    },\r\n    floatingPanes: [\r\n      {\r\n        type: IgcDockManagerPaneType.splitPane,\r\n        orientation: IgcSplitPaneOrientation.horizontal,\r\n        floatingLocation: { x: 50, y: 100 },\r\n        floatingWidth: 200,\r\n        floatingHeight: 100,\r\n        panes: [\r\n          {\r\n            type: IgcDockManagerPaneType.contentPane,\r\n            header: 'Notifications',\r\n            contentId: 'content9',\r\n            allowDocking: false\r\n          }\r\n        ],\r\n        // floatingResizable: true\r\n      },\r\n      {\r\n        type: IgcDockManagerPaneType.splitPane,\r\n        allowEmpty: true,\r\n        orientation: IgcSplitPaneOrientation.horizontal,\r\n        floatingLocation: { x: 250, y: 350 },\r\n        floatingWidth: 300,\r\n        floatingHeight: 200,\r\n        panes: [\r\n          {\r\n            type: IgcDockManagerPaneType.contentPane,\r\n            header: 'Floating 1',\r\n            contentId: 'content10',\r\n            acceptsInnerDock: false\r\n          },\r\n          {\r\n            type: IgcDockManagerPaneType.contentPane,\r\n            header: 'Floating 2',\r\n            contentId: 'content11',\r\n            allowMaximize: false\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        type: IgcDockManagerPaneType.splitPane,\r\n        orientation: IgcSplitPaneOrientation.horizontal,\r\n        floatingLocation: { x: 750, y: 200 },\r\n        floatingWidth: 300,\r\n        floatingHeight: 200,\r\n        panes: [\r\n          {\r\n            type: IgcDockManagerPaneType.tabGroupPane,\r\n            allowEmpty: true,\r\n            panes: [\r\n              {\r\n                type: IgcDockManagerPaneType.contentPane,\r\n                header: 'Floating Tab 1',\r\n                contentId: 'content12'\r\n              },\r\n              {\r\n                type: IgcDockManagerPaneType.contentPane,\r\n                header: 'Floating Tab 2',\r\n                contentId: 'content13'\r\n              }\r\n            ]\r\n          }\r\n        ]\r\n      }\r\n    ]\r\n  };\r\n\r\n  layout2: IgcDockManagerLayout = {\r\n    rootPane: {\r\n      type: IgcDockManagerPaneType.splitPane,\r\n      orientation: IgcSplitPaneOrientation.horizontal,\r\n      panes: [\r\n        {\r\n          type: IgcDockManagerPaneType.splitPane,\r\n          orientation: IgcSplitPaneOrientation.vertical,\r\n          panes: [\r\n            {\r\n              type: IgcDockManagerPaneType.contentPane,\r\n              contentId: 'content1',\r\n              header: 'Content Pane 1'\r\n            },\r\n            {\r\n              type: IgcDockManagerPaneType.contentPane,\r\n              contentId: 'content2',\r\n              header: 'Unpinned Pane 1',\r\n              isPinned: false\r\n            }\r\n          ]\r\n        },\r\n        {\r\n          type: IgcDockManagerPaneType.splitPane,\r\n          orientation: IgcSplitPaneOrientation.vertical,\r\n          size: 200,\r\n          panes: [\r\n            {\r\n              type: IgcDockManagerPaneType.documentHost,\r\n              size: 200,\r\n              rootPane: {\r\n                type: IgcDockManagerPaneType.splitPane,\r\n                orientation: IgcSplitPaneOrientation.horizontal,\r\n                panes: [\r\n                  {\r\n                    type: IgcDockManagerPaneType.tabGroupPane,\r\n                    panes: [\r\n                      {\r\n                        type: IgcDockManagerPaneType.contentPane,\r\n                        header: 'Document 1',\r\n                        contentId: 'content3'\r\n                      },\r\n                      {\r\n                        type: IgcDockManagerPaneType.contentPane,\r\n                        header: 'Document 2',\r\n                        contentId: 'content4'\r\n                      }\r\n                    ]\r\n                  }\r\n                ]\r\n              }\r\n            },\r\n            {\r\n              type: IgcDockManagerPaneType.contentPane,\r\n              contentId: 'content5',\r\n              header: 'Unpinned Pane 2',\r\n              isPinned: false\r\n            }\r\n          ]\r\n        },\r\n        {\r\n          type: IgcDockManagerPaneType.splitPane,\r\n          orientation: IgcSplitPaneOrientation.vertical,\r\n          panes: [\r\n            {\r\n              type: IgcDockManagerPaneType.tabGroupPane,\r\n              size: 200,\r\n              // selectedIndex: 1,\r\n              panes: [\r\n                {\r\n                  type: IgcDockManagerPaneType.contentPane,\r\n                  contentId: 'content6',\r\n                  header: 'Tab 1'\r\n                },\r\n                {\r\n                  type: IgcDockManagerPaneType.contentPane,\r\n                  contentId: 'content7',\r\n                  header: 'Tab 2'\r\n                },\r\n                {\r\n                  type: IgcDockManagerPaneType.contentPane,\r\n                  contentId: 'content8',\r\n                  header: 'Tab 3'\r\n                },\r\n                {\r\n                  type: IgcDockManagerPaneType.contentPane,\r\n                  contentId: 'content9',\r\n                  header: 'Tab 4'\r\n                },\r\n                {\r\n                  type: IgcDockManagerPaneType.contentPane,\r\n                  contentId: 'content10',\r\n                  header: 'Tab 5'\r\n                }\r\n\r\n              ]\r\n            },\r\n            {\r\n              type: IgcDockManagerPaneType.contentPane,\r\n              contentId: 'content11',\r\n              header: 'Content Pane 2'\r\n            }\r\n          ]\r\n        }\r\n      ]\r\n    },\r\n    floatingPanes: [\r\n      {\r\n        type: IgcDockManagerPaneType.splitPane,\r\n        orientation: IgcSplitPaneOrientation.horizontal,\r\n        floatingHeight: 150,\r\n        floatingWidth: 250,\r\n        floatingLocation: { x: 300, y: 200 },\r\n        panes: [\r\n          {\r\n            type: IgcDockManagerPaneType.contentPane,\r\n            contentId: 'content12',\r\n            header: 'Floating Pane'\r\n          }\r\n        ]\r\n      }\r\n    ]\r\n  };\r\n\r\n  layout: IgcDockManagerLayout = this.layout1;\r\n\r\n  private hiddenPanesSelect: HTMLSelectElement;\r\n  private hideOnCloseCheckbox: HTMLInputElement;\r\n  private savedLayout: string;\r\n  private logEnabled = false;\r\n\r\n  private saveLayout() {\r\n    this.savedLayout = JSON.stringify(this.dockManager.layout);\r\n  }\r\n\r\n  private loadLayout() {\r\n    this.dockManager.layout = JSON.parse(this.savedLayout);\r\n  }\r\n\r\n  private setActivePane() {\r\n    // this.dockManager.activePane = this.teamExplorerPane;\r\n    this.dockManager.activePane = this.unpinnedToolboxPane;\r\n  }\r\n\r\n  private id = 100;\r\n  private newId: string;\r\n\r\n  private addPane() {\r\n    this.newId = `content${this.id++}`;\r\n    const newDiv = this.createElement(this.newId, 'input');\r\n    this.dockManager.appendChild(newDiv);\r\n\r\n    this.layout.floatingPanes[1].panes.push({\r\n      type: IgcDockManagerPaneType.contentPane,\r\n      header: 'NewPane',\r\n      contentId: this.newId\r\n    });\r\n\r\n    this.dockManager.layout = { ...this.layout };\r\n  }\r\n\r\n  private addTab() {\r\n    this.findElement(this.layout.rootPane, IgcDockManagerPaneType.tabGroupPane);\r\n\r\n    this.newId = `content${this.id++}`;\r\n    const newDiv = this.createElement(this.newId, 'button');\r\n    this.dockManager.appendChild(newDiv);\r\n\r\n    const tabGroupPane = this.foundElem[0] as IgcTabGroupPane;\r\n    tabGroupPane.panes.push({\r\n      type: IgcDockManagerPaneType.contentPane,\r\n      header: 'NewTab',\r\n      contentId: this.newId\r\n    });\r\n\r\n    this.dockManager.layout = { ...this.layout };\r\n  }\r\n\r\n  private disableContentPane() {\r\n    this.findElement(this.layout.rootPane, IgcDockManagerPaneType.tabGroupPane);\r\n\r\n    const tabGroupPane = this.foundElem[0] as IgcTabGroupPane;\r\n    tabGroupPane.panes[0].disabled = true;\r\n    this.dockManager.layout = { ...this.layout };\r\n  }\r\n\r\n  private toggleProximityDock() {\r\n    this.dockManager.proximityDock = !this.dockManager.proximityDock;\r\n  }\r\n\r\n  private focusPane() {\r\n    this.dockManager.focusPane('content12');\r\n  }\r\n\r\n  private foundElem: IgcDockManagerPane[] = [];\r\n  private findElement(pane: IgcDockManagerPane, type: IgcDockManagerPaneType) {\r\n    if (!pane) { return; }\r\n\r\n    if (pane.type === type) {\r\n      this.foundElem.push(pane);\r\n    }\r\n\r\n    if (pane.type === IgcDockManagerPaneType.tabGroupPane || pane.type === IgcDockManagerPaneType.splitPane) {\r\n      for (const c of pane.panes) {\r\n        this.findElement(c, type);\r\n      }\r\n    }\r\n\r\n    if (pane.type === IgcDockManagerPaneType.documentHost) {\r\n      this.findElement(pane.rootPane, type);\r\n    }\r\n  }\r\n\r\n  private showPane() {\r\n    const index = this.hiddenPanesSelect.selectedIndex;\r\n\r\n    if (index >= 0) {\r\n      this.hiddenPanes[index].hidden = false;\r\n      this.hiddenPanes.splice(index, 1);\r\n      this.hiddenPanes = [...this.hiddenPanes];\r\n      this.dockManager.layout = { ...this.dockManager.layout };\r\n    }\r\n  }\r\n\r\n  private showAllPanes() {\r\n    if (this.hiddenPanes.length > 0) {\r\n      for (const pane of this.hiddenPanes) {\r\n        pane.hidden = false;\r\n      }\r\n      this.hiddenPanes = [];\r\n      this.dockManager.layout = { ...this.dockManager.layout };\r\n    }\r\n  }\r\n\r\n  private toggleInBoundaries() {\r\n    this.dockManager.containedInBoundaries = !this.dockManager.containedInBoundaries;\r\n  }\r\n\r\n  private createElement(content: string, typeOfElement: string): HTMLElement {\r\n    const someContent = document.createTextNode(content);\r\n    let elem: HTMLElement;\r\n    switch (typeOfElement) {\r\n      case ('button'):\r\n        elem = document.createElement('button');\r\n        elem.appendChild(someContent);\r\n        break;\r\n      case ('input'):\r\n        elem = document.createElement('input');\r\n        break;\r\n    }\r\n\r\n    const divContent = document.createElement('div');\r\n    divContent.appendChild(elem ? elem : someContent);\r\n    divContent.setAttribute('slot', content);\r\n    divContent.setAttribute('style', 'width: 100%; height: 100%;');\r\n\r\n    return divContent;\r\n  }\r\n\r\n  private handlePaneClose(event: CustomEvent<IgcPaneCloseEventArgs>) {\r\n    this.log(event);\r\n\r\n    if (this.hideOnCloseCheckbox.checked) {\r\n      for (const pane of event.detail.panes) {\r\n        pane.hidden = true;\r\n        this.hiddenPanes.splice(0, 0, pane);\r\n        this.hiddenPanes = [...this.hiddenPanes];\r\n      }\r\n      event.preventDefault();\r\n    }\r\n\r\n    // const panes = event.detail.panes;\r\n    // const confirmed = confirm(`Are you sure you want to close panes '${panes.map(p => p.header).join(', ')}'?`);\r\n    // // event.detail.panes = [panes[0]];\r\n    // if (confirmed) {\r\n    //   for (const pane of panes) {\r\n    //     const contentChild = this.dockManager.querySelector(`[slot=${pane.contentId}]`);\r\n    //     this.dockManager.removeChild(contentChild);\r\n    //   }\r\n    // } else {\r\n    //   event.preventDefault();\r\n    // }\r\n  }\r\n\r\n  private handlePaneScroll(event: CustomEvent<IgcPaneScrollEventArgs>) {\r\n    this.log(event);\r\n\r\n    // // check if the pane content is scrolled to bottom\r\n    // let scrolledToBottom = false;\r\n    // const contentEl = event.detail.contentElement;\r\n    // if (contentEl.scrollHeight - contentEl.scrollTop - contentEl.clientHeight < 1)\r\n    // {\r\n    //   scrolledToBottom = true;\r\n    // }\r\n    // this.log(\"Scrolled to bottom: \" + scrolledToBottom);\r\n  }\r\n\r\n  private handlePinnedToggle(event: CustomEvent<IgcPanePinnedEventArgs>) {\r\n    this.log(event);\r\n    // if (event.detail.sourcePane.type === IgcDockManagerPaneType.contentPane) {\r\n    //   event.detail.panes = [event.detail.sourcePane];\r\n    // }\r\n    // event.preventDefault();\r\n  }\r\n\r\n  private handleActivePaneChanged(event: CustomEvent<IgcActivePaneEventArgs>) {\r\n    this.log(event);\r\n  }\r\n\r\n  private handleDragStart(event: CustomEvent) {\r\n    this.log(event);\r\n\r\n    // event.preventDefault();\r\n  }\r\n\r\n  private handleDragOver(event: CustomEvent<IgcPaneDragOverEventArgs>) {\r\n    const args = event.detail;\r\n    this.log(args.action);\r\n\r\n    if (args.action.type === IgcPaneDragActionType.dockPane) {\r\n      if (args.action.dockingIndicator.position === IgcDockingIndicatorPosition.left) {\r\n        // args.isValid = false;\r\n      }\r\n    } else if (args.action.type === IgcPaneDragActionType.floatPane) {\r\n      // args.action.height = Math.min(args.action.height, 500);\r\n      // args.isValid = false;\r\n    } else if (args.action.type === IgcPaneDragActionType.moveFloatingPane) {\r\n      // if (args.action.newLocation.y < 0) {\r\n      //   args.isValid = false;\r\n      // }\r\n    }\r\n  }\r\n\r\n  private handleDragEnd(event: CustomEvent) {\r\n    this.log(event);\r\n  }\r\n\r\n  private handleSplitterResizeStart(event: CustomEvent) {\r\n    this.log(event, { ...event.detail });\r\n    // event.preventDefault();\r\n  }\r\n\r\n  private handleSplitterResizeEnd(event: CustomEvent) {\r\n    this.log(event, { ...event.detail });\r\n  }\r\n\r\n  private handleFloatingPaneResizeStart(event: CustomEvent<IgcFloatingPaneResizeEventArgs>) {\r\n    this.log(event, { ...event.detail });\r\n    // event.preventDefault();\r\n  }\r\n\r\n  private handleFloatingPaneResizeMove(event: CustomEvent<IgcFloatingPaneResizeMoveEventArgs>) {\r\n    this.log(event, { ...event.detail });\r\n  }\r\n\r\n  private handleFloatingPaneResizeEnd(event: CustomEvent<IgcFloatingPaneResizeEventArgs>) {\r\n    this.log(event, { ...event.detail });\r\n  }\r\n\r\n  private handleLayoutChange(event: CustomEvent<any>) {\r\n    this.log(event);\r\n  }\r\n\r\n  // private getCustomResourceStrings(): IgcDockManagerResourceStrings {\r\n  //   const customResourceStrings: IgcDockManagerResourceStrings = {\r\n  //     close: '[Custom]Close',\r\n  //     pin: '[Custom]Pin',\r\n  //     unpin: '[Custom]Unpin',\r\n  //     maximize: '[Custom]Maximize',\r\n  //     minimize: '[Custom]Minimize',\r\n  //     moreOptions: '[Custom]More options'\r\n  //   };\r\n\r\n  //   return customResourceStrings;\r\n  // }\r\n\r\n  private log(message?: any, ...optionalParams: any[]) {\r\n    if (this.logEnabled) {\r\n      console.log(message, optionalParams);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (<Host>\r\n      <div>\r\n        <button onClick={() => this.saveLayout()}>Save Layout</button>\r\n        <button onClick={() => this.loadLayout()}>Load Layout</button>\r\n        <button onClick={() => this.setActivePane()}>Set Active Pane</button>\r\n        <button onClick={() => this.addPane()}>Add Floating Pane</button>\r\n        <button onClick={() => this.addTab()}>Add Tab Pane</button>\r\n        <button onClick={() => this.disableContentPane()}>Disable Tab Pane</button>\r\n        <button onClick={() => this.focusPane()}>Focus Pane</button>\r\n        <button onClick={() => this.toggleProximityDock()}>Toggle Proximity Dock</button>\r\n        <input\r\n          id=\"hideOnClose\"\r\n          type=\"checkbox\"\r\n          style={{ marginLeft: '20px' }}\r\n          ref={el => this.hideOnCloseCheckbox = el}\r\n        />\r\n        <label htmlFor=\"hideOnClose\">Hide on close</label>\r\n        <span style={{ marginLeft: '20px' }}>Hidden Panes:</span>\r\n        <select\r\n          style={{ width: '150px' }}\r\n          ref={el => this.hiddenPanesSelect = el}\r\n        >\r\n          {this.hiddenPanes.map(p => {\r\n            return (\r\n              <option value={p.id}>{p.header}</option>\r\n            );\r\n          })}\r\n        </select>\r\n        <button onClick={() => this.showPane()}>Show Pane</button>\r\n        <button onClick={() => this.showAllPanes()}>Show All Panes</button>\r\n        <button onClick={() => this.toggleInBoundaries()}>Toggle In Boundaries</button>\r\n      </div>\r\n      <igc-dockmanager\r\n        layout={this.layout}\r\n        onPaneClose={this.handlePaneClose.bind(this)}\r\n        onPaneScroll={this.handlePaneScroll.bind(this)}\r\n        onPanePinnedToggle={this.handlePinnedToggle.bind(this)}\r\n        onActivePaneChanged={this.handleActivePaneChanged.bind(this)}\r\n        onPaneDragStart={this.handleDragStart.bind(this)}\r\n        onPaneDragOver={this.handleDragOver.bind(this)}\r\n        onPaneDragEnd={this.handleDragEnd.bind(this)}\r\n        onSplitterResizeStart={this.handleSplitterResizeStart.bind(this)}\r\n        onSplitterResizeEnd={this.handleSplitterResizeEnd.bind(this)}\r\n        onFloatingPaneResizeStart={this.handleFloatingPaneResizeStart.bind(this)}\r\n        onFloatingPaneResizeMove={this.handleFloatingPaneResizeMove.bind(this)}\r\n        onFloatingPaneResizeEnd={this.handleFloatingPaneResizeEnd.bind(this)}\r\n        onLayoutChange={this.handleLayoutChange.bind(this)}\r\n        // resourceStrings={this.getCustomResourceStrings()}\r\n        ref={el => this.dockManager = el}\r\n        // allowFloatingPanesResize={false}\r\n        showHeaderIconOnHover={'closeOnly'}\r\n        // contextMenuPosition='start'\r\n        // allowInnerDock={false}\r\n        // proximityDock={true}\r\n        // showPaneHeaders='onHoverOnly'\r\n      >\r\n        <div slot=\"header1\">\r\n          <span style={{ color: 'red' }}>Solution Explorer</span>\r\n          <button>H</button>\r\n        </div>\r\n        <div slot=\"tabHeader1\">\r\n          <span style={{ color: 'orange' }}>Solution Explorer</span>\r\n          <button>T</button>\r\n        </div>\r\n        <div slot=\"unpinnedHeader1\">\r\n          <span style={{ color: 'blue' }}>Solution Explorer</span>\r\n          <button>U</button>\r\n        </div>\r\n\r\n        <button style={{ background: 'pink' }} slot=\"tabHeaderCloseButton\">Y</button>\r\n        {/* <button style={{ background: 'aqua' }} slot=\"paneHeaderCloseButton\">X</button>\r\n        <button style={{ background: 'pink' }} slot=\"tabHeaderCloseButton\">Y</button>\r\n        <button style={{ background: 'lightblue' }} slot=\"moreTabsButton\">...</button>\r\n        <button style={{ background: 'aqua' }} slot=\"maximizeButton\">︿</button>\r\n        <button style={{ background: 'mediumvioletred' }} slot=\"minimizeButton\">﹀</button>\r\n        <button style={{ background: 'lightgreen' }} slot=\"pinButton\">P</button>\r\n         <button style={{ background: 'red' }} slot=\"unpinButton\">U</button>\r\n        <button style={{ background: 'blue' }} slot=\"moreOptionsButton\"><div><span>≣</span></div></button>\r\n        <button style={{ background: 'green' }} slot=\"splitterHandle\">S</button> */}\r\n\r\n        <div slot=\"content1\" style={{ width: '100%', height: '100%' }}>Content 1</div>\r\n        <div slot=\"content2\" style={{ width: '100%', height: '100%' }}>\r\n          <button>Tests</button>\r\n        </div>\r\n        <div slot=\"content3\" style={{ width: '100%', height: '100%' }}>Content 3</div>\r\n        <div slot=\"content4\">Content 4</div>\r\n        <div slot=\"content5\" style={{ width: '100%', height: '100%' }}>Content 5</div>\r\n        <div slot=\"content6\" style={{ width: '100%', height: '100%' }}>Content 6</div>\r\n        <div slot=\"content7\" style={{ width: '100%', height: '100%' }}>Content 7</div>\r\n        <div slot=\"content8\">Content 8</div>\r\n        <div slot=\"content9\" style={{ width: '100%', height: '100%' }}>Content 9</div>\r\n        <div slot=\"content10\" style={{ width: '100%', height: '100%' }}>\r\n          <button>Test</button>\r\n        </div>\r\n        <div slot=\"content11\" style={{ width: '100%', height: '100%' }}>\r\n          <input />\r\n        </div>\r\n        <div slot=\"content12\" style={{ width: '100%', height: '100%' }}>\r\n          <p>Content 12 </p>\r\n          <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. </p>\r\n        </div>\r\n        <div slot=\"content13\" style={{ width: '100%', height: '100%' }}>Content 13</div>\r\n        <div slot=\"content14\" style={{ width: '100%', height: '100%' }}>Content 14</div>\r\n\r\n        <div slot=\"toolboxHeader\">\r\n          <span>[U] Toolbox</span>\r\n        </div>\r\n        <div slot=\"teamExplorerHeader\">\r\n          <span>[U] Team Explorer</span>\r\n        </div>\r\n\r\n      </igc-dockmanager>\r\n    </Host>);\r\n  }\r\n}\r\n"],"mappings":"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"}